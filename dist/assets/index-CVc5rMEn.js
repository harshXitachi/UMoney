(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function qx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gx={exports:{}},Yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1=Symbol.for("react.transitional.element"),_1=Symbol.for("react.fragment");function Qx(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:b1,type:t,key:s,ref:e!==void 0?e:null,props:n}}Yu.Fragment=_1;Yu.jsx=Qx;Yu.jsxs=Qx;Gx.exports=Yu;var l=Gx.exports,Yx={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=Symbol.for("react.transitional.element"),E1=Symbol.for("react.portal"),w1=Symbol.for("react.fragment"),T1=Symbol.for("react.strict_mode"),S1=Symbol.for("react.profiler"),N1=Symbol.for("react.consumer"),A1=Symbol.for("react.context"),R1=Symbol.for("react.forward_ref"),C1=Symbol.for("react.suspense"),I1=Symbol.for("react.memo"),Kx=Symbol.for("react.lazy"),j1=Symbol.for("react.activity"),Iy=Symbol.iterator;function D1(t){return t===null||typeof t!="object"?null:(t=Iy&&t[Iy]||t["@@iterator"],typeof t=="function"?t:null)}var $x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xx=Object.assign,Wx={};function va(t,e,n){this.props=t,this.context=e,this.refs=Wx,this.updater=n||$x}va.prototype.isReactComponent={};va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jx(){}Jx.prototype=va.prototype;function Rm(t,e,n){this.props=t,this.context=e,this.refs=Wx,this.updater=n||$x}var Cm=Rm.prototype=new Jx;Cm.constructor=Rm;Xx(Cm,va.prototype);Cm.isPureReactComponent=!0;var jy=Array.isArray;function nf(){}var Oe={H:null,A:null,T:null,S:null},Zx=Object.prototype.hasOwnProperty;function Im(t,e,n){var s=n.ref;return{$$typeof:Am,type:t,key:e,ref:s!==void 0?s:null,props:n}}function O1(t,e){return Im(t.type,e,t.props)}function jm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Am}function k1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dy=/\/+/g;function sd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?k1(""+t.key):e.toString(36)}function M1(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(nf,nf):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function xr(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Am:case E1:a=!0;break;case Kx:return a=t._init,xr(a(t._payload),e,n,s,i)}}if(a)return i=i(t),a=s===""?"."+sd(t,0):s,jy(i)?(n="",a!=null&&(n=a.replace(Dy,"$&/")+"/"),xr(i,e,n,"",function(h){return h})):i!=null&&(jm(i)&&(i=O1(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(Dy,"$&/")+"/")+a)),e.push(i)),1;a=0;var c=s===""?".":s+":";if(jy(t))for(var u=0;u<t.length;u++)s=t[u],r=c+sd(s,u),a+=xr(s,e,n,r,i);else if(u=D1(t),typeof u=="function")for(t=u.call(t),u=0;!(s=t.next()).done;)s=s.value,r=c+sd(s,u++),a+=xr(s,e,n,r,i);else if(r==="object"){if(typeof t.then=="function")return xr(M1(t),e,n,s,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Xo(t,e,n){if(t==null)return t;var s=[],i=0;return xr(t,s,"","",function(r){return e.call(n,r,i++)}),s}function P1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Oy=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},V1={map:Xo,forEach:function(t,e,n){Xo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xo(t,function(){e++}),e},toArray:function(t){return Xo(t,function(e){return e})||[]},only:function(t){if(!jm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Activity=j1;ne.Children=V1;ne.Component=va;ne.Fragment=w1;ne.Profiler=S1;ne.PureComponent=Rm;ne.StrictMode=T1;ne.Suspense=C1;ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Oe;ne.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Oe.H.useMemoCache(t)}};ne.cache=function(t){return function(){return t.apply(null,arguments)}};ne.cacheSignal=function(){return null};ne.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=Xx({},t.props),i=t.key;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)!Zx.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(s[r]=e[r]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var a=Array(r),c=0;c<r;c++)a[c]=arguments[c+2];s.children=a}return Im(t.type,i,s)};ne.createContext=function(t){return t={$$typeof:A1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:N1,_context:t},t};ne.createElement=function(t,e,n){var s,i={},r=null;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)Zx.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return Im(t,r,i)};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:R1,render:t}};ne.isValidElement=jm;ne.lazy=function(t){return{$$typeof:Kx,_payload:{_status:-1,_result:t},_init:P1}};ne.memo=function(t,e){return{$$typeof:I1,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Oe.T,n={};Oe.T=n;try{var s=t(),i=Oe.S;i!==null&&i(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(nf,Oy)}catch(r){Oy(r)}finally{e!==null&&n.types!==null&&(e.types=n.types),Oe.T=e}};ne.unstable_useCacheRefresh=function(){return Oe.H.useCacheRefresh()};ne.use=function(t){return Oe.H.use(t)};ne.useActionState=function(t,e,n){return Oe.H.useActionState(t,e,n)};ne.useCallback=function(t,e){return Oe.H.useCallback(t,e)};ne.useContext=function(t){return Oe.H.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t,e){return Oe.H.useDeferredValue(t,e)};ne.useEffect=function(t,e){return Oe.H.useEffect(t,e)};ne.useEffectEvent=function(t){return Oe.H.useEffectEvent(t)};ne.useId=function(){return Oe.H.useId()};ne.useImperativeHandle=function(t,e,n){return Oe.H.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return Oe.H.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Oe.H.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Oe.H.useMemo(t,e)};ne.useOptimistic=function(t,e){return Oe.H.useOptimistic(t,e)};ne.useReducer=function(t,e,n){return Oe.H.useReducer(t,e,n)};ne.useRef=function(t){return Oe.H.useRef(t)};ne.useState=function(t){return Oe.H.useState(t)};ne.useSyncExternalStore=function(t,e,n){return Oe.H.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return Oe.H.useTransition()};ne.version="19.2.3";Yx.exports=ne;var C=Yx.exports;const eb=qx(C);var tb={exports:{}},Ku={},nb={exports:{}},sb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,q){var Z=F.length;F.push(q);e:for(;0<Z;){var ye=Z-1>>>1,Re=F[ye];if(0<i(Re,q))F[ye]=q,F[Z]=Re,Z=ye;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var q=F[0],Z=F.pop();if(Z!==q){F[0]=Z;e:for(var ye=0,Re=F.length,gn=Re>>>1;ye<gn;){var yn=2*(ye+1)-1,Rn=F[yn],ht=yn+1,en=F[ht];if(0>i(Rn,Z))ht<Re&&0>i(en,Rn)?(F[ye]=en,F[ht]=Z,ye=ht):(F[ye]=Rn,F[yn]=Z,ye=yn);else if(ht<Re&&0>i(en,Z))F[ye]=en,F[ht]=Z,ye=ht;else break e}}return q}function i(F,q){var Z=F.sortIndex-q.sortIndex;return Z!==0?Z:F.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],h=[],f=1,m=null,p=3,y=!1,R=!1,j=!1,O=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function I(F){for(var q=n(h);q!==null;){if(q.callback===null)s(h);else if(q.startTime<=F)s(h),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(h)}}function z(F){if(j=!1,I(F),!R)if(n(u)!==null)R=!0,B||(B=!0,D());else{var q=n(h);q!==null&&ie(z,q.startTime-F)}}var B=!1,w=-1,v=5,E=-1;function S(){return O?!0:!(t.unstable_now()-E<v)}function A(){if(O=!1,B){var F=t.unstable_now();E=F;var q=!0;try{e:{R=!1,j&&(j=!1,_(w),w=-1),y=!0;var Z=p;try{t:{for(I(F),m=n(u);m!==null&&!(m.expirationTime>F&&S());){var ye=m.callback;if(typeof ye=="function"){m.callback=null,p=m.priorityLevel;var Re=ye(m.expirationTime<=F);if(F=t.unstable_now(),typeof Re=="function"){m.callback=Re,I(F),q=!0;break t}m===n(u)&&s(u),I(F)}else s(u);m=n(u)}if(m!==null)q=!0;else{var gn=n(h);gn!==null&&ie(z,gn.startTime-F),q=!1}}break e}finally{m=null,p=Z,y=!1}q=void 0}}finally{q?D():B=!1}}}var D;if(typeof T=="function")D=function(){T(A)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,we=N.port2;N.port1.onmessage=A,D=function(){we.postMessage(null)}}else D=function(){b(A,0)};function ie(F,q){w=b(function(){F(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var Z=p;p=q;try{return F()}finally{p=Z}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Z=p;p=F;try{return q()}finally{p=Z}},t.unstable_scheduleCallback=function(F,q,Z){var ye=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ye+Z:ye):Z=ye,F){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=Z+Re,F={id:f++,callback:q,priorityLevel:F,startTime:Z,expirationTime:Re,sortIndex:-1},Z>ye?(F.sortIndex=Z,e(h,F),n(u)===null&&F===n(h)&&(j?(_(w),w=-1):j=!0,ie(z,Z-ye))):(F.sortIndex=Re,e(u,F),R||y||(R=!0,B||(B=!0,D()))),F},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(F){var q=p;return function(){var Z=p;p=q;try{return F.apply(this,arguments)}finally{p=Z}}}})(sb);nb.exports=sb;var U1=nb.exports,ib={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1=C;function rb(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ds(){}var Rt={d:{f:Ds,r:function(){throw Error(rb(522))},D:Ds,C:Ds,L:Ds,m:Ds,X:Ds,S:Ds,M:Ds},p:0,findDOMNode:null},z1=Symbol.for("react.portal");function B1(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z1,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var bl=L1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function $u(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt;Ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(rb(299));return B1(t,e,null,n)};Ct.flushSync=function(t){var e=bl.T,n=Rt.p;try{if(bl.T=null,Rt.p=2,t)return t()}finally{bl.T=e,Rt.p=n,Rt.d.f()}};Ct.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Rt.d.C(t,e))};Ct.prefetchDNS=function(t){typeof t=="string"&&Rt.d.D(t)};Ct.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=$u(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Rt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:i,fetchPriority:r}):n==="script"&&Rt.d.X(t,{crossOrigin:s,integrity:i,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ct.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=$u(e.as,e.crossOrigin);Rt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Rt.d.M(t)};Ct.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=$u(n,e.crossOrigin);Rt.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ct.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=$u(e.as,e.crossOrigin);Rt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Rt.d.m(t)};Ct.requestFormReset=function(t){Rt.d.r(t)};Ct.unstable_batchedUpdates=function(t,e){return t(e)};Ct.useFormState=function(t,e,n){return bl.H.useFormState(t,e,n)};Ct.useFormStatus=function(){return bl.H.useHostTransitionStatus()};Ct.version="19.2.3";function ab(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ab)}catch(t){console.error(t)}}ab(),ib.exports=Ct;var F1=ib.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rt=U1,lb=C,H1=F1;function U(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ob(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ho(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ub(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ky(t){if(ho(t)!==t)throw Error(U(188))}function q1(t){var e=t.alternate;if(!e){if(e=ho(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return ky(i),t;if(r===s)return ky(i),e;r=r.sibling}throw Error(U(188))}if(n.return!==s.return)n=i,s=r;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,s=r;break}if(c===s){a=!0,s=i,n=r;break}c=c.sibling}if(!a){for(c=r.child;c;){if(c===n){a=!0,n=r,s=i;break}if(c===s){a=!0,s=r,n=i;break}c=c.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==s)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function hb(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=hb(t),e!==null)return e;t=t.sibling}return null}var ke=Object.assign,G1=Symbol.for("react.element"),Wo=Symbol.for("react.transitional.element"),cl=Symbol.for("react.portal"),Nr=Symbol.for("react.fragment"),db=Symbol.for("react.strict_mode"),sf=Symbol.for("react.profiler"),fb=Symbol.for("react.consumer"),Zn=Symbol.for("react.context"),Dm=Symbol.for("react.forward_ref"),rf=Symbol.for("react.suspense"),af=Symbol.for("react.suspense_list"),Om=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),lf=Symbol.for("react.activity"),Q1=Symbol.for("react.memo_cache_sentinel"),My=Symbol.iterator;function Za(t){return t===null||typeof t!="object"?null:(t=My&&t[My]||t["@@iterator"],typeof t=="function"?t:null)}var Y1=Symbol.for("react.client.reference");function of(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Y1?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nr:return"Fragment";case sf:return"Profiler";case db:return"StrictMode";case rf:return"Suspense";case af:return"SuspenseList";case lf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case cl:return"Portal";case Zn:return t.displayName||"Context";case fb:return(t._context.displayName||"Context")+".Consumer";case Dm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Om:return e=t.displayName||null,e!==null?e:of(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return of(t(e))}catch{}}return null}var ul=Array.isArray,J=lb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=H1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,zi={pending:!1,data:null,method:null,action:null},cf=[],Ar=-1;function Fn(t){return{current:t}}function ut(t){0>Ar||(t.current=cf[Ar],cf[Ar]=null,Ar--)}function Ae(t,e){Ar++,cf[Ar]=t.current,t.current=e}var Mn=Fn(null),zl=Fn(null),Xs=Fn(null),Yc=Fn(null);function Kc(t,e){switch(Ae(Xs,e),Ae(zl,t),Ae(Mn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?B0(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=B0(e),t=OE(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ut(Mn),Ae(Mn,t)}function Zr(){ut(Mn),ut(zl),ut(Xs)}function uf(t){t.memoizedState!==null&&Ae(Yc,t);var e=Mn.current,n=OE(e,t.type);e!==n&&(Ae(zl,t),Ae(Mn,n))}function $c(t){zl.current===t&&(ut(Mn),ut(zl)),Yc.current===t&&(ut(Yc),Wl._currentValue=zi)}var id,Py;function ki(t){if(id===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);id=e&&e[1]||"",Py=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+id+t+Py}var rd=!1;function ad(t,e){if(!t||rd)return"";rd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(y){var p=y}Reflect.construct(t,[],m)}else{try{m.call()}catch(y){p=y}t.call(m.prototype)}}else{try{throw Error()}catch(y){p=y}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),a=r[0],c=r[1];if(a&&c){var u=a.split(`
`),h=c.split(`
`);for(i=s=0;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;for(;i<h.length&&!h[i].includes("DetermineComponentFrameRoot");)i++;if(s===u.length||i===h.length)for(s=u.length-1,i=h.length-1;1<=s&&0<=i&&u[s]!==h[i];)i--;for(;1<=s&&0<=i;s--,i--)if(u[s]!==h[i]){if(s!==1||i!==1)do if(s--,i--,0>i||u[s]!==h[i]){var f=`
`+u[s].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=s&&0<=i);break}}}finally{rd=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ki(n):""}function K1(t,e){switch(t.tag){case 26:case 27:case 5:return ki(t.type);case 16:return ki("Lazy");case 13:return t.child!==e&&e!==null?ki("Suspense Fallback"):ki("Suspense");case 19:return ki("SuspenseList");case 0:case 15:return ad(t.type,!1);case 11:return ad(t.type.render,!1);case 1:return ad(t.type,!0);case 31:return ki("Activity");default:return""}}function Vy(t){try{var e="",n=null;do e+=K1(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var hf=Object.prototype.hasOwnProperty,km=rt.unstable_scheduleCallback,ld=rt.unstable_cancelCallback,$1=rt.unstable_shouldYield,X1=rt.unstable_requestPaint,Qt=rt.unstable_now,W1=rt.unstable_getCurrentPriorityLevel,mb=rt.unstable_ImmediatePriority,pb=rt.unstable_UserBlockingPriority,Xc=rt.unstable_NormalPriority,J1=rt.unstable_LowPriority,gb=rt.unstable_IdlePriority,Z1=rt.log,eN=rt.unstable_setDisableYieldValue,fo=null,Yt=null;function qs(t){if(typeof Z1=="function"&&eN(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(fo,t)}catch{}}var Kt=Math.clz32?Math.clz32:sN,tN=Math.log,nN=Math.LN2;function sN(t){return t>>>=0,t===0?32:31-(tN(t)/nN|0)|0}var Jo=256,Zo=262144,ec=4194304;function Mi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xu(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var i=0,r=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var c=s&134217727;return c!==0?(s=c&~r,s!==0?i=Mi(s):(a&=c,a!==0?i=Mi(a):n||(n=c&~t,n!==0&&(i=Mi(n))))):(c=s&~r,c!==0?i=Mi(c):a!==0?i=Mi(a):n||(n=s&~t,n!==0&&(i=Mi(n)))),i===0?0:e!==0&&e!==i&&!(e&r)&&(r=i&-i,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:i}function mo(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function iN(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yb(){var t=ec;return ec<<=1,!(ec&62914560)&&(ec=4194304),t}function od(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function po(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rN(t,e,n,s,i,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var c=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-Kt(n),m=1<<f;c[f]=0,u[f]=-1;var p=h[f];if(p!==null)for(h[f]=null,f=0;f<p.length;f++){var y=p[f];y!==null&&(y.lane&=-536870913)}n&=~m}s!==0&&vb(t,s,0),r!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=r&~(a&~e))}function vb(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Kt(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function xb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Kt(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}function bb(t,e){var n=e&-e;return n=n&42?1:Mm(n),n&(t.suspendedLanes|e)?0:n}function Mm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function _b(){var t=ge.p;return t!==0?t:(t=window.event,t===void 0?32:qE(t.type))}function Uy(t,e){var n=ge.p;try{return ge.p=t,e()}finally{ge.p=n}}var Ei=Math.random().toString(36).slice(2),mt="__reactFiber$"+Ei,Vt="__reactProps$"+Ei,xa="__reactContainer$"+Ei,df="__reactEvents$"+Ei,aN="__reactListeners$"+Ei,lN="__reactHandles$"+Ei,Ly="__reactResources$"+Ei,go="__reactMarker$"+Ei;function Vm(t){delete t[mt],delete t[Vt],delete t[df],delete t[aN],delete t[lN]}function Rr(t){var e=t[mt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xa]||n[mt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Q0(t);t!==null;){if(n=t[mt])return n;t=Q0(t)}return e}t=n,n=t.parentNode}return null}function ba(t){if(t=t[mt]||t[xa]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function hl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(U(33))}function Lr(t){var e=t[Ly];return e||(e=t[Ly]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ct(t){t[go]=!0}var Eb=new Set,wb={};function ar(t,e){ea(t,e),ea(t+"Capture",e)}function ea(t,e){for(wb[t]=e,t=0;t<e.length;t++)Eb.add(e[t])}var oN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zy={},By={};function cN(t){return hf.call(By,t)?!0:hf.call(zy,t)?!1:oN.test(t)?By[t]=!0:(zy[t]=!0,!1)}function bc(t,e,n){if(cN(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function tc(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Qn(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uN(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,r=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ff(t){if(!t._valueTracker){var e=Tb(t)?"checked":"value";t._valueTracker=uN(t,e,""+t[e])}}function Sb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Tb(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hN=/[\n"\\]/g;function an(t){return t.replace(hN,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mf(t,e,n,s,i,r,a,c){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+nn(e)):t.value!==""+nn(e)&&(t.value=""+nn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?pf(t,a,nn(e)):n!=null?pf(t,a,nn(n)):s!=null&&t.removeAttribute("value"),i==null&&r!=null&&(t.defaultChecked=!!r),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?t.name=""+nn(c):t.removeAttribute("name")}function Nb(t,e,n,s,i,r,a,c){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null)){ff(t);return}n=n!=null?""+nn(n):"",e=e!=null?""+nn(e):n,c||e===t.value||(t.value=e),t.defaultValue=e}s=s??i,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=c?t.checked:!!s,t.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),ff(t)}function pf(t,e,n){e==="number"&&Wc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function zr(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+nn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ab(t,e,n){if(e!=null&&(e=""+nn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+nn(n):""}function Rb(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(U(92));if(ul(s)){if(1<s.length)throw Error(U(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=nn(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),ff(t)}function ta(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fy(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||dN.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Cb(t,e,n){if(e!=null&&typeof e!="object")throw Error(U(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var i in e)s=e[i],e.hasOwnProperty(i)&&n[i]!==s&&Fy(t,i,s)}else for(var r in e)e.hasOwnProperty(r)&&Fy(t,r,e[r])}function Um(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _c(t){return mN.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function es(){}var gf=null;function Lm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Br=null;function Hy(t){var e=ba(t);if(e&&(t=e.stateNode)){var n=t[Vt]||null;e:switch(t=e.stateNode,e.type){case"input":if(mf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+an(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=s[Vt]||null;if(!i)throw Error(U(90));mf(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&Sb(s)}break e;case"textarea":Ab(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&zr(t,!!n.multiple,e,!1)}}}var cd=!1;function Ib(t,e,n){if(cd)return t(e,n);cd=!0;try{var s=t(e);return s}finally{if(cd=!1,(Cr!==null||Br!==null)&&(oh(),Cr&&(e=Cr,t=Br,Br=Cr=null,Hy(e),t)))for(e=0;e<t.length;e++)Hy(t[e])}}function Bl(t,e){var n=t.stateNode;if(n===null)return null;var s=n[Vt]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=!1;if(hs)try{var el={};Object.defineProperty(el,"passive",{get:function(){yf=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{yf=!1}var Gs=null,zm=null,Ec=null;function jb(){if(Ec)return Ec;var t,e=zm,n=e.length,s,i="value"in Gs?Gs.value:Gs.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===i[r-s];s++);return Ec=i.slice(t,1<s?1-s:void 0)}function wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nc(){return!0}function qy(){return!1}function Ut(t){function e(n,s,i,r,a){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(r):r[c]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?nc:qy,this.isPropagationStopped=qy,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),e}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=Ut(lr),yo=ke({},lr,{view:0,detail:0}),pN=Ut(yo),ud,hd,tl,Ju=ke({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tl&&(tl&&t.type==="mousemove"?(ud=t.screenX-tl.screenX,hd=t.screenY-tl.screenY):hd=ud=0,tl=t),ud)},movementY:function(t){return"movementY"in t?t.movementY:hd}}),Gy=Ut(Ju),gN=ke({},Ju,{dataTransfer:0}),yN=Ut(gN),vN=ke({},yo,{relatedTarget:0}),dd=Ut(vN),xN=ke({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),bN=Ut(xN),_N=ke({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EN=Ut(_N),wN=ke({},lr,{data:0}),Qy=Ut(wN),TN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NN[t])?!!e[t]:!1}function Bm(){return AN}var RN=ke({},yo,{key:function(t){if(t.key){var e=TN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bm,charCode:function(t){return t.type==="keypress"?wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CN=Ut(RN),IN=ke({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yy=Ut(IN),jN=ke({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bm}),DN=Ut(jN),ON=ke({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kN=Ut(ON),MN=ke({},Ju,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PN=Ut(MN),VN=ke({},lr,{newState:0,oldState:0}),UN=Ut(VN),LN=[9,13,27,32],Fm=hs&&"CompositionEvent"in window,_l=null;hs&&"documentMode"in document&&(_l=document.documentMode);var zN=hs&&"TextEvent"in window&&!_l,Db=hs&&(!Fm||_l&&8<_l&&11>=_l),Ky=" ",$y=!1;function Ob(t,e){switch(t){case"keyup":return LN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ir=!1;function BN(t,e){switch(t){case"compositionend":return kb(e);case"keypress":return e.which!==32?null:($y=!0,Ky);case"textInput":return t=e.data,t===Ky&&$y?null:t;default:return null}}function FN(t,e){if(Ir)return t==="compositionend"||!Fm&&Ob(t,e)?(t=jb(),Ec=zm=Gs=null,Ir=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Db&&e.locale!=="ko"?null:e.data;default:return null}}var HN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HN[t.type]:e==="textarea"}function Mb(t,e,n,s){Cr?Br?Br.push(s):Br=[s]:Cr=s,e=pu(e,"onChange"),0<e.length&&(n=new Wu("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var El=null,Fl=null;function qN(t){IE(t,0)}function Zu(t){var e=hl(t);if(Sb(e))return t}function Wy(t,e){if(t==="change")return e}var Pb=!1;if(hs){var fd;if(hs){var md="oninput"in document;if(!md){var Jy=document.createElement("div");Jy.setAttribute("oninput","return;"),md=typeof Jy.oninput=="function"}fd=md}else fd=!1;Pb=fd&&(!document.documentMode||9<document.documentMode)}function Zy(){El&&(El.detachEvent("onpropertychange",Vb),Fl=El=null)}function Vb(t){if(t.propertyName==="value"&&Zu(Fl)){var e=[];Mb(e,Fl,t,Lm(t)),Ib(qN,e)}}function GN(t,e,n){t==="focusin"?(Zy(),El=e,Fl=n,El.attachEvent("onpropertychange",Vb)):t==="focusout"&&Zy()}function QN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(Fl)}function YN(t,e){if(t==="click")return Zu(e)}function KN(t,e){if(t==="input"||t==="change")return Zu(e)}function $N(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wt=typeof Object.is=="function"?Object.is:$N;function Hl(t,e){if(Wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!hf.call(e,i)||!Wt(t[i],e[i]))return!1}return!0}function e0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function t0(t,e){var n=e0(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=e0(n)}}function Ub(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ub(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lb(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Wc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wc(t.document)}return e}function Hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var XN=hs&&"documentMode"in document&&11>=document.documentMode,jr=null,vf=null,wl=null,xf=!1;function n0(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xf||jr==null||jr!==Wc(s)||(s=jr,"selectionStart"in s&&Hm(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),wl&&Hl(wl,s)||(wl=s,s=pu(vf,"onSelect"),0<s.length&&(e=new Wu("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=jr)))}function Oi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dr={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},pd={},zb={};hs&&(zb=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function or(t){if(pd[t])return pd[t];if(!Dr[t])return t;var e=Dr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zb)return pd[t]=e[n];return t}var Bb=or("animationend"),Fb=or("animationiteration"),Hb=or("animationstart"),WN=or("transitionrun"),JN=or("transitionstart"),ZN=or("transitioncancel"),qb=or("transitionend"),Gb=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function Nn(t,e){Gb.set(t,e),ar(e,[t])}var Jc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},tn=[],Or=0,qm=0;function eh(){for(var t=Or,e=qm=Or=0;e<t;){var n=tn[e];tn[e++]=null;var s=tn[e];tn[e++]=null;var i=tn[e];tn[e++]=null;var r=tn[e];if(tn[e++]=null,s!==null&&i!==null){var a=s.pending;a===null?i.next=i:(i.next=a.next,a.next=i),s.pending=i}r!==0&&Qb(n,i,r)}}function th(t,e,n,s){tn[Or++]=t,tn[Or++]=e,tn[Or++]=n,tn[Or++]=s,qm|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Gm(t,e,n,s){return th(t,e,n,s),Zc(t)}function cr(t,e){return th(t,null,null,e),Zc(t)}function Qb(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var i=!1,r=t.return;r!==null;)r.childLanes|=n,s=r.alternate,s!==null&&(s.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(i=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,i&&e!==null&&(i=31-Kt(n),t=r.hiddenUpdates,s=t[i],s===null?t[i]=[e]:s.push(e),e.lane=n|536870912),r):null}function Zc(t){if(50<Dl)throw Dl=0,Bf=null,Error(U(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var kr={};function eA(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,n,s){return new eA(t,e,n,s)}function Qm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function is(t,e){var n=t.alternate;return n===null?(n=Ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Yb(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Tc(t,e,n,s,i,r){var a=0;if(s=t,typeof t=="function")Qm(t)&&(a=1);else if(typeof t=="string")a=rR(t,n,Mn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case lf:return t=Ht(31,n,e,i),t.elementType=lf,t.lanes=r,t;case Nr:return Bi(n.children,i,r,e);case db:a=8,i|=24;break;case sf:return t=Ht(12,n,e,i|2),t.elementType=sf,t.lanes=r,t;case rf:return t=Ht(13,n,e,i),t.elementType=rf,t.lanes=r,t;case af:return t=Ht(19,n,e,i),t.elementType=af,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zn:a=10;break e;case fb:a=9;break e;case Dm:a=11;break e;case Om:a=14;break e;case ks:a=16,s=null;break e}a=29,n=Error(U(130,t===null?"null":typeof t,"")),s=null}return e=Ht(a,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Bi(t,e,n,s){return t=Ht(7,t,s,e),t.lanes=n,t}function gd(t,e,n){return t=Ht(6,t,null,e),t.lanes=n,t}function Kb(t){var e=Ht(18,null,null,0);return e.stateNode=t,e}function yd(t,e,n){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var s0=new WeakMap;function ln(t,e){if(typeof t=="object"&&t!==null){var n=s0.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Vy(e)},s0.set(t,e),e)}return{value:t,source:e,stack:Vy(e)}}var Mr=[],Pr=0,eu=null,ql=0,sn=[],rn=0,hi=null,Dn=1,On="";function Wn(t,e){Mr[Pr++]=ql,Mr[Pr++]=eu,eu=t,ql=e}function $b(t,e,n){sn[rn++]=Dn,sn[rn++]=On,sn[rn++]=hi,hi=t;var s=Dn;t=On;var i=32-Kt(s)-1;s&=~(1<<i),n+=1;var r=32-Kt(e)+i;if(30<r){var a=i-i%5;r=(s&(1<<a)-1).toString(32),s>>=a,i-=a,Dn=1<<32-Kt(e)+i|n<<i|s,On=r+t}else Dn=1<<r|n<<i|s,On=t}function Ym(t){t.return!==null&&(Wn(t,1),$b(t,1,0))}function Km(t){for(;t===eu;)eu=Mr[--Pr],Mr[Pr]=null,ql=Mr[--Pr],Mr[Pr]=null;for(;t===hi;)hi=sn[--rn],sn[rn]=null,On=sn[--rn],sn[rn]=null,Dn=sn[--rn],sn[rn]=null}function Xb(t,e){sn[rn++]=Dn,sn[rn++]=On,sn[rn++]=hi,Dn=e.id,On=e.overflow,hi=t}var pt=null,je=null,fe=!1,Ws=null,on=!1,_f=Error(U(519));function di(t){var e=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(ln(e,t)),_f}function i0(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[mt]=t,e[Vt]=s,n){case"dialog":ae("cancel",e),ae("close",e);break;case"iframe":case"object":case"embed":ae("load",e);break;case"video":case"audio":for(n=0;n<$l.length;n++)ae($l[n],e);break;case"source":ae("error",e);break;case"img":case"image":case"link":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"input":ae("invalid",e),Nb(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ae("invalid",e);break;case"textarea":ae("invalid",e),Rb(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||DE(e.textContent,n)?(s.popover!=null&&(ae("beforetoggle",e),ae("toggle",e)),s.onScroll!=null&&ae("scroll",e),s.onScrollEnd!=null&&ae("scrollend",e),s.onClick!=null&&(e.onclick=es),e=!0):e=!1,e||di(t,!0)}function r0(t){for(pt=t.return;pt;)switch(pt.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:pt=pt.return}}function yr(t){if(t!==pt)return!1;if(!fe)return r0(t),fe=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Qf(t.type,t.memoizedProps)),n=!n),n&&je&&di(t),r0(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));je=G0(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));je=G0(t)}else e===27?(e=je,wi(t.type)?(t=Xf,Xf=null,je=t):je=e):je=pt?dn(t.stateNode.nextSibling):null;return!0}function Yi(){je=pt=null,fe=!1}function vd(){var t=Ws;return t!==null&&(Ot===null?Ot=t:Ot.push.apply(Ot,t),Ws=null),t}function Gl(t){Ws===null?Ws=[t]:Ws.push(t)}var Ef=Fn(null),ur=null,ts=null;function Ps(t,e,n){Ae(Ef,e._currentValue),e._currentValue=n}function rs(t){t._currentValue=Ef.current,ut(Ef)}function wf(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Tf(t,e,n,s){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var r=i.dependencies;if(r!==null){var a=i.child;r=r.firstContext;e:for(;r!==null;){var c=r;r=i;for(var u=0;u<e.length;u++)if(c.context===e[u]){r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),wf(r.return,n,t),s||(a=null);break e}r=c.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(U(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),wf(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function _a(t,e,n,s){t=null;for(var i=e,r=!1;i!==null;){if(!r){if(i.flags&524288)r=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var c=i.type;Wt(i.pendingProps.value,a.value)||(t!==null?t.push(c):t=[c])}}else if(i===Yc.current){if(a=i.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Wl):t=[Wl])}i=i.return}t!==null&&Tf(e,t,n,s),e.flags|=262144}function tu(t){for(t=t.firstContext;t!==null;){if(!Wt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ki(t){ur=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yt(t){return Wb(ur,t)}function sc(t,e){return ur===null&&Ki(t),Wb(t,e)}function Wb(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ts===null){if(t===null)throw Error(U(308));ts=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ts=ts.next=e;return n}var tA=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},nA=rt.unstable_scheduleCallback,sA=rt.unstable_NormalPriority,We={$$typeof:Zn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $m(){return{controller:new tA,data:new Map,refCount:0}}function vo(t){t.refCount--,t.refCount===0&&nA(sA,function(){t.controller.abort()})}var Tl=null,Sf=0,na=0,Fr=null;function iA(t,e){if(Tl===null){var n=Tl=[];Sf=0,na=bp(),Fr={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Sf++,e.then(a0,a0),e}function a0(){if(--Sf===0&&Tl!==null){Fr!==null&&(Fr.status="fulfilled");var t=Tl;Tl=null,na=0,Fr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function rA(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(s.status="rejected",s.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),s}var l0=J.S;J.S=function(t,e){hE=Qt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&iA(t,e),l0!==null&&l0(t,e)};var Fi=Fn(null);function Xm(){var t=Fi.current;return t!==null?t:Se.pooledCache}function Sc(t,e){e===null?Ae(Fi,Fi.current):Ae(Fi,e.pool)}function Jb(){var t=Xm();return t===null?null:{parent:We._currentValue,pool:t}}var Ea=Error(U(460)),Wm=Error(U(474)),nh=Error(U(542)),nu={then:function(){}};function o0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zb(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(es,es),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,u0(t),t;default:if(typeof e.status=="string")e.then(es,es);else{if(t=Se,t!==null&&100<t.shellSuspendCounter)throw Error(U(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=s}},function(s){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,u0(t),t}throw Hi=e,Ea}}function Pi(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Hi=n,Ea):n}}var Hi=null;function c0(){if(Hi===null)throw Error(U(459));var t=Hi;return Hi=null,t}function u0(t){if(t===Ea||t===nh)throw Error(U(483))}var Hr=null,Ql=0;function ic(t){var e=Ql;return Ql+=1,Hr===null&&(Hr=[]),Zb(Hr,t,e)}function nl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function rc(t,e){throw e.$$typeof===G1?Error(U(525)):(t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function e_(t){function e(b,_){if(t){var T=b.deletions;T===null?(b.deletions=[_],b.flags|=16):T.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function s(b){for(var _=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(b,_){return b=is(b,_),b.index=0,b.sibling=null,b}function r(b,_,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<_?(b.flags|=67108866,_):T):(b.flags|=67108866,_)):(b.flags|=1048576,_)}function a(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function c(b,_,T,I){return _===null||_.tag!==6?(_=gd(T,b.mode,I),_.return=b,_):(_=i(_,T),_.return=b,_)}function u(b,_,T,I){var z=T.type;return z===Nr?f(b,_,T.props.children,I,T.key):_!==null&&(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ks&&Pi(z)===_.type)?(_=i(_,T.props),nl(_,T),_.return=b,_):(_=Tc(T.type,T.key,T.props,null,b.mode,I),nl(_,T),_.return=b,_)}function h(b,_,T,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=yd(T,b.mode,I),_.return=b,_):(_=i(_,T.children||[]),_.return=b,_)}function f(b,_,T,I,z){return _===null||_.tag!==7?(_=Bi(T,b.mode,I,z),_.return=b,_):(_=i(_,T),_.return=b,_)}function m(b,_,T){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=gd(""+_,b.mode,T),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wo:return T=Tc(_.type,_.key,_.props,null,b.mode,T),nl(T,_),T.return=b,T;case cl:return _=yd(_,b.mode,T),_.return=b,_;case ks:return _=Pi(_),m(b,_,T)}if(ul(_)||Za(_))return _=Bi(_,b.mode,T,null),_.return=b,_;if(typeof _.then=="function")return m(b,ic(_),T);if(_.$$typeof===Zn)return m(b,sc(b,_),T);rc(b,_)}return null}function p(b,_,T,I){var z=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return z!==null?null:c(b,_,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Wo:return T.key===z?u(b,_,T,I):null;case cl:return T.key===z?h(b,_,T,I):null;case ks:return T=Pi(T),p(b,_,T,I)}if(ul(T)||Za(T))return z!==null?null:f(b,_,T,I,null);if(typeof T.then=="function")return p(b,_,ic(T),I);if(T.$$typeof===Zn)return p(b,_,sc(b,T),I);rc(b,T)}return null}function y(b,_,T,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return b=b.get(T)||null,c(_,b,""+I,z);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Wo:return b=b.get(I.key===null?T:I.key)||null,u(_,b,I,z);case cl:return b=b.get(I.key===null?T:I.key)||null,h(_,b,I,z);case ks:return I=Pi(I),y(b,_,T,I,z)}if(ul(I)||Za(I))return b=b.get(T)||null,f(_,b,I,z,null);if(typeof I.then=="function")return y(b,_,T,ic(I),z);if(I.$$typeof===Zn)return y(b,_,T,sc(_,I),z);rc(_,I)}return null}function R(b,_,T,I){for(var z=null,B=null,w=_,v=_=0,E=null;w!==null&&v<T.length;v++){w.index>v?(E=w,w=null):E=w.sibling;var S=p(b,w,T[v],I);if(S===null){w===null&&(w=E);break}t&&w&&S.alternate===null&&e(b,w),_=r(S,_,v),B===null?z=S:B.sibling=S,B=S,w=E}if(v===T.length)return n(b,w),fe&&Wn(b,v),z;if(w===null){for(;v<T.length;v++)w=m(b,T[v],I),w!==null&&(_=r(w,_,v),B===null?z=w:B.sibling=w,B=w);return fe&&Wn(b,v),z}for(w=s(w);v<T.length;v++)E=y(w,b,v,T[v],I),E!==null&&(t&&E.alternate!==null&&w.delete(E.key===null?v:E.key),_=r(E,_,v),B===null?z=E:B.sibling=E,B=E);return t&&w.forEach(function(A){return e(b,A)}),fe&&Wn(b,v),z}function j(b,_,T,I){if(T==null)throw Error(U(151));for(var z=null,B=null,w=_,v=_=0,E=null,S=T.next();w!==null&&!S.done;v++,S=T.next()){w.index>v?(E=w,w=null):E=w.sibling;var A=p(b,w,S.value,I);if(A===null){w===null&&(w=E);break}t&&w&&A.alternate===null&&e(b,w),_=r(A,_,v),B===null?z=A:B.sibling=A,B=A,w=E}if(S.done)return n(b,w),fe&&Wn(b,v),z;if(w===null){for(;!S.done;v++,S=T.next())S=m(b,S.value,I),S!==null&&(_=r(S,_,v),B===null?z=S:B.sibling=S,B=S);return fe&&Wn(b,v),z}for(w=s(w);!S.done;v++,S=T.next())S=y(w,b,v,S.value,I),S!==null&&(t&&S.alternate!==null&&w.delete(S.key===null?v:S.key),_=r(S,_,v),B===null?z=S:B.sibling=S,B=S);return t&&w.forEach(function(D){return e(b,D)}),fe&&Wn(b,v),z}function O(b,_,T,I){if(typeof T=="object"&&T!==null&&T.type===Nr&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Wo:e:{for(var z=T.key;_!==null;){if(_.key===z){if(z=T.type,z===Nr){if(_.tag===7){n(b,_.sibling),I=i(_,T.props.children),I.return=b,b=I;break e}}else if(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ks&&Pi(z)===_.type){n(b,_.sibling),I=i(_,T.props),nl(I,T),I.return=b,b=I;break e}n(b,_);break}else e(b,_);_=_.sibling}T.type===Nr?(I=Bi(T.props.children,b.mode,I,T.key),I.return=b,b=I):(I=Tc(T.type,T.key,T.props,null,b.mode,I),nl(I,T),I.return=b,b=I)}return a(b);case cl:e:{for(z=T.key;_!==null;){if(_.key===z)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(b,_.sibling),I=i(_,T.children||[]),I.return=b,b=I;break e}else{n(b,_);break}else e(b,_);_=_.sibling}I=yd(T,b.mode,I),I.return=b,b=I}return a(b);case ks:return T=Pi(T),O(b,_,T,I)}if(ul(T))return R(b,_,T,I);if(Za(T)){if(z=Za(T),typeof z!="function")throw Error(U(150));return T=z.call(T),j(b,_,T,I)}if(typeof T.then=="function")return O(b,_,ic(T),I);if(T.$$typeof===Zn)return O(b,_,sc(b,T),I);rc(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,_!==null&&_.tag===6?(n(b,_.sibling),I=i(_,T),I.return=b,b=I):(n(b,_),I=gd(T,b.mode,I),I.return=b,b=I),a(b)):n(b,_)}return function(b,_,T,I){try{Ql=0;var z=O(b,_,T,I);return Hr=null,z}catch(w){if(w===Ea||w===nh)throw w;var B=Ht(29,w,null,b.mode);return B.lanes=I,B.return=b,B}finally{}}}var $i=e_(!0),t_=e_(!1),Ms=!1;function Jm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zs(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,pe&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,e=Zc(t),Qb(t,null,n),e}return th(t,s,e,n),Zc(t)}function Sl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,xb(t,n)}}function xd(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Af=!1;function Nl(){if(Af){var t=Fr;if(t!==null)throw t}}function Al(t,e,n,s){Af=!1;var i=t.updateQueue;Ms=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,h=u.next;u.next=null,a===null?r=h:a.next=h,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==a&&(c===null?f.firstBaseUpdate=h:c.next=h,f.lastBaseUpdate=u))}if(r!==null){var m=i.baseState;a=0,f=h=u=null,c=r;do{var p=c.lane&-536870913,y=p!==c.lane;if(y?(de&p)===p:(s&p)===p){p!==0&&p===na&&(Af=!0),f!==null&&(f=f.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var R=t,j=c;p=e;var O=n;switch(j.tag){case 1:if(R=j.payload,typeof R=="function"){m=R.call(O,m,p);break e}m=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=j.payload,p=typeof R=="function"?R.call(O,m,p):R,p==null)break e;m=ke({},m,p);break e;case 2:Ms=!0}}p=c.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=i.callbacks,y===null?i.callbacks=[p]:y.push(p))}else y={lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(h=f=y,u=m):f=f.next=y,a|=p;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;y=c,c=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,r===null&&(i.shared.lanes=0),mi|=a,t.lanes=a,t.memoizedState=m}}function n_(t,e){if(typeof t!="function")throw Error(U(191,t));t.call(e)}function s_(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)n_(n[t],e)}var sa=Fn(null),su=Fn(0);function h0(t,e){t=ps,Ae(su,t),Ae(sa,e),ps=t|e.baseLanes}function Rf(){Ae(su,ps),Ae(sa,sa.current)}function Zm(){ps=su.current,ut(sa),ut(su)}var Jt=Fn(null),hn=null;function Vs(t){var e=t.alternate;Ae(Qe,Qe.current&1),Ae(Jt,t),hn===null&&(e===null||sa.current!==null||e.memoizedState!==null)&&(hn=t)}function Cf(t){Ae(Qe,Qe.current),Ae(Jt,t),hn===null&&(hn=t)}function i_(t){t.tag===22?(Ae(Qe,Qe.current),Ae(Jt,t),hn===null&&(hn=t)):Us()}function Us(){Ae(Qe,Qe.current),Ae(Jt,Jt.current)}function Ft(t){ut(Jt),hn===t&&(hn=null),ut(Qe)}var Qe=Fn(0);function iu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Kf(n)||$f(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ds=0,se=null,Ee=null,$e=null,ru=!1,qr=!1,Xi=!1,au=0,Yl=0,Gr=null,aA=0;function ze(){throw Error(U(321))}function ep(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wt(t[n],e[n]))return!1;return!0}function tp(t,e,n,s,i,r){return ds=r,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J.H=t===null||t.memoizedState===null?M_:dp,Xi=!1,r=n(s,i),Xi=!1,qr&&(r=a_(e,n,s,i)),r_(t),r}function r_(t){J.H=Kl;var e=Ee!==null&&Ee.next!==null;if(ds=0,$e=Ee=se=null,ru=!1,Yl=0,Gr=null,e)throw Error(U(300));t===null||Ze||(t=t.dependencies,t!==null&&tu(t)&&(Ze=!0))}function a_(t,e,n,s){se=t;var i=0;do{if(qr&&(Gr=null),Yl=0,qr=!1,25<=i)throw Error(U(301));if(i+=1,$e=Ee=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}J.H=P_,r=e(n,s)}while(qr);return r}function lA(){var t=J.H,e=t.useState()[0];return e=typeof e.then=="function"?xo(e):e,t=t.useState()[0],(Ee!==null?Ee.memoizedState:null)!==t&&(se.flags|=1024),e}function np(){var t=au!==0;return au=0,t}function sp(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ip(t){if(ru){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ru=!1}ds=0,$e=Ee=se=null,qr=!1,Yl=au=0,Gr=null}function At(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?se.memoizedState=$e=t:$e=$e.next=t,$e}function Ye(){if(Ee===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=$e===null?se.memoizedState:$e.next;if(e!==null)$e=e,Ee=t;else{if(t===null)throw se.alternate===null?Error(U(467)):Error(U(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},$e===null?se.memoizedState=$e=t:$e=$e.next=t}return $e}function sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(t){var e=Yl;return Yl+=1,Gr===null&&(Gr=[]),t=Zb(Gr,t,e),e=se,($e===null?e.memoizedState:$e.next)===null&&(e=e.alternate,J.H=e===null||e.memoizedState===null?M_:dp),t}function ih(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xo(t);if(t.$$typeof===Zn)return yt(t)}throw Error(U(438,String(t)))}function rp(t){var e=null,n=se.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=se.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=sh(),se.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=Q1;return e.index++,n}function fs(t,e){return typeof e=="function"?e(t):e}function Nc(t){var e=Ye();return ap(e,Ee,t)}function ap(t,e,n){var s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=n;var i=t.baseQueue,r=s.pending;if(r!==null){if(i!==null){var a=i.next;i.next=r.next,r.next=a}e.baseQueue=i=r,s.pending=null}if(r=t.baseState,i===null)t.memoizedState=r;else{e=i.next;var c=a=null,u=null,h=e,f=!1;do{var m=h.lane&-536870913;if(m!==h.lane?(de&m)===m:(ds&m)===m){var p=h.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),m===na&&(f=!0);else if((ds&p)===p){h=h.next,p===na&&(f=!0);continue}else m={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(c=u=m,a=r):u=u.next=m,se.lanes|=p,mi|=p;m=h.action,Xi&&n(r,m),r=h.hasEagerState?h.eagerState:n(r,m)}else p={lane:m,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(c=u=p,a=r):u=u.next=p,se.lanes|=m,mi|=m;h=h.next}while(h!==null&&h!==e);if(u===null?a=r:u.next=c,!Wt(r,t.memoizedState)&&(Ze=!0,f&&(n=Fr,n!==null)))throw n;t.memoizedState=r,t.baseState=a,t.baseQueue=u,s.lastRenderedState=r}return i===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function bd(t){var e=Ye(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do r=t(r,a.action),a=a.next;while(a!==i);Wt(r,e.memoizedState)||(Ze=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function l_(t,e,n){var s=se,i=Ye(),r=fe;if(r){if(n===void 0)throw Error(U(407));n=n()}else n=e();var a=!Wt((Ee||i).memoizedState,n);if(a&&(i.memoizedState=n,Ze=!0),i=i.queue,lp(u_.bind(null,s,i,t),[t]),i.getSnapshot!==e||a||$e!==null&&$e.memoizedState.tag&1){if(s.flags|=2048,ia(9,{destroy:void 0},c_.bind(null,s,i,n,e),null),Se===null)throw Error(U(349));r||ds&127||o_(s,e,n)}return n}function o_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e=sh(),se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c_(t,e,n,s){e.value=n,e.getSnapshot=s,h_(e)&&d_(t)}function u_(t,e,n){return n(function(){h_(e)&&d_(t)})}function h_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wt(t,n)}catch{return!0}}function d_(t){var e=cr(t,2);e!==null&&Pt(e,t,2)}function If(t){var e=At();if(typeof t=="function"){var n=t;if(t=n(),Xi){qs(!0);try{n()}finally{qs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},e}function f_(t,e,n,s){return t.baseState=n,ap(t,Ee,typeof s=="function"?s:fs)}function oA(t,e,n,s,i){if(ah(t))throw Error(U(485));if(t=e.action,t!==null){var r={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};J.T!==null?n(!0):r.isTransition=!1,s(r),n=e.pending,n===null?(r.next=e.pending=r,m_(e,r)):(r.next=n.next,e.pending=n.next=r)}}function m_(t,e){var n=e.action,s=e.payload,i=t.state;if(e.isTransition){var r=J.T,a={};J.T=a;try{var c=n(i,s),u=J.S;u!==null&&u(a,c),d0(t,e,c)}catch(h){jf(t,e,h)}finally{r!==null&&a.types!==null&&(r.types=a.types),J.T=r}}else try{r=n(i,s),d0(t,e,r)}catch(h){jf(t,e,h)}}function d0(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){f0(t,e,s)},function(s){return jf(t,e,s)}):f0(t,e,n)}function f0(t,e,n){e.status="fulfilled",e.value=n,p_(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,m_(t,n)))}function jf(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,p_(e),e=e.next;while(e!==s)}t.action=null}function p_(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function g_(t,e){return e}function m0(t,e){if(fe){var n=Se.formState;if(n!==null){e:{var s=se;if(fe){if(je){t:{for(var i=je,r=on;i.nodeType!==8;){if(!r){i=null;break t}if(i=dn(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){je=dn(i.nextSibling),s=i.data==="F!";break e}}di(s)}s=!1}s&&(e=n[0])}}return n=At(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g_,lastRenderedState:e},n.queue=s,n=D_.bind(null,se,s),s.dispatch=n,s=If(!1),r=hp.bind(null,se,!1,s.queue),s=At(),i={state:e,dispatch:null,action:t,pending:null},s.queue=i,n=oA.bind(null,se,i,r,n),i.dispatch=n,s.memoizedState=t,[e,n,!1]}function p0(t){var e=Ye();return y_(e,Ee,t)}function y_(t,e,n){if(e=ap(t,e,g_)[0],t=Nc(fs)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=xo(e)}catch(a){throw a===Ea?nh:a}else s=e;e=Ye();var i=e.queue,r=i.dispatch;return n!==e.memoizedState&&(se.flags|=2048,ia(9,{destroy:void 0},cA.bind(null,i,n),null)),[s,r,t]}function cA(t,e){t.action=e}function g0(t){var e=Ye(),n=Ee;if(n!==null)return y_(e,n,t);Ye(),e=e.memoizedState,n=Ye();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function ia(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=se.updateQueue,e===null&&(e=sh(),se.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function v_(){return Ye().memoizedState}function Ac(t,e,n,s){var i=At();se.flags|=t,i.memoizedState=ia(1|e,{destroy:void 0},n,s===void 0?null:s)}function rh(t,e,n,s){var i=Ye();s=s===void 0?null:s;var r=i.memoizedState.inst;Ee!==null&&s!==null&&ep(s,Ee.memoizedState.deps)?i.memoizedState=ia(e,r,n,s):(se.flags|=t,i.memoizedState=ia(1|e,r,n,s))}function y0(t,e){Ac(8390656,8,t,e)}function lp(t,e){rh(2048,8,t,e)}function uA(t){se.flags|=4;var e=se.updateQueue;if(e===null)e=sh(),se.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function x_(t){var e=Ye().memoizedState;return uA({ref:e,nextImpl:t}),function(){if(pe&2)throw Error(U(440));return e.impl.apply(void 0,arguments)}}function b_(t,e){return rh(4,2,t,e)}function __(t,e){return rh(4,4,t,e)}function E_(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function w_(t,e,n){n=n!=null?n.concat([t]):null,rh(4,4,E_.bind(null,e,t),n)}function op(){}function T_(t,e){var n=Ye();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&ep(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function S_(t,e){var n=Ye();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&ep(e,s[1]))return s[0];if(s=t(),Xi){qs(!0);try{t()}finally{qs(!1)}}return n.memoizedState=[s,e],s}function cp(t,e,n){return n===void 0||ds&1073741824&&!(de&261930)?t.memoizedState=e:(t.memoizedState=n,t=fE(),se.lanes|=t,mi|=t,n)}function N_(t,e,n,s){return Wt(n,e)?n:sa.current!==null?(t=cp(t,n,s),Wt(t,e)||(Ze=!0),t):!(ds&42)||ds&1073741824&&!(de&261930)?(Ze=!0,t.memoizedState=n):(t=fE(),se.lanes|=t,mi|=t,e)}function A_(t,e,n,s,i){var r=ge.p;ge.p=r!==0&&8>r?r:8;var a=J.T,c={};J.T=c,hp(t,!1,e,n);try{var u=i(),h=J.S;if(h!==null&&h(c,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=rA(u,s);Rl(t,e,f,$t(t))}else Rl(t,e,s,$t(t))}catch(m){Rl(t,e,{then:function(){},status:"rejected",reason:m},$t())}finally{ge.p=r,a!==null&&c.types!==null&&(a.types=c.types),J.T=a}}function hA(){}function Df(t,e,n,s){if(t.tag!==5)throw Error(U(476));var i=R_(t).queue;A_(t,i,e,zi,n===null?hA:function(){return C_(t),n(s)})}function R_(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:zi,baseState:zi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:zi},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function C_(t){var e=R_(t);e.next===null&&(e=t.alternate.memoizedState),Rl(t,e.next.queue,{},$t())}function up(){return yt(Wl)}function I_(){return Ye().memoizedState}function j_(){return Ye().memoizedState}function dA(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=$t();t=Js(n);var s=Zs(e,t,n);s!==null&&(Pt(s,e,n),Sl(s,e,n)),e={cache:$m()},t.payload=e;return}e=e.return}}function fA(t,e,n){var s=$t();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ah(t)?O_(e,n):(n=Gm(t,e,n,s),n!==null&&(Pt(n,t,s),k_(n,e,s)))}function D_(t,e,n){var s=$t();Rl(t,e,n,s)}function Rl(t,e,n,s){var i={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ah(t))O_(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,c=r(a,n);if(i.hasEagerState=!0,i.eagerState=c,Wt(c,a))return th(t,e,i,0),Se===null&&eh(),!1}catch{}finally{}if(n=Gm(t,e,i,s),n!==null)return Pt(n,t,s),k_(n,e,s),!0}return!1}function hp(t,e,n,s){if(s={lane:2,revertLane:bp(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ah(t)){if(e)throw Error(U(479))}else e=Gm(t,n,s,2),e!==null&&Pt(e,t,2)}function ah(t){var e=t.alternate;return t===se||e!==null&&e===se}function O_(t,e){qr=ru=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function k_(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,xb(t,n)}}var Kl={readContext:yt,use:ih,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};Kl.useEffectEvent=ze;var M_={readContext:yt,use:ih,useCallback:function(t,e){return At().memoizedState=[t,e===void 0?null:e],t},useContext:yt,useEffect:y0,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ac(4194308,4,E_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ac(4194308,4,t,e)},useInsertionEffect:function(t,e){Ac(4,2,t,e)},useMemo:function(t,e){var n=At();e=e===void 0?null:e;var s=t();if(Xi){qs(!0);try{t()}finally{qs(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=At();if(n!==void 0){var i=n(e);if(Xi){qs(!0);try{n(e)}finally{qs(!1)}}}else i=e;return s.memoizedState=s.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},s.queue=t,t=t.dispatch=fA.bind(null,se,t),[s.memoizedState,t]},useRef:function(t){var e=At();return t={current:t},e.memoizedState=t},useState:function(t){t=If(t);var e=t.queue,n=D_.bind(null,se,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:op,useDeferredValue:function(t,e){var n=At();return cp(n,t,e)},useTransition:function(){var t=If(!1);return t=A_.bind(null,se,t.queue,!0,!1),At().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=se,i=At();if(fe){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Se===null)throw Error(U(349));de&127||o_(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,y0(u_.bind(null,s,r,t),[t]),s.flags|=2048,ia(9,{destroy:void 0},c_.bind(null,s,r,n,e),null),n},useId:function(){var t=At(),e=Se.identifierPrefix;if(fe){var n=On,s=Dn;n=(s&~(1<<32-Kt(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=au++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=aA++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:up,useFormState:m0,useActionState:m0,useOptimistic:function(t){var e=At();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=hp.bind(null,se,!0,n),n.dispatch=e,[t,e]},useMemoCache:rp,useCacheRefresh:function(){return At().memoizedState=dA.bind(null,se)},useEffectEvent:function(t){var e=At(),n={impl:t};return e.memoizedState=n,function(){if(pe&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},dp={readContext:yt,use:ih,useCallback:T_,useContext:yt,useEffect:lp,useImperativeHandle:w_,useInsertionEffect:b_,useLayoutEffect:__,useMemo:S_,useReducer:Nc,useRef:v_,useState:function(){return Nc(fs)},useDebugValue:op,useDeferredValue:function(t,e){var n=Ye();return N_(n,Ee.memoizedState,t,e)},useTransition:function(){var t=Nc(fs)[0],e=Ye().memoizedState;return[typeof t=="boolean"?t:xo(t),e]},useSyncExternalStore:l_,useId:I_,useHostTransitionStatus:up,useFormState:p0,useActionState:p0,useOptimistic:function(t,e){var n=Ye();return f_(n,Ee,t,e)},useMemoCache:rp,useCacheRefresh:j_};dp.useEffectEvent=x_;var P_={readContext:yt,use:ih,useCallback:T_,useContext:yt,useEffect:lp,useImperativeHandle:w_,useInsertionEffect:b_,useLayoutEffect:__,useMemo:S_,useReducer:bd,useRef:v_,useState:function(){return bd(fs)},useDebugValue:op,useDeferredValue:function(t,e){var n=Ye();return Ee===null?cp(n,t,e):N_(n,Ee.memoizedState,t,e)},useTransition:function(){var t=bd(fs)[0],e=Ye().memoizedState;return[typeof t=="boolean"?t:xo(t),e]},useSyncExternalStore:l_,useId:I_,useHostTransitionStatus:up,useFormState:g0,useActionState:g0,useOptimistic:function(t,e){var n=Ye();return Ee!==null?f_(n,Ee,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:rp,useCacheRefresh:j_};P_.useEffectEvent=x_;function _d(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Of={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=$t(),i=Js(s);i.payload=e,n!=null&&(i.callback=n),e=Zs(t,i,s),e!==null&&(Pt(e,t,s),Sl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=$t(),i=Js(s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Zs(t,i,s),e!==null&&(Pt(e,t,s),Sl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$t(),s=Js(n);s.tag=2,e!=null&&(s.callback=e),e=Zs(t,s,n),e!==null&&(Pt(e,t,n),Sl(e,t,n))}};function v0(t,e,n,s,i,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,a):e.prototype&&e.prototype.isPureReactComponent?!Hl(n,s)||!Hl(i,r):!0}function x0(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Of.enqueueReplaceState(e,e.state,null)}function Wi(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=ke({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function V_(t){Jc(t)}function U_(t){console.error(t)}function L_(t){Jc(t)}function lu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function b0(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function kf(t,e,n){return n=Js(n),n.tag=3,n.payload={element:null},n.callback=function(){lu(t,e)},n}function z_(t){return t=Js(t),t.tag=3,t}function B_(t,e,n,s){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=s.value;t.payload=function(){return i(r)},t.callback=function(){b0(e,n,s)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){b0(e,n,s),typeof i!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var c=s.stack;this.componentDidCatch(s.value,{componentStack:c!==null?c:""})})}function mA(t,e,n,s,i){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&_a(e,n,i,!0),n=Jt.current,n!==null){switch(n.tag){case 31:case 13:return hn===null?du():n.alternate===null&&Be===0&&(Be=3),n.flags&=-257,n.flags|=65536,n.lanes=i,s===nu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),Dd(t,s,i)),!1;case 22:return n.flags|=65536,s===nu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),Dd(t,s,i)),!1}throw Error(U(435,n.tag))}return Dd(t,s,i),du(),!1}if(fe)return e=Jt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,s!==_f&&(t=Error(U(422),{cause:s}),Gl(ln(t,n)))):(s!==_f&&(e=Error(U(423),{cause:s}),Gl(ln(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,s=ln(s,n),i=kf(t.stateNode,s,i),xd(t,i),Be!==4&&(Be=2)),!1;var r=Error(U(520),{cause:s});if(r=ln(r,n),jl===null?jl=[r]:jl.push(r),Be!==4&&(Be=2),e===null)return!0;s=ln(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=kf(n.stateNode,s,t),xd(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=z_(i),B_(i,t,n,s),xd(n,i),!1}n=n.return}while(n!==null);return!1}var fp=Error(U(461)),Ze=!1;function dt(t,e,n,s){e.child=t===null?t_(e,null,n,s):$i(e,t.child,n,s)}function _0(t,e,n,s,i){n=n.render;var r=e.ref;if("ref"in s){var a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}else a=s;return Ki(e),s=tp(t,e,n,a,r,i),c=np(),t!==null&&!Ze?(sp(t,e,i),ms(t,e,i)):(fe&&c&&Ym(e),e.flags|=1,dt(t,e,s,i),e.child)}function E0(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!Qm(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,F_(t,e,r,s,i)):(t=Tc(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!mp(t,i)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Hl,n(a,s)&&t.ref===e.ref)return ms(t,e,i)}return e.flags|=1,t=is(r,s),t.ref=e.ref,t.return=e,e.child=t}function F_(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(Hl(r,s)&&t.ref===e.ref)if(Ze=!1,e.pendingProps=s=r,mp(t,i))t.flags&131072&&(Ze=!0);else return e.lanes=t.lanes,ms(t,e,i)}return Mf(t,e,n,s,i)}function H_(t,e,n,s){var i=s.children,r=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(r=r!==null?r.baseLanes|n:n,t!==null){for(s=e.child=t.child,i=0;s!==null;)i=i|s.lanes|s.childLanes,s=s.sibling;s=i&~r}else s=0,e.child=null;return w0(t,e,r,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sc(e,r!==null?r.cachePool:null),r!==null?h0(e,r):Rf(),i_(e);else return s=e.lanes=536870912,w0(t,e,r!==null?r.baseLanes|n:n,n,s)}else r!==null?(Sc(e,r.cachePool),h0(e,r),Us(),e.memoizedState=null):(t!==null&&Sc(e,null),Rf(),Us());return dt(t,e,i,n),e.child}function dl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function w0(t,e,n,s,i){var r=Xm();return r=r===null?null:{parent:We._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Sc(e,null),Rf(),i_(e),t!==null&&_a(t,e,s,!0),e.childLanes=i,null}function Rc(t,e){return e=ou({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function T0(t,e,n){return $i(e,t.child,null,n),t=Rc(e,e.pendingProps),t.flags|=2,Ft(e),e.memoizedState=null,t}function pA(t,e,n){var s=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(fe){if(s.mode==="hidden")return t=Rc(e,s),e.lanes=536870912,dl(null,t);if(Cf(e),(t=je)?(t=ME(t,on),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:hi!==null?{id:Dn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},n=Kb(t),n.return=e,e.child=n,pt=e,je=null)):t=null,t===null)throw di(e);return e.lanes=536870912,null}return Rc(e,s)}var r=t.memoizedState;if(r!==null){var a=r.dehydrated;if(Cf(e),i)if(e.flags&256)e.flags&=-257,e=T0(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(U(558));else if(Ze||_a(t,e,n,!1),i=(n&t.childLanes)!==0,Ze||i){if(s=Se,s!==null&&(a=bb(s,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,cr(t,a),Pt(s,t,a),fp;du(),e=T0(t,e,n)}else t=r.treeContext,je=dn(a.nextSibling),pt=e,fe=!0,Ws=null,on=!1,t!==null&&Xb(e,t),e=Rc(e,s),e.flags|=4096;return e}return t=is(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Cc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Mf(t,e,n,s,i){return Ki(e),n=tp(t,e,n,s,void 0,i),s=np(),t!==null&&!Ze?(sp(t,e,i),ms(t,e,i)):(fe&&s&&Ym(e),e.flags|=1,dt(t,e,n,i),e.child)}function S0(t,e,n,s,i,r){return Ki(e),e.updateQueue=null,n=a_(e,s,n,i),r_(t),s=np(),t!==null&&!Ze?(sp(t,e,r),ms(t,e,r)):(fe&&s&&Ym(e),e.flags|=1,dt(t,e,n,r),e.child)}function N0(t,e,n,s,i){if(Ki(e),e.stateNode===null){var r=kr,a=n.contextType;typeof a=="object"&&a!==null&&(r=yt(a)),r=new n(s,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Of,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=s,r.state=e.memoizedState,r.refs={},Jm(e),a=n.contextType,r.context=typeof a=="object"&&a!==null?yt(a):kr,r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(_d(e,n,a,s),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Of.enqueueReplaceState(r,r.state,null),Al(e,s,r,i),Nl(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){r=e.stateNode;var c=e.memoizedProps,u=Wi(n,c);r.props=u;var h=r.context,f=n.contextType;a=kr,typeof f=="object"&&f!==null&&(a=yt(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof r.getSnapshotBeforeUpdate=="function",c=e.pendingProps!==c,f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(c||h!==a)&&x0(e,r,s,a),Ms=!1;var p=e.memoizedState;r.state=p,Al(e,s,r,i),Nl(),h=e.memoizedState,c||p!==h||Ms?(typeof m=="function"&&(_d(e,n,m,s),h=e.memoizedState),(u=Ms||v0(e,n,u,s,p,h,a))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=h),r.props=s,r.state=h,r.context=a,s=u):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{r=e.stateNode,Nf(t,e),a=e.memoizedProps,f=Wi(n,a),r.props=f,m=e.pendingProps,p=r.context,h=n.contextType,u=kr,typeof h=="object"&&h!==null&&(u=yt(h)),c=n.getDerivedStateFromProps,(h=typeof c=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==m||p!==u)&&x0(e,r,s,u),Ms=!1,p=e.memoizedState,r.state=p,Al(e,s,r,i),Nl();var y=e.memoizedState;a!==m||p!==y||Ms||t!==null&&t.dependencies!==null&&tu(t.dependencies)?(typeof c=="function"&&(_d(e,n,c,s),y=e.memoizedState),(f=Ms||v0(e,n,f,s,p,y,u)||t!==null&&t.dependencies!==null&&tu(t.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,y,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,y,u)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),r.props=s,r.state=y,r.context=u,s=f):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return r=s,Cc(t,e),s=(e.flags&128)!==0,r||s?(r=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&s?(e.child=$i(e,t.child,null,i),e.child=$i(e,null,n,i)):dt(t,e,n,i),e.memoizedState=r.state,t=e.child):t=ms(t,e,i),t}function A0(t,e,n,s){return Yi(),e.flags|=256,dt(t,e,n,s),e.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(t){return{baseLanes:t,cachePool:Jb()}}function Td(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=qt),t}function q_(t,e,n){var s=e.pendingProps,i=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=t!==null&&t.memoizedState===null?!1:(Qe.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(fe){if(i?Vs(e):Us(),(t=je)?(t=ME(t,on),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:hi!==null?{id:Dn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},n=Kb(t),n.return=e,e.child=n,pt=e,je=null)):t=null,t===null)throw di(e);return $f(t)?e.lanes=32:e.lanes=536870912,null}var c=s.children;return s=s.fallback,i?(Us(),i=e.mode,c=ou({mode:"hidden",children:c},i),s=Bi(s,i,n,null),c.return=e,s.return=e,c.sibling=s,e.child=c,s=e.child,s.memoizedState=wd(n),s.childLanes=Td(t,a,n),e.memoizedState=Ed,dl(null,s)):(Vs(e),Pf(e,c))}var u=t.memoizedState;if(u!==null&&(c=u.dehydrated,c!==null)){if(r)e.flags&256?(Vs(e),e.flags&=-257,e=Sd(t,e,n)):e.memoizedState!==null?(Us(),e.child=t.child,e.flags|=128,e=null):(Us(),c=s.fallback,i=e.mode,s=ou({mode:"visible",children:s.children},i),c=Bi(c,i,n,null),c.flags|=2,s.return=e,c.return=e,s.sibling=c,e.child=s,$i(e,t.child,null,n),s=e.child,s.memoizedState=wd(n),s.childLanes=Td(t,a,n),e.memoizedState=Ed,e=dl(null,s));else if(Vs(e),$f(c)){if(a=c.nextSibling&&c.nextSibling.dataset,a)var h=a.dgst;a=h,s=Error(U(419)),s.stack="",s.digest=a,Gl({value:s,source:null,stack:null}),e=Sd(t,e,n)}else if(Ze||_a(t,e,n,!1),a=(n&t.childLanes)!==0,Ze||a){if(a=Se,a!==null&&(s=bb(a,n),s!==0&&s!==u.retryLane))throw u.retryLane=s,cr(t,s),Pt(a,t,s),fp;Kf(c)||du(),e=Sd(t,e,n)}else Kf(c)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,je=dn(c.nextSibling),pt=e,fe=!0,Ws=null,on=!1,t!==null&&Xb(e,t),e=Pf(e,s.children),e.flags|=4096);return e}return i?(Us(),c=s.fallback,i=e.mode,u=t.child,h=u.sibling,s=is(u,{mode:"hidden",children:s.children}),s.subtreeFlags=u.subtreeFlags&65011712,h!==null?c=is(h,c):(c=Bi(c,i,n,null),c.flags|=2),c.return=e,s.return=e,s.sibling=c,e.child=s,dl(null,s),s=e.child,c=t.child.memoizedState,c===null?c=wd(n):(i=c.cachePool,i!==null?(u=We._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=Jb(),c={baseLanes:c.baseLanes|n,cachePool:i}),s.memoizedState=c,s.childLanes=Td(t,a,n),e.memoizedState=Ed,dl(t.child,s)):(Vs(e),n=t.child,t=n.sibling,n=is(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Pf(t,e){return e=ou({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ou(t,e){return t=Ht(22,t,null,e),t.lanes=0,t}function Sd(t,e,n){return $i(e,t.child,null,n),t=Pf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),wf(t.return,e,n)}function Nd(t,e,n,s,i,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i,treeForkCount:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i,a.treeForkCount=r)}function G_(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;s=s.children;var a=Qe.current,c=(a&2)!==0;if(c?(a=a&1|2,e.flags|=128):a&=1,Ae(Qe,a),dt(t,e,s,n),s=fe?ql:0,!c&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R0(t,n,e);else if(t.tag===19)R0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&iu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nd(e,!1,i,n,r,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&iu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nd(e,!0,n,null,r,s);break;case"together":Nd(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function ms(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mi|=e.lanes,!(n&e.childLanes))if(t!==null){if(_a(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mp(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&tu(t)))}function gA(t,e,n){switch(e.tag){case 3:Kc(e,e.stateNode.containerInfo),Ps(e,We,t.memoizedState.cache),Yi();break;case 27:case 5:uf(e);break;case 4:Kc(e,e.stateNode.containerInfo);break;case 10:Ps(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Cf(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(Vs(e),e.flags|=128,null):n&e.child.childLanes?q_(t,e,n):(Vs(e),t=ms(t,e,n),t!==null?t.sibling:null);Vs(e);break;case 19:var i=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(_a(t,e,n,!1),s=(n&e.childLanes)!==0),i){if(s)return G_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(Qe,Qe.current),s)break;return null;case 22:return e.lanes=0,H_(t,e,n,e.pendingProps);case 24:Ps(e,We,t.memoizedState.cache)}return ms(t,e,n)}function Q_(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ze=!0;else{if(!mp(t,n)&&!(e.flags&128))return Ze=!1,gA(t,e,n);Ze=!!(t.flags&131072)}else Ze=!1,fe&&e.flags&1048576&&$b(e,ql,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=Pi(e.elementType),e.type=t,typeof t=="function")Qm(t)?(s=Wi(t,s),e.tag=1,e=N0(null,e,t,s,n)):(e.tag=0,e=Mf(null,e,t,s,n));else{if(t!=null){var i=t.$$typeof;if(i===Dm){e.tag=11,e=_0(null,e,t,s,n);break e}else if(i===Om){e.tag=14,e=E0(null,e,t,s,n);break e}}throw e=of(t)||t,Error(U(306,e,""))}}return e;case 0:return Mf(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,i=Wi(s,e.pendingProps),N0(t,e,s,i,n);case 3:e:{if(Kc(e,e.stateNode.containerInfo),t===null)throw Error(U(387));s=e.pendingProps;var r=e.memoizedState;i=r.element,Nf(t,e),Al(e,s,null,n);var a=e.memoizedState;if(s=a.cache,Ps(e,We,s),s!==r.cache&&Tf(e,[We],n,!0),Nl(),s=a.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=A0(t,e,s,n);break e}else if(s!==i){i=ln(Error(U(424)),e),Gl(i),e=A0(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(je=dn(t.firstChild),pt=e,fe=!0,Ws=null,on=!0,n=t_(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Yi(),s===i){e=ms(t,e,n);break e}dt(t,e,s,n)}e=e.child}return e;case 26:return Cc(t,e),t===null?(n=K0(e.type,null,e.pendingProps,null))?e.memoizedState=n:fe||(n=e.type,t=e.pendingProps,s=gu(Xs.current).createElement(n),s[mt]=e,s[Vt]=t,vt(s,n,t),ct(s),e.stateNode=s):e.memoizedState=K0(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return uf(e),t===null&&fe&&(s=e.stateNode=PE(e.type,e.pendingProps,Xs.current),pt=e,on=!0,i=je,wi(e.type)?(Xf=i,je=dn(s.firstChild)):je=i),dt(t,e,e.pendingProps.children,n),Cc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&fe&&((i=s=je)&&(s=QA(s,e.type,e.pendingProps,on),s!==null?(e.stateNode=s,pt=e,je=dn(s.firstChild),on=!1,i=!0):i=!1),i||di(e)),uf(e),i=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,s=r.children,Qf(i,r)?s=null:a!==null&&Qf(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=tp(t,e,lA,null,null,n),Wl._currentValue=i),Cc(t,e),dt(t,e,s,n),e.child;case 6:return t===null&&fe&&((t=n=je)&&(n=YA(n,e.pendingProps,on),n!==null?(e.stateNode=n,pt=e,je=null,t=!0):t=!1),t||di(e)),null;case 13:return q_(t,e,n);case 4:return Kc(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=$i(e,null,s,n):dt(t,e,s,n),e.child;case 11:return _0(t,e,e.type,e.pendingProps,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,Ps(e,e.type,s.value),dt(t,e,s.children,n),e.child;case 9:return i=e.type._context,s=e.pendingProps.children,Ki(e),i=yt(i),s=s(i),e.flags|=1,dt(t,e,s,n),e.child;case 14:return E0(t,e,e.type,e.pendingProps,n);case 15:return F_(t,e,e.type,e.pendingProps,n);case 19:return G_(t,e,n);case 31:return pA(t,e,n);case 22:return H_(t,e,n,e.pendingProps);case 24:return Ki(e),s=yt(We),t===null?(i=Xm(),i===null&&(i=Se,r=$m(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),e.memoizedState={parent:s,cache:i},Jm(e),Ps(e,We,i)):(t.lanes&n&&(Nf(t,e),Al(e,null,null,n),Nl()),i=t.memoizedState,r=e.memoizedState,i.parent!==s?(i={parent:s,cache:s},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ps(e,We,s)):(s=r.cache,Ps(e,We,s),s!==i.cache&&Tf(e,[We],n,!0))),dt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(U(156,e.tag))}function Yn(t){t.flags|=4}function Ad(t,e,n,s,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(gE())t.flags|=8192;else throw Hi=nu,Wm}else t.flags&=-16777217}function C0(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!LE(e))if(gE())t.flags|=8192;else throw Hi=nu,Wm}function ac(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?yb():536870912,t.lanes|=e,ra|=e)}function sl(t,e){if(!fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ie(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&65011712,s|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function yA(t,e,n){var s=e.pendingProps;switch(Km(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(e),null;case 1:return Ie(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),rs(We),Zr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(yr(e)?Yn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vd())),Ie(e),null;case 26:var i=e.type,r=e.memoizedState;return t===null?(Yn(e),r!==null?(Ie(e),C0(e,r)):(Ie(e),Ad(e,i,null,s,n))):r?r!==t.memoizedState?(Yn(e),Ie(e),C0(e,r)):(Ie(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Yn(e),Ie(e),Ad(e,i,t,s,n)),null;case 27:if($c(e),n=Xs.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Yn(e);else{if(!s){if(e.stateNode===null)throw Error(U(166));return Ie(e),null}t=Mn.current,yr(e)?i0(e):(t=PE(i,s,n),e.stateNode=t,Yn(e))}return Ie(e),null;case 5:if($c(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Yn(e);else{if(!s){if(e.stateNode===null)throw Error(U(166));return Ie(e),null}if(r=Mn.current,yr(e))i0(e);else{var a=gu(Xs.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof s.is=="string"?a.createElement("select",{is:s.is}):a.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r=typeof s.is=="string"?a.createElement(i,{is:s.is}):a.createElement(i)}}r[mt]=e,r[Vt]=s;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=r;e:switch(vt(r,i,s),i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Yn(e)}}return Ie(e),Ad(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Yn(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(U(166));if(t=Xs.current,yr(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,i=pt,i!==null)switch(i.tag){case 27:case 5:s=i.memoizedProps}t[mt]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||DE(t.nodeValue,n)),t||di(e,!0)}else t=gu(t).createTextNode(s),t[mt]=e,e.stateNode=t}return Ie(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=yr(e),n!==null){if(t===null){if(!s)throw Error(U(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(557));t[mt]=e}else Yi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ie(e),t=!1}else n=vd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Ft(e),e):(Ft(e),null);if(e.flags&128)throw Error(U(558))}return Ie(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=yr(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[mt]=e}else Yi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ie(e),i=!1}else i=vd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Ft(e),e):(Ft(e),null)}return Ft(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,i=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(i=s.alternate.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==i&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),ac(e,e.updateQueue),Ie(e),null);case 4:return Zr(),t===null&&_p(e.stateNode.containerInfo),Ie(e),null;case 10:return rs(e.type),Ie(e),null;case 19:if(ut(Qe),s=e.memoizedState,s===null)return Ie(e),null;if(i=(e.flags&128)!==0,r=s.rendering,r===null)if(i)sl(s,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=iu(t),r!==null){for(e.flags|=128,sl(s,!1),t=r.updateQueue,e.updateQueue=t,ac(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Yb(n,t),n=n.sibling;return Ae(Qe,Qe.current&1|2),fe&&Wn(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&Qt()>uu&&(e.flags|=128,i=!0,sl(s,!1),e.lanes=4194304)}else{if(!i)if(t=iu(r),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,ac(e,t),sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!fe)return Ie(e),null}else 2*Qt()-s.renderingStartTime>uu&&n!==536870912&&(e.flags|=128,i=!0,sl(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(t=s.last,t!==null?t.sibling=r:e.child=r,s.last=r)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qt(),t.sibling=null,n=Qe.current,Ae(Qe,i?n&1|2:n&1),fe&&Wn(e,s.treeForkCount),t):(Ie(e),null);case 22:case 23:return Ft(e),Zm(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(Ie(e),e.subtreeFlags&6&&(e.flags|=8192)):Ie(e),n=e.updateQueue,n!==null&&ac(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&ut(Fi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),rs(We),Ie(e),null;case 25:return null;case 30:return null}throw Error(U(156,e.tag))}function vA(t,e){switch(Km(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rs(We),Zr(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return $c(e),null;case 31:if(e.memoizedState!==null){if(Ft(e),e.alternate===null)throw Error(U(340));Yi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ft(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Yi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(Qe),null;case 4:return Zr(),null;case 10:return rs(e.type),null;case 22:case 23:return Ft(e),Zm(),t!==null&&ut(Fi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return rs(We),null;case 25:return null;default:return null}}function Y_(t,e){switch(Km(e),e.tag){case 3:rs(We),Zr();break;case 26:case 27:case 5:$c(e);break;case 4:Zr();break;case 31:e.memoizedState!==null&&Ft(e);break;case 13:Ft(e);break;case 19:ut(Qe);break;case 10:rs(e.type);break;case 22:case 23:Ft(e),Zm(),t!==null&&ut(Fi);break;case 24:rs(We)}}function bo(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&t)===t){s=void 0;var r=n.create,a=n.inst;s=r(),a.destroy=s}n=n.next}while(n!==i)}}catch(c){be(e,e.return,c)}}function fi(t,e,n){try{var s=e.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var r=i.next;s=r;do{if((s.tag&t)===t){var a=s.inst,c=a.destroy;if(c!==void 0){a.destroy=void 0,i=e;var u=n,h=c;try{h()}catch(f){be(i,u,f)}}}s=s.next}while(s!==r)}}catch(f){be(e,e.return,f)}}function K_(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{s_(e,n)}catch(s){be(t,t.return,s)}}}function $_(t,e,n){n.props=Wi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){be(t,e,s)}}function Cl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(i){be(t,e,i)}}function kn(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(i){be(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){be(t,e,i)}else n.current=null}function X_(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(i){be(t,t.return,i)}}function Rd(t,e,n){try{var s=t.stateNode;zA(s,t.type,n,e),s[Vt]=e}catch(i){be(t,t.return,i)}}function W_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wi(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||W_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vf(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=es));else if(s!==4&&(s===27&&wi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Vf(t,e,n),t=t.sibling;t!==null;)Vf(t,e,n),t=t.sibling}function cu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&wi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(cu(t,e,n),t=t.sibling;t!==null;)cu(t,e,n),t=t.sibling}function J_(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);vt(e,s,n),e[mt]=t,e[Vt]=n}catch(r){be(t,t.return,r)}}var Jn=!1,Xe=!1,Id=!1,I0=typeof WeakSet=="function"?WeakSet:Set,ot=null;function xA(t,e){if(t=t.containerInfo,qf=bu,t=Lb(t),Hm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,h=0,f=0,m=t,p=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(c=a+i),m!==r||s!==0&&m.nodeType!==3||(u=a+s),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===t)break t;if(p===n&&++h===i&&(c=a),p===r&&++f===s&&(u=a),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gf={focusedElem:t,selectionRange:n},bu=!1,ot=e;ot!==null;)if(e=ot,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ot=t;else for(;ot!==null;){switch(e=ot,r=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,i=r.memoizedProps,r=r.memoizedState,s=n.stateNode;try{var R=Wi(n.type,i);t=s.getSnapshotBeforeUpdate(R,r),s.__reactInternalSnapshotBeforeUpdate=t}catch(j){be(n,n.return,j)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Yf(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(U(163))}if(t=e.sibling,t!==null){t.return=e.return,ot=t;break}ot=e.return}}function Z_(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n),s&4&&bo(5,n);break;case 1:if($n(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){be(n,n.return,a)}else{var i=Wi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){be(n,n.return,a)}}s&64&&K_(n),s&512&&Cl(n,n.return);break;case 3:if($n(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{s_(t,e)}catch(a){be(n,n.return,a)}}break;case 27:e===null&&s&4&&J_(n);case 26:case 5:$n(t,n),e===null&&s&4&&X_(n),s&512&&Cl(n,n.return);break;case 12:$n(t,n);break;case 31:$n(t,n),s&4&&nE(t,n);break;case 13:$n(t,n),s&4&&sE(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=RA.bind(null,n),KA(t,n))));break;case 22:if(s=n.memoizedState!==null||Jn,!s){e=e!==null&&e.memoizedState!==null||Xe,i=Jn;var r=Xe;Jn=s,(Xe=e)&&!r?Xn(t,n,(n.subtreeFlags&8772)!==0):$n(t,n),Jn=i,Xe=r}break;case 30:break;default:$n(t,n)}}function eE(t){var e=t.alternate;e!==null&&(t.alternate=null,eE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Vm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Me=null,Dt=!1;function Kn(t,e,n){for(n=n.child;n!==null;)tE(t,e,n),n=n.sibling}function tE(t,e,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(fo,n)}catch{}switch(n.tag){case 26:Xe||kn(n,e),Kn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xe||kn(n,e);var s=Me,i=Dt;wi(n.type)&&(Me=n.stateNode,Dt=!1),Kn(t,e,n),Ol(n.stateNode),Me=s,Dt=i;break;case 5:Xe||kn(n,e);case 6:if(s=Me,i=Dt,Me=null,Kn(t,e,n),Me=s,Dt=i,Me!==null)if(Dt)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(n.stateNode)}catch(r){be(n,e,r)}else try{Me.removeChild(n.stateNode)}catch(r){be(n,e,r)}break;case 18:Me!==null&&(Dt?(t=Me,H0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ca(t)):H0(Me,n.stateNode));break;case 4:s=Me,i=Dt,Me=n.stateNode.containerInfo,Dt=!0,Kn(t,e,n),Me=s,Dt=i;break;case 0:case 11:case 14:case 15:fi(2,n,e),Xe||fi(4,n,e),Kn(t,e,n);break;case 1:Xe||(kn(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&$_(n,e,s)),Kn(t,e,n);break;case 21:Kn(t,e,n);break;case 22:Xe=(s=Xe)||n.memoizedState!==null,Kn(t,e,n),Xe=s;break;default:Kn(t,e,n)}}function nE(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ca(t)}catch(n){be(e,e.return,n)}}}function sE(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ca(t)}catch(n){be(e,e.return,n)}}function bA(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new I0),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new I0),e;default:throw Error(U(435,t.tag))}}function lc(t,e){var n=bA(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var i=CA.bind(null,t,s);s.then(i,i)}})}function It(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s],r=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 27:if(wi(c.type)){Me=c.stateNode,Dt=!1;break e}break;case 5:Me=c.stateNode,Dt=!1;break e;case 3:case 4:Me=c.stateNode.containerInfo,Dt=!0;break e}c=c.return}if(Me===null)throw Error(U(160));tE(r,a,i),Me=null,Dt=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)iE(e,t),e=e.sibling}var xn=null;function iE(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:It(e,t),jt(t),s&4&&(fi(3,t,t.return),bo(3,t),fi(5,t,t.return));break;case 1:It(e,t),jt(t),s&512&&(Xe||n===null||kn(n,n.return)),s&64&&Jn&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var i=xn;if(It(e,t),jt(t),s&512&&(Xe||n===null||kn(n,n.return)),s&4){var r=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":r=i.getElementsByTagName("title")[0],(!r||r[go]||r[mt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(s),i.head.insertBefore(r,i.querySelector("head > title"))),vt(r,s,n),r[mt]=t,ct(r),s=r;break e;case"link":var a=X0("link","href",i).get(s+(n.href||""));if(a){for(var c=0;c<a.length;c++)if(r=a[c],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(c,1);break t}}r=i.createElement(s),vt(r,s,n),i.head.appendChild(r);break;case"meta":if(a=X0("meta","content",i).get(s+(n.content||""))){for(c=0;c<a.length;c++)if(r=a[c],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(c,1);break t}}r=i.createElement(s),vt(r,s,n),i.head.appendChild(r);break;default:throw Error(U(468,s))}r[mt]=t,ct(r),s=r}t.stateNode=s}else W0(i,t.type,t.stateNode);else t.stateNode=$0(i,s,t.memoizedProps);else r!==s?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,s===null?W0(i,t.type,t.stateNode):$0(i,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Rd(t,t.memoizedProps,n.memoizedProps)}break;case 27:It(e,t),jt(t),s&512&&(Xe||n===null||kn(n,n.return)),n!==null&&s&4&&Rd(t,t.memoizedProps,n.memoizedProps);break;case 5:if(It(e,t),jt(t),s&512&&(Xe||n===null||kn(n,n.return)),t.flags&32){i=t.stateNode;try{ta(i,"")}catch(R){be(t,t.return,R)}}s&4&&t.stateNode!=null&&(i=t.memoizedProps,Rd(t,i,n!==null?n.memoizedProps:i)),s&1024&&(Id=!0);break;case 6:if(It(e,t),jt(t),s&4){if(t.stateNode===null)throw Error(U(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(R){be(t,t.return,R)}}break;case 3:if(Dc=null,i=xn,xn=yu(e.containerInfo),It(e,t),xn=i,jt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ca(e.containerInfo)}catch(R){be(t,t.return,R)}Id&&(Id=!1,rE(t));break;case 4:s=xn,xn=yu(t.stateNode.containerInfo),It(e,t),jt(t),xn=s;break;case 12:It(e,t),jt(t);break;case 31:It(e,t),jt(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,lc(t,s)));break;case 13:It(e,t),jt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(lh=Qt()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,lc(t,s)));break;case 22:i=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Jn,f=Xe;if(Jn=h||i,Xe=f||u,It(e,t),Xe=f,Jn=h,jt(t),s&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||u||Jn||Xe||Vi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(r=u.stateNode,i)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{c=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;c.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(R){be(u,u.return,R)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(R){be(u,u.return,R)}}}else if(e.tag===18){if(n===null){u=e;try{var y=u.stateNode;i?q0(y,!0):q0(u.stateNode,!1)}catch(R){be(u,u.return,R)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,lc(t,n))));break;case 19:It(e,t),jt(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,lc(t,s)));break;case 30:break;case 21:break;default:It(e,t),jt(t)}}function jt(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(W_(s)){n=s;break}s=s.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var i=n.stateNode,r=Cd(t);cu(t,r,i);break;case 5:var a=n.stateNode;n.flags&32&&(ta(a,""),n.flags&=-33);var c=Cd(t);cu(t,c,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Cd(t);Vf(t,h,u);break;default:throw Error(U(161))}}catch(f){be(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rE(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;rE(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function $n(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Z_(t,e.alternate,e),e=e.sibling}function Vi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:fi(4,e,e.return),Vi(e);break;case 1:kn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&$_(e,e.return,n),Vi(e);break;case 27:Ol(e.stateNode);case 26:case 5:kn(e,e.return),Vi(e);break;case 22:e.memoizedState===null&&Vi(e);break;case 30:Vi(e);break;default:Vi(e)}t=t.sibling}}function Xn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,i=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:Xn(i,r,n),bo(4,r);break;case 1:if(Xn(i,r,n),s=r,i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(h){be(s,s.return,h)}if(s=r,i=s.updateQueue,i!==null){var c=s.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)n_(u[i],c)}catch(h){be(s,s.return,h)}}n&&a&64&&K_(r),Cl(r,r.return);break;case 27:J_(r);case 26:case 5:Xn(i,r,n),n&&s===null&&a&4&&X_(r),Cl(r,r.return);break;case 12:Xn(i,r,n);break;case 31:Xn(i,r,n),n&&a&4&&nE(i,r);break;case 13:Xn(i,r,n),n&&a&4&&sE(i,r);break;case 22:r.memoizedState===null&&Xn(i,r,n),Cl(r,r.return);break;case 30:break;default:Xn(i,r,n)}e=e.sibling}}function pp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&vo(n))}function gp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&vo(t))}function vn(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)aE(t,e,n,s),e=e.sibling}function aE(t,e,n,s){var i=e.flags;switch(e.tag){case 0:case 11:case 15:vn(t,e,n,s),i&2048&&bo(9,e);break;case 1:vn(t,e,n,s);break;case 3:vn(t,e,n,s),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&vo(t)));break;case 12:if(i&2048){vn(t,e,n,s),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,c=r.onPostCommit;typeof c=="function"&&c(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){be(e,e.return,u)}}else vn(t,e,n,s);break;case 31:vn(t,e,n,s);break;case 13:vn(t,e,n,s);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?vn(t,e,n,s):Il(t,e):r._visibility&2?vn(t,e,n,s):(r._visibility|=2,br(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),i&2048&&pp(a,e);break;case 24:vn(t,e,n,s),i&2048&&gp(e.alternate,e);break;default:vn(t,e,n,s)}}function br(t,e,n,s,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var r=t,a=e,c=n,u=s,h=a.flags;switch(a.tag){case 0:case 11:case 15:br(r,a,c,u,i),bo(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?br(r,a,c,u,i):Il(r,a):(f._visibility|=2,br(r,a,c,u,i)),i&&h&2048&&pp(a.alternate,a);break;case 24:br(r,a,c,u,i),i&&h&2048&&gp(a.alternate,a);break;default:br(r,a,c,u,i)}e=e.sibling}}function Il(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,i=s.flags;switch(s.tag){case 22:Il(n,s),i&2048&&pp(s.alternate,s);break;case 24:Il(n,s),i&2048&&gp(s.alternate,s);break;default:Il(n,s)}e=e.sibling}}var fl=8192;function vr(t,e,n){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)lE(t,e,n),t=t.sibling}function lE(t,e,n){switch(t.tag){case 26:vr(t,e,n),t.flags&fl&&t.memoizedState!==null&&aR(n,xn,t.memoizedState,t.memoizedProps);break;case 5:vr(t,e,n);break;case 3:case 4:var s=xn;xn=yu(t.stateNode.containerInfo),vr(t,e,n),xn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=fl,fl=16777216,vr(t,e,n),fl=s):vr(t,e,n));break;default:vr(t,e,n)}}function oE(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function il(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];ot=s,uE(s,t)}oE(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cE(t),t=t.sibling}function cE(t){switch(t.tag){case 0:case 11:case 15:il(t),t.flags&2048&&fi(9,t,t.return);break;case 3:il(t);break;case 12:il(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ic(t)):il(t);break;default:il(t)}}function Ic(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];ot=s,uE(s,t)}oE(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:fi(8,e,e.return),Ic(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ic(e));break;default:Ic(e)}t=t.sibling}}function uE(t,e){for(;ot!==null;){var n=ot;switch(n.tag){case 0:case 11:case 15:fi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:vo(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,ot=s;else e:for(n=t;ot!==null;){s=ot;var i=s.sibling,r=s.return;if(eE(s),s===n){ot=null;break e}if(i!==null){i.return=r,ot=i;break e}ot=r}}}var _A={getCacheForType:function(t){var e=yt(We),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return yt(We).controller.signal}},EA=typeof WeakMap=="function"?WeakMap:Map,pe=0,Se=null,le=null,de=0,xe=0,Bt=null,Qs=!1,wa=!1,yp=!1,ps=0,Be=0,mi=0,qi=0,vp=0,qt=0,ra=0,jl=null,Ot=null,Uf=!1,lh=0,hE=0,uu=1/0,hu=null,ei=null,st=0,ti=null,aa=null,as=0,Lf=0,zf=null,dE=null,Dl=0,Bf=null;function $t(){return pe&2&&de!==0?de&-de:J.T!==null?bp():_b()}function fE(){if(qt===0)if(!(de&536870912)||fe){var t=Zo;Zo<<=1,!(Zo&3932160)&&(Zo=262144),qt=t}else qt=536870912;return t=Jt.current,t!==null&&(t.flags|=32),qt}function Pt(t,e,n){(t===Se&&(xe===2||xe===9)||t.cancelPendingCommit!==null)&&(la(t,0),Ys(t,de,qt,!1)),po(t,n),(!(pe&2)||t!==Se)&&(t===Se&&(!(pe&2)&&(qi|=n),Be===4&&Ys(t,de,qt,!1)),Hn(t))}function mE(t,e,n){if(pe&6)throw Error(U(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||mo(t,e),i=s?SA(t,e):jd(t,e,!0),r=s;do{if(i===0){wa&&!s&&Ys(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!wA(n)){i=jd(t,e,!1),r=!1;continue}if(i===2){if(r=e,t.errorRecoveryDisabledLanes&r)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var c=t;i=jl;var u=c.current.memoizedState.isDehydrated;if(u&&(la(c,a).flags|=256),a=jd(c,a,!1),a!==2){if(yp&&!u){c.errorRecoveryDisabledLanes|=r,qi|=r,i=4;break e}r=Ot,Ot=i,r!==null&&(Ot===null?Ot=r:Ot.push.apply(Ot,r))}i=a}if(r=!1,i!==2)continue}}if(i===1){la(t,0),Ys(t,e,0,!0);break}e:{switch(s=t,r=i,r){case 0:case 1:throw Error(U(345));case 4:if((e&4194048)!==e)break;case 6:Ys(s,e,qt,!Qs);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(U(329))}if((e&62914560)===e&&(i=lh+300-Qt(),10<i)){if(Ys(s,e,qt,!Qs),Xu(s,0,!0)!==0)break e;as=e,s.timeoutHandle=kE(j0.bind(null,s,n,Ot,hu,Uf,e,qt,qi,ra,Qs,r,"Throttled",-0,0),i);break e}j0(s,n,Ot,hu,Uf,e,qt,qi,ra,Qs,r,null,-0,0)}}break}while(!0);Hn(t)}function j0(t,e,n,s,i,r,a,c,u,h,f,m,p,y){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:es},lE(e,r,m);var R=(r&62914560)===r?lh-Qt():(r&4194048)===r?hE-Qt():0;if(R=lR(m,R),R!==null){as=r,t.cancelPendingCommit=R(O0.bind(null,t,e,r,n,s,i,a,c,u,f,m,null,p,y)),Ys(t,r,a,!h);return}}O0(t,e,r,n,s,i,a,c,u)}function wA(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!Wt(r(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(t,e,n,s){e&=~vp,e&=~qi,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var i=e;0<i;){var r=31-Kt(i),a=1<<r;s[r]=-1,i&=~a}n!==0&&vb(t,n,e)}function oh(){return pe&6?!0:(_o(0),!1)}function xp(){if(le!==null){if(xe===0)var t=le.return;else t=le,ts=ur=null,ip(t),Hr=null,Ql=0,t=le;for(;t!==null;)Y_(t.alternate,t),t=t.return;le=null}}function la(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,HA(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),as=0,xp(),Se=t,le=n=is(t.current,null),de=e,xe=0,Bt=null,Qs=!1,wa=mo(t,e),yp=!1,ra=qt=vp=qi=mi=Be=0,Ot=jl=null,Uf=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var i=31-Kt(s),r=1<<i;e|=t[i],s&=~r}return ps=e,eh(),n}function pE(t,e){se=null,J.H=Kl,e===Ea||e===nh?(e=c0(),xe=3):e===Wm?(e=c0(),xe=4):xe=e===fp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Bt=e,le===null&&(Be=1,lu(t,ln(e,t.current)))}function gE(){var t=Jt.current;return t===null?!0:(de&4194048)===de?hn===null:(de&62914560)===de||de&536870912?t===hn:!1}function yE(){var t=J.H;return J.H=Kl,t===null?Kl:t}function vE(){var t=J.A;return J.A=_A,t}function du(){Be=4,Qs||(de&4194048)!==de&&Jt.current!==null||(wa=!0),!(mi&134217727)&&!(qi&134217727)||Se===null||Ys(Se,de,qt,!1)}function jd(t,e,n){var s=pe;pe|=2;var i=yE(),r=vE();(Se!==t||de!==e)&&(hu=null,la(t,e)),e=!1;var a=Be;e:do try{if(xe!==0&&le!==null){var c=le,u=Bt;switch(xe){case 8:xp(),a=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(e=!0);var h=xe;if(xe=0,Bt=null,Vr(t,c,u,h),n&&wa){a=0;break e}break;default:h=xe,xe=0,Bt=null,Vr(t,c,u,h)}}TA(),a=Be;break}catch(f){pE(t,f)}while(!0);return e&&t.shellSuspendCounter++,ts=ur=null,pe=s,J.H=i,J.A=r,le===null&&(Se=null,de=0,eh()),a}function TA(){for(;le!==null;)xE(le)}function SA(t,e){var n=pe;pe|=2;var s=yE(),i=vE();Se!==t||de!==e?(hu=null,uu=Qt()+500,la(t,e)):wa=mo(t,e);e:do try{if(xe!==0&&le!==null){e=le;var r=Bt;t:switch(xe){case 1:xe=0,Bt=null,Vr(t,e,r,1);break;case 2:case 9:if(o0(r)){xe=0,Bt=null,D0(e);break}e=function(){xe!==2&&xe!==9||Se!==t||(xe=7),Hn(t)},r.then(e,e);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:o0(r)?(xe=0,Bt=null,D0(e)):(xe=0,Bt=null,Vr(t,e,r,7));break;case 5:var a=null;switch(le.tag){case 26:a=le.memoizedState;case 5:case 27:var c=le;if(a?LE(a):c.stateNode.complete){xe=0,Bt=null;var u=c.sibling;if(u!==null)le=u;else{var h=c.return;h!==null?(le=h,ch(h)):le=null}break t}}xe=0,Bt=null,Vr(t,e,r,5);break;case 6:xe=0,Bt=null,Vr(t,e,r,6);break;case 8:xp(),Be=6;break e;default:throw Error(U(462))}}NA();break}catch(f){pE(t,f)}while(!0);return ts=ur=null,J.H=s,J.A=i,pe=n,le!==null?0:(Se=null,de=0,eh(),Be)}function NA(){for(;le!==null&&!$1();)xE(le)}function xE(t){var e=Q_(t.alternate,t,ps);t.memoizedProps=t.pendingProps,e===null?ch(t):le=e}function D0(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=S0(n,e,e.pendingProps,e.type,void 0,de);break;case 11:e=S0(n,e,e.pendingProps,e.type.render,e.ref,de);break;case 5:ip(e);default:Y_(n,e),e=le=Yb(e,ps),e=Q_(n,e,ps)}t.memoizedProps=t.pendingProps,e===null?ch(t):le=e}function Vr(t,e,n,s){ts=ur=null,ip(e),Hr=null,Ql=0;var i=e.return;try{if(mA(t,i,e,n,de)){Be=1,lu(t,ln(n,t.current)),le=null;return}}catch(r){if(i!==null)throw le=i,r;Be=1,lu(t,ln(n,t.current)),le=null;return}e.flags&32768?(fe||s===1?t=!0:wa||de&536870912?t=!1:(Qs=t=!0,(s===2||s===9||s===3||s===6)&&(s=Jt.current,s!==null&&s.tag===13&&(s.flags|=16384))),bE(e,t)):ch(e)}function ch(t){var e=t;do{if(e.flags&32768){bE(e,Qs);return}t=e.return;var n=yA(e.alternate,e,ps);if(n!==null){le=n;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);Be===0&&(Be=5)}function bE(t,e){do{var n=vA(t.alternate,t);if(n!==null){n.flags&=32767,le=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){le=t;return}le=t=n}while(t!==null);Be=6,le=null}function O0(t,e,n,s,i,r,a,c,u){t.cancelPendingCommit=null;do uh();while(st!==0);if(pe&6)throw Error(U(327));if(e!==null){if(e===t.current)throw Error(U(177));if(r=e.lanes|e.childLanes,r|=qm,rN(t,n,r,a,c,u),t===Se&&(le=Se=null,de=0),aa=e,ti=t,as=n,Lf=r,zf=i,dE=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,IA(Xc,function(){return SE(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=J.T,J.T=null,i=ge.p,ge.p=2,a=pe,pe|=4;try{xA(t,e,n)}finally{pe=a,ge.p=i,J.T=s}}st=1,_E(),EE(),wE()}}function _E(){if(st===1){st=0;var t=ti,e=aa,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=J.T,J.T=null;var s=ge.p;ge.p=2;var i=pe;pe|=4;try{iE(e,t);var r=Gf,a=Lb(t.containerInfo),c=r.focusedElem,u=r.selectionRange;if(a!==c&&c&&c.ownerDocument&&Ub(c.ownerDocument.documentElement,c)){if(u!==null&&Hm(c)){var h=u.start,f=u.end;if(f===void 0&&(f=h),"selectionStart"in c)c.selectionStart=h,c.selectionEnd=Math.min(f,c.value.length);else{var m=c.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var y=p.getSelection(),R=c.textContent.length,j=Math.min(u.start,R),O=u.end===void 0?j:Math.min(u.end,R);!y.extend&&j>O&&(a=O,O=j,j=a);var b=t0(c,j),_=t0(c,O);if(b&&_&&(y.rangeCount!==1||y.anchorNode!==b.node||y.anchorOffset!==b.offset||y.focusNode!==_.node||y.focusOffset!==_.offset)){var T=m.createRange();T.setStart(b.node,b.offset),y.removeAllRanges(),j>O?(y.addRange(T),y.extend(_.node,_.offset)):(T.setEnd(_.node,_.offset),y.addRange(T))}}}}for(m=[],y=c;y=y.parentNode;)y.nodeType===1&&m.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<m.length;c++){var I=m[c];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}bu=!!qf,Gf=qf=null}finally{pe=i,ge.p=s,J.T=n}}t.current=e,st=2}}function EE(){if(st===2){st=0;var t=ti,e=aa,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=J.T,J.T=null;var s=ge.p;ge.p=2;var i=pe;pe|=4;try{Z_(t,e.alternate,e)}finally{pe=i,ge.p=s,J.T=n}}st=3}}function wE(){if(st===4||st===3){st=0,X1();var t=ti,e=aa,n=as,s=dE;e.subtreeFlags&10256||e.flags&10256?st=5:(st=0,aa=ti=null,TE(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(ei=null),Pm(n),e=e.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(fo,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=J.T,i=ge.p,ge.p=2,J.T=null;try{for(var r=t.onRecoverableError,a=0;a<s.length;a++){var c=s[a];r(c.value,{componentStack:c.stack})}}finally{J.T=e,ge.p=i}}as&3&&uh(),Hn(t),i=t.pendingLanes,n&261930&&i&42?t===Bf?Dl++:(Dl=0,Bf=t):Dl=0,_o(0)}}function TE(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,vo(e)))}function uh(){return _E(),EE(),wE(),SE()}function SE(){if(st!==5)return!1;var t=ti,e=Lf;Lf=0;var n=Pm(as),s=J.T,i=ge.p;try{ge.p=32>n?32:n,J.T=null,n=zf,zf=null;var r=ti,a=as;if(st=0,aa=ti=null,as=0,pe&6)throw Error(U(331));var c=pe;if(pe|=4,cE(r.current),aE(r,r.current,a,n),pe=c,_o(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(fo,r)}catch{}return!0}finally{ge.p=i,J.T=s,TE(t,e)}}function k0(t,e,n){e=ln(n,e),e=kf(t.stateNode,e,2),t=Zs(t,e,2),t!==null&&(po(t,2),Hn(t))}function be(t,e,n){if(t.tag===3)k0(t,t,n);else for(;e!==null;){if(e.tag===3){k0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ei===null||!ei.has(s))){t=ln(n,t),n=z_(2),s=Zs(e,n,2),s!==null&&(B_(n,s,e,t),po(s,2),Hn(s));break}}e=e.return}}function Dd(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new EA;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(yp=!0,i.add(n),t=AA.bind(null,t,e,n),e.then(t,t))}function AA(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Se===t&&(de&n)===n&&(Be===4||Be===3&&(de&62914560)===de&&300>Qt()-lh?!(pe&2)&&la(t,0):vp|=n,ra===de&&(ra=0)),Hn(t)}function NE(t,e){e===0&&(e=yb()),t=cr(t,e),t!==null&&(po(t,e),Hn(t))}function RA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NE(t,n)}function CA(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(U(314))}s!==null&&s.delete(e),NE(t,n)}function IA(t,e){return km(t,e)}var fu=null,_r=null,Ff=!1,mu=!1,Od=!1,Ks=0;function Hn(t){t!==_r&&t.next===null&&(_r===null?fu=_r=t:_r=_r.next=t),mu=!0,Ff||(Ff=!0,DA())}function _o(t,e){if(!Od&&mu){Od=!0;do for(var n=!1,s=fu;s!==null;){if(t!==0){var i=s.pendingLanes;if(i===0)var r=0;else{var a=s.suspendedLanes,c=s.pingedLanes;r=(1<<31-Kt(42|t)+1)-1,r&=i&~(a&~c),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,M0(s,r))}else r=de,r=Xu(s,s===Se?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(r&3)||mo(s,r)||(n=!0,M0(s,r));s=s.next}while(n);Od=!1}}function jA(){AE()}function AE(){mu=Ff=!1;var t=0;Ks!==0&&FA()&&(t=Ks);for(var e=Qt(),n=null,s=fu;s!==null;){var i=s.next,r=RE(s,e);r===0?(s.next=null,n===null?fu=i:n.next=i,i===null&&(_r=n)):(n=s,(t!==0||r&3)&&(mu=!0)),s=i}st!==0&&st!==5||_o(t),Ks!==0&&(Ks=0)}function RE(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var a=31-Kt(r),c=1<<a,u=i[a];u===-1?(!(c&n)||c&s)&&(i[a]=iN(c,e)):u<=e&&(t.expiredLanes|=c),r&=~c}if(e=Se,n=de,n=Xu(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(xe===2||xe===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&ld(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||mo(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&ld(s),Pm(n)){case 2:case 8:n=pb;break;case 32:n=Xc;break;case 268435456:n=gb;break;default:n=Xc}return s=CE.bind(null,t),n=km(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&ld(s),t.callbackPriority=2,t.callbackNode=null,2}function CE(t,e){if(st!==0&&st!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(uh()&&t.callbackNode!==n)return null;var s=de;return s=Xu(t,t===Se?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(mE(t,s,e),RE(t,Qt()),t.callbackNode!=null&&t.callbackNode===n?CE.bind(null,t):null)}function M0(t,e){if(uh())return null;mE(t,e,!0)}function DA(){qA(function(){pe&6?km(mb,jA):AE()})}function bp(){if(Ks===0){var t=na;t===0&&(t=Jo,Jo<<=1,!(Jo&261888)&&(Jo=256)),Ks=t}return Ks}function P0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_c(""+t)}function V0(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function OA(t,e,n,s,i){if(e==="submit"&&n&&n.stateNode===i){var r=P0((i[Vt]||null).action),a=s.submitter;a&&(e=(e=a[Vt]||null)?P0(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var c=new Wu("action","action",null,s,i);t.push({event:c,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ks!==0){var u=a?V0(i,a):new FormData(i);Df(n,{pending:!0,data:u,method:i.method,action:r},null,u)}}else typeof r=="function"&&(c.preventDefault(),u=a?V0(i,a):new FormData(i),Df(n,{pending:!0,data:u,method:i.method,action:r},r,u))},currentTarget:i}]})}}for(var kd=0;kd<bf.length;kd++){var Md=bf[kd],kA=Md.toLowerCase(),MA=Md[0].toUpperCase()+Md.slice(1);Nn(kA,"on"+MA)}Nn(Bb,"onAnimationEnd");Nn(Fb,"onAnimationIteration");Nn(Hb,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(WN,"onTransitionRun");Nn(JN,"onTransitionStart");Nn(ZN,"onTransitionCancel");Nn(qb,"onTransitionEnd");ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function IE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var a=s.length-1;0<=a;a--){var c=s[a],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==r&&i.isPropagationStopped())break e;r=c,i.currentTarget=h;try{r(i)}catch(f){Jc(f)}i.currentTarget=null,r=u}else for(a=0;a<s.length;a++){if(c=s[a],u=c.instance,h=c.currentTarget,c=c.listener,u!==r&&i.isPropagationStopped())break e;r=c,i.currentTarget=h;try{r(i)}catch(f){Jc(f)}i.currentTarget=null,r=u}}}}function ae(t,e){var n=e[df];n===void 0&&(n=e[df]=new Set);var s=t+"__bubble";n.has(s)||(jE(e,t,2,!1),n.add(s))}function Pd(t,e,n){var s=0;e&&(s|=4),jE(n,t,s,e)}var oc="_reactListening"+Math.random().toString(36).slice(2);function _p(t){if(!t[oc]){t[oc]=!0,Eb.forEach(function(n){n!=="selectionchange"&&(PA.has(n)||Pd(n,!1,t),Pd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oc]||(e[oc]=!0,Pd("selectionchange",!1,e))}}function jE(t,e,n,s){switch(qE(e)){case 2:var i=uR;break;case 8:i=hR;break;default:i=Sp}n=i.bind(null,e,n,t),i=void 0,!yf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vd(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var c=s.stateNode.containerInfo;if(c===i)break;if(a===4)for(a=s.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;c!==null;){if(a=Rr(c),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){s=r=a;continue e}c=c.parentNode}}s=s.return}Ib(function(){var h=r,f=Lm(n),m=[];e:{var p=Gb.get(t);if(p!==void 0){var y=Wu,R=t;switch(t){case"keypress":if(wc(n)===0)break e;case"keydown":case"keyup":y=CN;break;case"focusin":R="focus",y=dd;break;case"focusout":R="blur",y=dd;break;case"beforeblur":case"afterblur":y=dd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=yN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=DN;break;case Bb:case Fb:case Hb:y=bN;break;case qb:y=kN;break;case"scroll":case"scrollend":y=pN;break;case"wheel":y=PN;break;case"copy":case"cut":case"paste":y=EN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Yy;break;case"toggle":case"beforetoggle":y=UN}var j=(e&4)!==0,O=!j&&(t==="scroll"||t==="scrollend"),b=j?p!==null?p+"Capture":null:p;j=[];for(var _=h,T;_!==null;){var I=_;if(T=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||T===null||b===null||(I=Bl(_,b),I!=null&&j.push(Xl(_,I,T))),O)break;_=_.return}0<j.length&&(p=new y(p,R,null,n,f),m.push({event:p,listeners:j}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==gf&&(R=n.relatedTarget||n.fromElement)&&(Rr(R)||R[xa]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(R=n.relatedTarget||n.toElement,y=h,R=R?Rr(R):null,R!==null&&(O=ho(R),j=R.tag,R!==O||j!==5&&j!==27&&j!==6)&&(R=null)):(y=null,R=h),y!==R)){if(j=Gy,I="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(j=Yy,I="onPointerLeave",b="onPointerEnter",_="pointer"),O=y==null?p:hl(y),T=R==null?p:hl(R),p=new j(I,_+"leave",y,n,f),p.target=O,p.relatedTarget=T,I=null,Rr(f)===h&&(j=new j(b,_+"enter",R,n,f),j.target=T,j.relatedTarget=O,I=j),O=I,y&&R)t:{for(j=VA,b=y,_=R,T=0,I=b;I;I=j(I))T++;I=0;for(var z=_;z;z=j(z))I++;for(;0<T-I;)b=j(b),T--;for(;0<I-T;)_=j(_),I--;for(;T--;){if(b===_||_!==null&&b===_.alternate){j=b;break t}b=j(b),_=j(_)}j=null}else j=null;y!==null&&U0(m,p,y,j,!1),R!==null&&O!==null&&U0(m,O,R,j,!0)}}e:{if(p=h?hl(h):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var B=Wy;else if(Xy(p))if(Pb)B=KN;else{B=QN;var w=GN}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?h&&Um(h.elementType)&&(B=Wy):B=YN;if(B&&(B=B(t,h))){Mb(m,B,n,f);break e}w&&w(t,p,h),t==="focusout"&&h&&p.type==="number"&&h.memoizedProps.value!=null&&pf(p,"number",p.value)}switch(w=h?hl(h):window,t){case"focusin":(Xy(w)||w.contentEditable==="true")&&(jr=w,vf=h,wl=null);break;case"focusout":wl=vf=jr=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,n0(m,n,f);break;case"selectionchange":if(XN)break;case"keydown":case"keyup":n0(m,n,f)}var v;if(Fm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ir?Ob(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Db&&n.locale!=="ko"&&(Ir||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ir&&(v=jb()):(Gs=f,zm="value"in Gs?Gs.value:Gs.textContent,Ir=!0)),w=pu(h,E),0<w.length&&(E=new Qy(E,t,null,n,f),m.push({event:E,listeners:w}),v?E.data=v:(v=kb(n),v!==null&&(E.data=v)))),(v=zN?BN(t,n):FN(t,n))&&(E=pu(h,"onBeforeInput"),0<E.length&&(w=new Qy("onBeforeInput","beforeinput",null,n,f),m.push({event:w,listeners:E}),w.data=v)),OA(m,t,h,n,f)}IE(m,e)})}function Xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pu(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Bl(t,n),i!=null&&s.unshift(Xl(t,i,r)),i=Bl(t,e),i!=null&&s.push(Xl(t,i,r))),t.tag===3)return s;t=t.return}return[]}function VA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function U0(t,e,n,s,i){for(var r=e._reactName,a=[];n!==null&&n!==s;){var c=n,u=c.alternate,h=c.stateNode;if(c=c.tag,u!==null&&u===s)break;c!==5&&c!==26&&c!==27||h===null||(u=h,i?(h=Bl(n,r),h!=null&&a.unshift(Xl(n,h,u))):i||(h=Bl(n,r),h!=null&&a.push(Xl(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var UA=/\r\n?/g,LA=/\u0000|\uFFFD/g;function L0(t){return(typeof t=="string"?t:""+t).replace(UA,`
`).replace(LA,"")}function DE(t,e){return e=L0(e),L0(t)===e}function _e(t,e,n,s,i,r){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||ta(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&ta(t,""+s);break;case"className":tc(t,"class",s);break;case"tabIndex":tc(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":tc(t,n,s);break;case"style":Cb(t,s,r);break;case"data":if(e!=="object"){tc(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=_c(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&_e(t,e,"name",i.name,i,null),_e(t,e,"formEncType",i.formEncType,i,null),_e(t,e,"formMethod",i.formMethod,i,null),_e(t,e,"formTarget",i.formTarget,i,null)):(_e(t,e,"encType",i.encType,i,null),_e(t,e,"method",i.method,i,null),_e(t,e,"target",i.target,i,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=_c(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=es);break;case"onScroll":s!=null&&ae("scroll",t);break;case"onScrollEnd":s!=null&&ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(U(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=_c(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":ae("beforetoggle",t),ae("toggle",t),bc(t,"popover",s);break;case"xlinkActuate":Qn(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Qn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Qn(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Qn(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Qn(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Qn(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":bc(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=fN.get(n)||n,bc(t,n,s))}}function Hf(t,e,n,s,i,r){switch(n){case"style":Cb(t,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(U(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"children":typeof s=="string"?ta(t,s):(typeof s=="number"||typeof s=="bigint")&&ta(t,""+s);break;case"onScroll":s!=null&&ae("scroll",t);break;case"onScrollEnd":s!=null&&ae("scrollend",t);break;case"onClick":s!=null&&(t.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wb.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),r=t[Vt]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,i),typeof s=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,i);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):bc(t,n,s)}}}function vt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",t),ae("load",t);var s=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:_e(t,e,r,a,n,null)}}i&&_e(t,e,"srcSet",n.srcSet,n,null),s&&_e(t,e,"src",n.src,n,null);return;case"input":ae("invalid",t);var c=r=a=i=null,u=null,h=null;for(s in n)if(n.hasOwnProperty(s)){var f=n[s];if(f!=null)switch(s){case"name":i=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":h=f;break;case"value":r=f;break;case"defaultValue":c=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(U(137,e));break;default:_e(t,e,s,f,n,null)}}Nb(t,r,c,u,h,a,i,!1);return;case"select":ae("invalid",t),s=a=r=null;for(i in n)if(n.hasOwnProperty(i)&&(c=n[i],c!=null))switch(i){case"value":r=c;break;case"defaultValue":a=c;break;case"multiple":s=c;default:_e(t,e,i,c,n,null)}e=r,n=a,t.multiple=!!s,e!=null?zr(t,!!s,e,!1):n!=null&&zr(t,!!s,n,!0);return;case"textarea":ae("invalid",t),r=i=s=null;for(a in n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case"value":s=c;break;case"defaultValue":i=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(U(91));break;default:_e(t,e,a,c,n,null)}Rb(t,s,i,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:_e(t,e,u,s,n,null)}return;case"dialog":ae("beforetoggle",t),ae("toggle",t),ae("cancel",t),ae("close",t);break;case"iframe":case"object":ae("load",t);break;case"video":case"audio":for(s=0;s<$l.length;s++)ae($l[s],t);break;case"image":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"embed":case"source":case"link":ae("error",t),ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:_e(t,e,h,s,n,null)}return;default:if(Um(e)){for(f in n)n.hasOwnProperty(f)&&(s=n[f],s!==void 0&&Hf(t,e,f,s,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(s=n[c],s!=null&&_e(t,e,c,s,n,null))}function zA(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,a=null,c=null,u=null,h=null,f=null;for(y in n){var m=n[y];if(n.hasOwnProperty(y)&&m!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=m;default:s.hasOwnProperty(y)||_e(t,e,y,null,s,m)}}for(var p in s){var y=s[p];if(m=n[p],s.hasOwnProperty(p)&&(y!=null||m!=null))switch(p){case"type":r=y;break;case"name":i=y;break;case"checked":h=y;break;case"defaultChecked":f=y;break;case"value":a=y;break;case"defaultValue":c=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(U(137,e));break;default:y!==m&&_e(t,e,p,y,s,m)}}mf(t,a,c,u,h,f,r,i);return;case"select":y=a=c=p=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":y=u;default:s.hasOwnProperty(r)||_e(t,e,r,null,s,u)}for(i in s)if(r=s[i],u=n[i],s.hasOwnProperty(i)&&(r!=null||u!=null))switch(i){case"value":p=r;break;case"defaultValue":c=r;break;case"multiple":a=r;default:r!==u&&_e(t,e,i,r,s,u)}e=c,n=a,s=y,p!=null?zr(t,!!n,p,!1):!!s!=!!n&&(e!=null?zr(t,!!n,e,!0):zr(t,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(c in n)if(i=n[c],n.hasOwnProperty(c)&&i!=null&&!s.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:_e(t,e,c,null,s,i)}for(a in s)if(i=s[a],r=n[a],s.hasOwnProperty(a)&&(i!=null||r!=null))switch(a){case"value":p=i;break;case"defaultValue":y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(U(91));break;default:i!==r&&_e(t,e,a,i,s,r)}Ab(t,p,y);return;case"option":for(var R in n)if(p=n[R],n.hasOwnProperty(R)&&p!=null&&!s.hasOwnProperty(R))switch(R){case"selected":t.selected=!1;break;default:_e(t,e,R,null,s,p)}for(u in s)if(p=s[u],y=n[u],s.hasOwnProperty(u)&&p!==y&&(p!=null||y!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:_e(t,e,u,p,s,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var j in n)p=n[j],n.hasOwnProperty(j)&&p!=null&&!s.hasOwnProperty(j)&&_e(t,e,j,null,s,p);for(h in s)if(p=s[h],y=n[h],s.hasOwnProperty(h)&&p!==y&&(p!=null||y!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(U(137,e));break;default:_e(t,e,h,p,s,y)}return;default:if(Um(e)){for(var O in n)p=n[O],n.hasOwnProperty(O)&&p!==void 0&&!s.hasOwnProperty(O)&&Hf(t,e,O,void 0,s,p);for(f in s)p=s[f],y=n[f],!s.hasOwnProperty(f)||p===y||p===void 0&&y===void 0||Hf(t,e,f,p,s,y);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&p!=null&&!s.hasOwnProperty(b)&&_e(t,e,b,null,s,p);for(m in s)p=s[m],y=n[m],!s.hasOwnProperty(m)||p===y||p==null&&y==null||_e(t,e,m,p,s,y)}function z0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var i=n[s],r=i.transferSize,a=i.initiatorType,c=i.duration;if(r&&c&&z0(a)){for(a=0,c=i.responseEnd,s+=1;s<n.length;s++){var u=n[s],h=u.startTime;if(h>c)break;var f=u.transferSize,m=u.initiatorType;f&&z0(m)&&(u=u.responseEnd,a+=f*(u<c?1:(c-h)/(u-h)))}if(--s,e+=8*(r+a)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qf=null,Gf=null;function gu(t){return t.nodeType===9?t:t.ownerDocument}function B0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function OE(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Qf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ud=null;function FA(){var t=window.event;return t&&t.type==="popstate"?t===Ud?!1:(Ud=t,!0):(Ud=null,!1)}var kE=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,qA=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(t){return F0.resolve(null).then(t).catch(GA)}:kE;function GA(t){setTimeout(function(){throw t})}function wi(t){return t==="head"}function H0(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(i),ca(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")Ol(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Ol(n);for(var r=n.firstChild;r;){var a=r.nextSibling,c=r.nodeName;r[go]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&Ol(t.ownerDocument.body);n=i}while(n);ca(e)}function q0(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function Yf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yf(n),Vm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function QA(t,e,n,s){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[go])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=dn(t.nextSibling),t===null)break}return null}function YA(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=dn(t.nextSibling),t===null))return null;return t}function ME(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=dn(t.nextSibling),t===null))return null;return t}function Kf(t){return t.data==="$?"||t.data==="$~"}function $f(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function KA(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Xf=null;function G0(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return dn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Q0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function PE(t,e,n){switch(e=gu(n),t){case"html":if(t=e.documentElement,!t)throw Error(U(452));return t;case"head":if(t=e.head,!t)throw Error(U(453));return t;case"body":if(t=e.body,!t)throw Error(U(454));return t;default:throw Error(U(451))}}function Ol(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Vm(t)}var mn=new Map,Y0=new Set;function yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _s=ge.d;ge.d={f:$A,r:XA,D:WA,C:JA,L:ZA,m:eR,X:nR,S:tR,M:sR};function $A(){var t=_s.f(),e=oh();return t||e}function XA(t){var e=ba(t);e!==null&&e.tag===5&&e.type==="form"?C_(e):_s.r(t)}var Ta=typeof document>"u"?null:document;function VE(t,e,n){var s=Ta;if(s&&typeof e=="string"&&e){var i=an(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Y0.has(i)||(Y0.add(i),t={rel:t,crossOrigin:n,href:e},s.querySelector(i)===null&&(e=s.createElement("link"),vt(e,"link",t),ct(e),s.head.appendChild(e)))}}function WA(t){_s.D(t),VE("dns-prefetch",t,null)}function JA(t,e){_s.C(t,e),VE("preconnect",t,e)}function ZA(t,e,n){_s.L(t,e,n);var s=Ta;if(s&&t&&e){var i='link[rel="preload"][as="'+an(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+an(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+an(n.imageSizes)+'"]')):i+='[href="'+an(t)+'"]';var r=i;switch(e){case"style":r=oa(t);break;case"script":r=Sa(t)}mn.has(r)||(t=ke({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),mn.set(r,t),s.querySelector(i)!==null||e==="style"&&s.querySelector(Eo(r))||e==="script"&&s.querySelector(wo(r))||(e=s.createElement("link"),vt(e,"link",t),ct(e),s.head.appendChild(e)))}}function eR(t,e){_s.m(t,e);var n=Ta;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+an(s)+'"][href="'+an(t)+'"]',r=i;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Sa(t)}if(!mn.has(r)&&(t=ke({rel:"modulepreload",href:t},e),mn.set(r,t),n.querySelector(i)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wo(r)))return}s=n.createElement("link"),vt(s,"link",t),ct(s),n.head.appendChild(s)}}}function tR(t,e,n){_s.S(t,e,n);var s=Ta;if(s&&t){var i=Lr(s).hoistableStyles,r=oa(t);e=e||"default";var a=i.get(r);if(!a){var c={loading:0,preload:null};if(a=s.querySelector(Eo(r)))c.loading=5;else{t=ke({rel:"stylesheet",href:t,"data-precedence":e},n),(n=mn.get(r))&&Ep(t,n);var u=a=s.createElement("link");ct(u),vt(u,"link",t),u._p=new Promise(function(h,f){u.onload=h,u.onerror=f}),u.addEventListener("load",function(){c.loading|=1}),u.addEventListener("error",function(){c.loading|=2}),c.loading|=4,jc(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:c},i.set(r,a)}}}function nR(t,e){_s.X(t,e);var n=Ta;if(n&&t){var s=Lr(n).hoistableScripts,i=Sa(t),r=s.get(i);r||(r=n.querySelector(wo(i)),r||(t=ke({src:t,async:!0},e),(e=mn.get(i))&&wp(t,e),r=n.createElement("script"),ct(r),vt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function sR(t,e){_s.M(t,e);var n=Ta;if(n&&t){var s=Lr(n).hoistableScripts,i=Sa(t),r=s.get(i);r||(r=n.querySelector(wo(i)),r||(t=ke({src:t,async:!0,type:"module"},e),(e=mn.get(i))&&wp(t,e),r=n.createElement("script"),ct(r),vt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function K0(t,e,n,s){var i=(i=Xs.current)?yu(i):null;if(!i)throw Error(U(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=oa(n.href),n=Lr(i).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=oa(n.href);var r=Lr(i).hoistableStyles,a=r.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,a),(r=i.querySelector(Eo(t)))&&!r._p&&(a.instance=r,a.state.loading=5),mn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},mn.set(t,n),r||iR(i,t,n,a.state))),e&&s===null)throw Error(U(528,""));return a}if(e&&s!==null)throw Error(U(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Sa(n),n=Lr(i).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,t))}}function oa(t){return'href="'+an(t)+'"'}function Eo(t){return'link[rel="stylesheet"]['+t+"]"}function UE(t){return ke({},t,{"data-precedence":t.precedence,precedence:null})}function iR(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),vt(e,"link",n),ct(e),t.head.appendChild(e))}function Sa(t){return'[src="'+an(t)+'"]'}function wo(t){return"script[async]"+t}function $0(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+an(n.href)+'"]');if(s)return e.instance=s,ct(s),s;var i=ke({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),ct(s),vt(s,"style",i),jc(s,n.precedence,t),e.instance=s;case"stylesheet":i=oa(n.href);var r=t.querySelector(Eo(i));if(r)return e.state.loading|=4,e.instance=r,ct(r),r;s=UE(n),(i=mn.get(i))&&Ep(s,i),r=(t.ownerDocument||t).createElement("link"),ct(r);var a=r;return a._p=new Promise(function(c,u){a.onload=c,a.onerror=u}),vt(r,"link",s),e.state.loading|=4,jc(r,n.precedence,t),e.instance=r;case"script":return r=Sa(n.src),(i=t.querySelector(wo(r)))?(e.instance=i,ct(i),i):(s=n,(i=mn.get(r))&&(s=ke({},n),wp(s,i)),t=t.ownerDocument||t,i=t.createElement("script"),ct(i),vt(i,"link",s),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(U(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,jc(s,n.precedence,t));return e.instance}function jc(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=s.length?s[s.length-1]:null,r=i,a=0;a<s.length;a++){var c=s[a];if(c.dataset.precedence===e)r=c;else if(r!==i)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Ep(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function wp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Dc=null;function X0(t,e,n){if(Dc===null){var s=new Map,i=Dc=new Map;i.set(n,s)}else i=Dc,s=i.get(n),s||(s=new Map,i.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var r=n[i];if(!(r[go]||r[mt]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=t+a;var c=s.get(a);c?c.push(r):s.set(a,[r])}}return s}function W0(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function rR(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function LE(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function aR(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=oa(s.href),r=e.querySelector(Eo(i));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=vu.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=r,ct(r);return}r=e.ownerDocument||e,s=UE(s),(i=mn.get(i))&&Ep(s,i),r=r.createElement("link"),ct(r);var a=r;a._p=new Promise(function(c,u){a.onload=c,a.onerror=u}),vt(r,"link",s),n.instance=r}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=vu.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Ld=0;function lR(t,e){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4+e);0<t.imgBytes&&Ld===0&&(Ld=62500*BA());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var r=t.unsuspend;t.unsuspend=null,r()}},(t.imgBytes>Ld?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(i)}}:null}function vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xu=null;function Oc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xu=new Map,e.forEach(oR,t),xu=null,vu.call(t))}function oR(t,e){if(!(e.state.loading&4)){var n=xu.get(t);if(n)var s=n.get(null);else{n=new Map,xu.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var a=i[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}i=e.instance,a=i.getAttribute("data-precedence"),r=n.get(a)||s,r===s&&n.set(null,i),n.set(a,i),this.count++,s=vu.bind(this),i.addEventListener("load",s),i.addEventListener("error",s),r?r.parentNode.insertBefore(i,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Wl={$$typeof:Zn,Provider:null,Consumer:null,_currentValue:zi,_currentValue2:zi,_threadCount:0};function cR(t,e,n,s,i,r,a,c,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=od(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=od(0),this.hiddenUpdates=od(null),this.identifierPrefix=s,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function zE(t,e,n,s,i,r,a,c,u,h,f,m){return t=new cR(t,e,n,a,u,h,f,m,c),e=1,r===!0&&(e|=24),r=Ht(3,null,null,e),t.current=r,r.stateNode=t,e=$m(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:s,isDehydrated:n,cache:e},Jm(r),t}function BE(t){return t?(t=kr,t):kr}function FE(t,e,n,s,i,r){i=BE(i),s.context===null?s.context=i:s.pendingContext=i,s=Js(e),s.payload={element:n},r=r===void 0?null:r,r!==null&&(s.callback=r),n=Zs(t,s,e),n!==null&&(Pt(n,t,e),Sl(n,t,e))}function J0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tp(t,e){J0(t,e),(t=t.alternate)&&J0(t,e)}function HE(t){if(t.tag===13||t.tag===31){var e=cr(t,67108864);e!==null&&Pt(e,t,67108864),Tp(t,67108864)}}function Z0(t){if(t.tag===13||t.tag===31){var e=$t();e=Mm(e);var n=cr(t,e);n!==null&&Pt(n,t,e),Tp(t,e)}}var bu=!0;function uR(t,e,n,s){var i=J.T;J.T=null;var r=ge.p;try{ge.p=2,Sp(t,e,n,s)}finally{ge.p=r,J.T=i}}function hR(t,e,n,s){var i=J.T;J.T=null;var r=ge.p;try{ge.p=8,Sp(t,e,n,s)}finally{ge.p=r,J.T=i}}function Sp(t,e,n,s){if(bu){var i=Wf(s);if(i===null)Vd(t,e,s,_u,n),ev(t,s);else if(fR(i,t,e,n,s))s.stopPropagation();else if(ev(t,s),e&4&&-1<dR.indexOf(t)){for(;i!==null;){var r=ba(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=Mi(r.pendingLanes);if(a!==0){var c=r;for(c.pendingLanes|=2,c.entangledLanes|=2;a;){var u=1<<31-Kt(a);c.entanglements[1]|=u,a&=~u}Hn(r),!(pe&6)&&(uu=Qt()+500,_o(0))}}break;case 31:case 13:c=cr(r,2),c!==null&&Pt(c,r,2),oh(),Tp(r,2)}if(r=Wf(s),r===null&&Vd(t,e,s,_u,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else Vd(t,e,s,null,n)}}function Wf(t){return t=Lm(t),Np(t)}var _u=null;function Np(t){if(_u=null,t=Rr(t),t!==null){var e=ho(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=cb(e),t!==null)return t;t=null}else if(n===31){if(t=ub(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return _u=t,null}function qE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(W1()){case mb:return 2;case pb:return 8;case Xc:case J1:return 32;case gb:return 268435456;default:return 32}default:return 32}}var Jf=!1,ni=null,si=null,ii=null,Jl=new Map,Zl=new Map,Ls=[],dR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(t,e){switch(t){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(e.pointerId)}}function rl(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=ba(e),e!==null&&HE(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fR(t,e,n,s,i){switch(e){case"focusin":return ni=rl(ni,t,e,n,s,i),!0;case"dragenter":return si=rl(si,t,e,n,s,i),!0;case"mouseover":return ii=rl(ii,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Jl.set(r,rl(Jl.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Zl.set(r,rl(Zl.get(r)||null,t,e,n,s,i)),!0}return!1}function GE(t){var e=Rr(t.target);if(e!==null){var n=ho(e);if(n!==null){if(e=n.tag,e===13){if(e=cb(n),e!==null){t.blockedOn=e,Uy(t.priority,function(){Z0(n)});return}}else if(e===31){if(e=ub(n),e!==null){t.blockedOn=e,Uy(t.priority,function(){Z0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wf(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);gf=s,n.target.dispatchEvent(s),gf=null}else return e=ba(n),e!==null&&HE(e),t.blockedOn=n,!1;e.shift()}return!0}function tv(t,e,n){kc(t)&&n.delete(e)}function mR(){Jf=!1,ni!==null&&kc(ni)&&(ni=null),si!==null&&kc(si)&&(si=null),ii!==null&&kc(ii)&&(ii=null),Jl.forEach(tv),Zl.forEach(tv)}function cc(t,e){t.blockedOn===e&&(t.blockedOn=null,Jf||(Jf=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,mR)))}var uc=null;function nv(t){uc!==t&&(uc=t,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,function(){uc===t&&(uc=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],i=t[e+2];if(typeof s!="function"){if(Np(s||n)===null)continue;break}var r=ba(n);r!==null&&(t.splice(e,3),e-=3,Df(r,{pending:!0,data:i,method:n.method,action:s},s,i))}}))}function ca(t){function e(u){return cc(u,t)}ni!==null&&cc(ni,t),si!==null&&cc(si,t),ii!==null&&cc(ii,t),Jl.forEach(e),Zl.forEach(e);for(var n=0;n<Ls.length;n++){var s=Ls[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Ls.length&&(n=Ls[0],n.blockedOn===null);)GE(n),n.blockedOn===null&&Ls.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var i=n[s],r=n[s+1],a=i[Vt]||null;if(typeof r=="function")a||nv(n);else if(a){var c=null;if(r&&r.hasAttribute("formAction")){if(i=r,a=r[Vt]||null)c=a.formAction;else if(Np(i)!==null)continue}else c=a.action;typeof c=="function"?n[s+1]=c:(n.splice(s,3),s-=3),nv(n)}}}function QE(){function t(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function Ap(t){this._internalRoot=t}hh.prototype.render=Ap.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));var n=e.current,s=$t();FE(n,s,t,e,null,null)};hh.prototype.unmount=Ap.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;FE(t.current,2,null,t,null,null),oh(),e[xa]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=_b();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ls.length&&e!==0&&e<Ls[n].priority;n++);Ls.splice(n,0,t),n===0&&GE(t)}};var sv=lb.version;if(sv!=="19.2.3")throw Error(U(527,sv,"19.2.3"));ge.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=q1(e),t=t!==null?hb(t):null,t=t===null?null:t.stateNode,t};var pR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{fo=hc.inject(pR),Yt=hc}catch{}}Ku.createRoot=function(t,e){if(!ob(t))throw Error(U(299));var n=!1,s="",i=V_,r=U_,a=L_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=zE(t,1,!1,null,null,n,s,null,i,r,a,QE),t[xa]=e.current,_p(t),new Ap(e)};Ku.hydrateRoot=function(t,e,n){if(!ob(t))throw Error(U(299));var s=!1,i="",r=V_,a=U_,c=L_,u=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=zE(t,1,!0,e,n??null,s,i,u,r,a,c,QE),e.context=BE(null),n=e.current,s=$t(),s=Mm(s),i=Js(s),i.callback=null,Zs(n,i,s),n=s,e.current.lanes=n,po(e,n),Hn(e),t[xa]=e.current,_p(t),new hh(e)};Ku.version="19.2.3";function YE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YE)}catch(t){console.error(t)}}YE(),tb.exports=Ku;var gR=tb.exports;const yR=qx(gR);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iv="popstate";function vR(t={}){function e(s,i){let{pathname:r,search:a,hash:c}=s.location;return Zf("",{pathname:r,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:eo(i)}return bR(e,n,null,t)}function Pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xR(){return Math.random().toString(36).substring(2,10)}function rv(t,e){return{usr:t.state,key:t.key,idx:e}}function Zf(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:n,key:e&&e.key||s||xR()}}function eo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function bR(t,e,n,s={}){let{window:i=document.defaultView,v5Compat:r=!1}=s,a=i.history,c="POP",u=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function m(){c="POP";let O=f(),b=O==null?null:O-h;h=O,u&&u({action:c,location:j.location,delta:b})}function p(O,b){c="PUSH";let _=Zf(j.location,O,b);h=f()+1;let T=rv(_,h),I=j.createHref(_);try{a.pushState(T,"",I)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(I)}r&&u&&u({action:c,location:j.location,delta:1})}function y(O,b){c="REPLACE";let _=Zf(j.location,O,b);h=f();let T=rv(_,h),I=j.createHref(_);a.replaceState(T,"",I),r&&u&&u({action:c,location:j.location,delta:0})}function R(O){return _R(O)}let j={get action(){return c},get location(){return t(i,a)},listen(O){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(iv,m),u=O,()=>{i.removeEventListener(iv,m),u=null}},createHref(O){return e(i,O)},createURL:R,encodeLocation(O){let b=R(O);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:y,go(O){return a.go(O)}};return j}function _R(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:eo(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function KE(t,e,n="/"){return ER(t,e,n,!1)}function ER(t,e,n,s){let i=typeof e=="string"?Na(e):e,r=gs(i.pathname||"/",n);if(r==null)return null;let a=$E(t);wR(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let h=kR(r);c=DR(a[u],h,s)}return c}function $E(t,e=[],n=[],s="",i=!1){let r=(a,c,u=i,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(s)&&u)return;Pe(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length)}let m=ls([s,f.relativePath]),p=n.concat(f);a.children&&a.children.length>0&&(Pe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),$E(a.children,e,p,m,u)),!(a.path==null&&!a.index)&&e.push({path:m,score:IR(m,a.index),routesMeta:p})};return t.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))r(a,c);else for(let h of XE(a.path))r(a,c,!0,h)}),e}function XE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let a=XE(s.join("/")),c=[];return c.push(...a.map(u=>u===""?r:[r,u].join("/"))),i&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function wR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var TR=/^:[\w-]+$/,SR=3,NR=2,AR=1,RR=10,CR=-2,av=t=>t==="*";function IR(t,e){let n=t.split("/"),s=n.length;return n.some(av)&&(s+=CR),e&&(s+=NR),n.filter(i=>!av(i)).reduce((i,r)=>i+(TR.test(r)?SR:r===""?AR:RR),s)}function jR(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function DR(t,e,n=!1){let{routesMeta:s}=t,i={},r="/",a=[];for(let c=0;c<s.length;++c){let u=s[c],h=c===s.length-1,f=r==="/"?e:e.slice(r.length)||"/",m=Eu({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),p=u.route;if(!m&&h&&n&&!s[s.length-1].route.index&&(m=Eu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:ls([r,m.pathname]),pathnameBase:UR(ls([r,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(r=ls([r,m.pathnameBase]))}return a}function Eu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=OR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:s.reduce((h,{paramName:f,isOptional:m},p)=>{if(f==="*"){let R=c[p]||"";a=r.slice(0,r.length-R.length).replace(/(.)\/+$/,"$1")}const y=c[p];return m&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:r,pathnameBase:a,pattern:t}}function OR(t,e=!1,n=!0){pn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(s.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function kR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var MR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function PR(t,e="/"){let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?Na(t):t,r;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?r=lv(n.substring(1),"/"):r=lv(n,e)):r=e,{pathname:r,search:LR(s),hash:zR(i)}}function lv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zd(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rp(t){let e=VR(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Cp(t,e,n,s=!1){let i;typeof t=="string"?i=Na(t):(i={...t},Pe(!i.pathname||!i.pathname.includes("?"),zd("?","pathname","search",i)),Pe(!i.pathname||!i.pathname.includes("#"),zd("#","pathname","hash",i)),Pe(!i.search||!i.search.includes("#"),zd("#","search","hash",i)));let r=t===""||i.pathname==="",a=r?"/":i.pathname,c;if(a==null)c=n;else{let m=e.length-1;if(!s&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}c=m>=0?e[m]:"/"}let u=PR(i,c),h=a&&a!=="/"&&a.endsWith("/"),f=(r||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var ls=t=>t.join("/").replace(/\/\/+/g,"/"),UR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,BR=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function FR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function HR(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var WE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function JE(t,e){let n=t;if(typeof n!="string"||!MR.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,i=!1;if(WE)try{let r=new URL(window.location.href),a=n.startsWith("//")?new URL(r.protocol+n):new URL(n),c=gs(a.pathname,e);a.origin===r.origin&&c!=null?n=c+a.search+a.hash:i=!0}catch{pn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZE=["POST","PUT","PATCH","DELETE"];new Set(ZE);var qR=["GET",...ZE];new Set(qR);var Aa=C.createContext(null);Aa.displayName="DataRouter";var dh=C.createContext(null);dh.displayName="DataRouterState";var GR=C.createContext(!1),ew=C.createContext({isTransitioning:!1});ew.displayName="ViewTransition";var QR=C.createContext(new Map);QR.displayName="Fetchers";var YR=C.createContext(null);YR.displayName="Await";var Zt=C.createContext(null);Zt.displayName="Navigation";var To=C.createContext(null);To.displayName="Location";var An=C.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var Ip=C.createContext(null);Ip.displayName="RouteError";var tw="REACT_ROUTER_ERROR",KR="REDIRECT",$R="ROUTE_ERROR_RESPONSE";function XR(t){if(t.startsWith(`${tw}:${KR}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function WR(t){if(t.startsWith(`${tw}:${$R}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new BR(e.status,e.statusText,e.data)}catch{}}function JR(t,{relative:e}={}){Pe(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=C.useContext(Zt),{hash:i,pathname:r,search:a}=So(t,{relative:e}),c=r;return n!=="/"&&(c=r==="/"?n:ls([n,r])),s.createHref({pathname:c,search:a,hash:i})}function Ra(){return C.useContext(To)!=null}function qn(){return Pe(Ra(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(To).location}var nw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sw(t){C.useContext(Zt).static||C.useLayoutEffect(t)}function hr(){let{isDataRoute:t}=C.useContext(An);return t?fC():ZR()}function ZR(){Pe(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Aa),{basename:e,navigator:n}=C.useContext(Zt),{matches:s}=C.useContext(An),{pathname:i}=qn(),r=JSON.stringify(Rp(s)),a=C.useRef(!1);return sw(()=>{a.current=!0}),C.useCallback((u,h={})=>{if(pn(a.current,nw),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Cp(u,JSON.parse(r),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ls([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,r,i,t])}var eC=C.createContext(null);function tC(t){let e=C.useContext(An).outlet;return C.useMemo(()=>e&&C.createElement(eC.Provider,{value:t},e),[e,t])}function So(t,{relative:e}={}){let{matches:n}=C.useContext(An),{pathname:s}=qn(),i=JSON.stringify(Rp(n));return C.useMemo(()=>Cp(t,JSON.parse(i),s,e==="path"),[t,i,s,e])}function nC(t,e){return iw(t,e)}function iw(t,e,n,s,i){var _;Pe(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=C.useContext(Zt),{matches:a}=C.useContext(An),c=a[a.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let T=m&&m.path||"";aw(h,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=qn(),y;if(e){let T=typeof e=="string"?Na(e):e;Pe(f==="/"||((_=T.pathname)==null?void 0:_.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=p;let R=y.pathname||"/",j=R;if(f!=="/"){let T=f.replace(/^\//,"").split("/");j="/"+R.replace(/^\//,"").split("/").slice(T.length).join("/")}let O=KE(t,{pathname:j});pn(m||O!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),pn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=lC(O&&O.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:ls([f,r.encodeLocation?r.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:ls([f,r.encodeLocation?r.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,n,s,i);return e&&b?C.createElement(To.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function sC(){let t=dC(),e=FR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},r={padding:"2px 4px",backgroundColor:s},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:r},"ErrorBoundary")," or"," ",C.createElement("code",{style:r},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,a)}var iC=C.createElement(sC,null),rw=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=WR(t.digest);n&&(t=n)}let e=t!==void 0?C.createElement(An.Provider,{value:this.props.routeContext},C.createElement(Ip.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?C.createElement(rC,{error:t},e):e}};rw.contextType=GR;var Bd=new WeakMap;function rC({children:t,error:e}){let{basename:n}=C.useContext(Zt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=XR(e.digest);if(s){let i=Bd.get(e);if(i)throw i;let r=JE(s.location,n);if(WE&&!Bd.get(e))if(r.isExternal||s.reloadDocument)window.location.href=r.absoluteURL||r.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(r.to,{replace:s.replace}));throw Bd.set(e,a),a}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${r.absoluteURL||r.to}`})}}return t}function aC({routeContext:t,match:e,children:n}){let s=C.useContext(Aa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(An.Provider,{value:t},n)}function lC(t,e=[],n=null,s=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,a=n==null?void 0:n.errors;if(a!=null){let f=r.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Pe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let c=!1,u=-1;if(n)for(let f=0;f<r.length;f++){let m=r[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:p,errors:y}=n,R=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||R){c=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}let h=n&&s?(f,m)=>{var p,y;s(f,{location:n.location,params:((y=(p=n.matches)==null?void 0:p[0])==null?void 0:y.params)??{},unstable_pattern:HR(n.matches),errorInfo:m})}:void 0;return r.reduceRight((f,m,p)=>{let y,R=!1,j=null,O=null;n&&(y=a&&m.route.id?a[m.route.id]:void 0,j=m.route.errorElement||iC,c&&(u<0&&p===0?(aw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,O=null):u===p&&(R=!0,O=m.route.hydrateFallbackElement||null)));let b=e.concat(r.slice(0,p+1)),_=()=>{let T;return y?T=j:R?T=O:m.route.Component?T=C.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=f,C.createElement(aC,{match:m,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:T})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?C.createElement(rw,{location:n.location,revalidation:n.revalidation,component:j,error:y,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:h}):_()},null)}function jp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oC(t){let e=C.useContext(Aa);return Pe(e,jp(t)),e}function cC(t){let e=C.useContext(dh);return Pe(e,jp(t)),e}function uC(t){let e=C.useContext(An);return Pe(e,jp(t)),e}function Dp(t){let e=uC(t),n=e.matches[e.matches.length-1];return Pe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function hC(){return Dp("useRouteId")}function dC(){var s;let t=C.useContext(Ip),e=cC("useRouteError"),n=Dp("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function fC(){let{router:t}=oC("useNavigate"),e=Dp("useNavigate"),n=C.useRef(!1);return sw(()=>{n.current=!0}),C.useCallback(async(i,r={})=>{pn(n.current,nw),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...r}))},[t,e])}var ov={};function aw(t,e,n){!e&&!ov[t]&&(ov[t]=!0,pn(!1,n))}C.memo(mC);function mC({routes:t,future:e,state:n,onError:s}){return iw(t,void 0,n,s,e)}function Fd({to:t,replace:e,state:n,relative:s}){Pe(Ra(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(Zt);pn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=C.useContext(An),{pathname:a}=qn(),c=hr(),u=Cp(t,Rp(r),a,s==="path"),h=JSON.stringify(u);return C.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:s})},[c,h,s,e,n]),null}function pC(t){return tC(t.context)}function zt(t){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gC({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:i,static:r=!1,unstable_useTransitions:a}){Pe(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:i,static:r,unstable_useTransitions:a,future:{}}),[c,i,r,a]);typeof n=="string"&&(n=Na(n));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:y="default"}=n,R=C.useMemo(()=>{let j=gs(h,c);return j==null?null:{location:{pathname:j,search:f,hash:m,state:p,key:y},navigationType:s}},[c,h,f,m,p,y,s]);return pn(R!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:C.createElement(Zt.Provider,{value:u},C.createElement(To.Provider,{children:e,value:R}))}function yC({children:t,location:e}){return nC(em(t),e)}function em(t,e=[]){let n=[];return C.Children.forEach(t,(s,i)=>{if(!C.isValidElement(s))return;let r=[...e,i];if(s.type===C.Fragment){n.push.apply(n,em(s.props.children,r));return}Pe(s.type===zt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let a={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=em(s.props.children,r)),n.push(a)}),n}var Mc="get",Pc="application/x-www-form-urlencoded";function fh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function vC(t){return fh(t)&&t.tagName.toLowerCase()==="button"}function xC(t){return fh(t)&&t.tagName.toLowerCase()==="form"}function bC(t){return fh(t)&&t.tagName.toLowerCase()==="input"}function _C(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EC(t,e){return t.button===0&&(!e||e==="_self")&&!_C(t)}function tm(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function wC(t,e){let n=tm(t);return e&&e.forEach((s,i)=>{n.has(i)||e.getAll(i).forEach(r=>{n.append(i,r)})}),n}var dc=null;function TC(){if(dc===null)try{new FormData(document.createElement("form"),0),dc=!1}catch{dc=!0}return dc}var SC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hd(t){return t!=null&&!SC.has(t)?(pn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pc}"`),null):t}function NC(t,e){let n,s,i,r,a;if(xC(t)){let c=t.getAttribute("action");s=c?gs(c,e):null,n=t.getAttribute("method")||Mc,i=Hd(t.getAttribute("enctype"))||Pc,r=new FormData(t)}else if(vC(t)||bC(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(s=u?gs(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Mc,i=Hd(t.getAttribute("formenctype"))||Hd(c.getAttribute("enctype"))||Pc,r=new FormData(c,t),!TC()){let{name:h,type:f,value:m}=t;if(f==="image"){let p=h?`${h}.`:"";r.append(`${p}x`,"0"),r.append(`${p}y`,"0")}else h&&r.append(h,m)}}else{if(fh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mc,s=null,i=Pc,a=t}return r&&i==="text/plain"&&(a=r,r=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:r,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Op(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AC(t,e,n,s){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${s}`:i.pathname=`${i.pathname}.${s}`:i.pathname==="/"?i.pathname=`_root.${s}`:e&&gs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function RC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function IC(t,e,n){let s=await Promise.all(t.map(async i=>{let r=e.routes[i.route.id];if(r){let a=await RC(r,n);return a.links?a.links():[]}return[]}));return kC(s.flat(1).filter(CC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cv(t,e,n,s,i,r){let a=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>{var f;return n[h].pathname!==u.pathname||((f=n[h].route.path)==null?void 0:f.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return r==="assets"?e.filter((u,h)=>a(u,h)||c(u,h)):r==="data"?e.filter((u,h)=>{var m;let f=s.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function jC(t,e,{includeHydrateFallback:n}={}){return DC(t.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function DC(t){return[...new Set(t)]}function OC(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function kC(t,e){let n=new Set;return new Set(e),t.reduce((s,i)=>{let r=JSON.stringify(OC(i));return n.has(r)||(n.add(r),s.push({key:r,link:i})),s},[])}function lw(){let t=C.useContext(Aa);return Op(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MC(){let t=C.useContext(dh);return Op(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var kp=C.createContext(void 0);kp.displayName="FrameworkContext";function ow(){let t=C.useContext(kp);return Op(t,"You must render this element inside a <HydratedRouter> element"),t}function PC(t,e){let n=C.useContext(kp),[s,i]=C.useState(!1),[r,a]=C.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=e,p=C.useRef(null);C.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let j=b=>{b.forEach(_=>{a(_.isIntersecting)})},O=new IntersectionObserver(j,{threshold:.5});return p.current&&O.observe(p.current),()=>{O.disconnect()}}},[t]),C.useEffect(()=>{if(s){let j=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(j)}}},[s]);let y=()=>{i(!0)},R=()=>{i(!1),a(!1)};return n?t!=="intent"?[r,p,{}]:[r,p,{onFocus:al(c,y),onBlur:al(u,R),onMouseEnter:al(h,y),onMouseLeave:al(f,R),onTouchStart:al(m,y)}]:[!1,p,{}]}function al(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VC({page:t,...e}){let{router:n}=lw(),s=C.useMemo(()=>KE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?C.createElement(LC,{page:t,matches:s,...e}):null}function UC(t){let{manifest:e,routeModules:n}=ow(),[s,i]=C.useState([]);return C.useEffect(()=>{let r=!1;return IC(t,e,n).then(a=>{r||i(a)}),()=>{r=!0}},[t,e,n]),s}function LC({page:t,matches:e,...n}){let s=qn(),{future:i,manifest:r,routeModules:a}=ow(),{basename:c}=lw(),{loaderData:u,matches:h}=MC(),f=C.useMemo(()=>cv(t,e,h,r,s,"data"),[t,e,h,r,s]),m=C.useMemo(()=>cv(t,e,h,r,s,"assets"),[t,e,h,r,s]),p=C.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,O=!1;if(e.forEach(_=>{var I;let T=r.routes[_.route.id];!T||!T.hasLoader||(!f.some(z=>z.route.id===_.route.id)&&_.route.id in u&&((I=a[_.route.id])!=null&&I.shouldRevalidate)||T.hasClientLoader?O=!0:j.add(_.route.id))}),j.size===0)return[];let b=AC(t,c,i.unstable_trailingSlashAwareDataRequests,"data");return O&&j.size>0&&b.searchParams.set("_routes",e.filter(_=>j.has(_.route.id)).map(_=>_.route.id).join(",")),[b.pathname+b.search]},[c,i.unstable_trailingSlashAwareDataRequests,u,s,r,f,e,t,a]),y=C.useMemo(()=>jC(m,r),[m,r]),R=UC(m);return C.createElement(C.Fragment,null,p.map(j=>C.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),y.map(j=>C.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),R.map(({key:j,link:O})=>C.createElement("link",{key:j,nonce:n.nonce,...O,crossOrigin:O.crossOrigin??n.crossOrigin})))}function zC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var BC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BC&&(window.__reactRouterVersion="7.13.0")}catch{}function FC({basename:t,children:e,unstable_useTransitions:n,window:s}){let i=C.useRef();i.current==null&&(i.current=vR({window:s,v5Compat:!0}));let r=i.current,[a,c]=C.useState({action:r.action,location:r.location}),u=C.useCallback(h=>{n===!1?c(h):C.startTransition(()=>c(h))},[n]);return C.useLayoutEffect(()=>r.listen(u),[r,u]),C.createElement(gC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:r,unstable_useTransitions:n})}var cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uw=C.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:i,reloadDocument:r,replace:a,state:c,target:u,to:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:p,...y},R){let{basename:j,unstable_useTransitions:O}=C.useContext(Zt),b=typeof h=="string"&&cw.test(h),_=JE(h,j);h=_.to;let T=JR(h,{relative:i}),[I,z,B]=PC(s,y),w=QC(h,{replace:a,state:c,target:u,preventScrollReset:f,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:O});function v(S){e&&e(S),S.defaultPrevented||w(S)}let E=C.createElement("a",{...y,...B,href:_.absoluteURL||T,onClick:_.isExternal||r?e:v,ref:zC(R,z),target:u,"data-discover":!b&&n==="render"?"true":void 0});return I&&!b?C.createElement(C.Fragment,null,E,C.createElement(VC,{page:T})):E});uw.displayName="Link";var HC=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:i=!1,style:r,to:a,viewTransition:c,children:u,...h},f){let m=So(a,{relative:h.relative}),p=qn(),y=C.useContext(dh),{navigator:R,basename:j}=C.useContext(Zt),O=y!=null&&WC(m)&&c===!0,b=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,_=p.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&j&&(T=gs(T,j)||T);const I=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let z=_===b||!i&&_.startsWith(b)&&_.charAt(I)==="/",B=T!=null&&(T===b||!i&&T.startsWith(b)&&T.charAt(b.length)==="/"),w={isActive:z,isPending:B,isTransitioning:O},v=z?e:void 0,E;typeof s=="function"?E=s(w):E=[s,z?"active":null,B?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let S=typeof r=="function"?r(w):r;return C.createElement(uw,{...h,"aria-current":v,className:E,ref:f,style:S,to:a,viewTransition:c},typeof u=="function"?u(w):u)});HC.displayName="NavLink";var qC=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:i,state:r,method:a=Mc,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:p,...y},R)=>{let{unstable_useTransitions:j}=C.useContext(Zt),O=$C(),b=XC(c,{relative:h}),_=a.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&cw.test(c),I=z=>{if(u&&u(z),z.defaultPrevented)return;z.preventDefault();let B=z.nativeEvent.submitter,w=(B==null?void 0:B.getAttribute("formmethod"))||a,v=()=>O(B||z.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:i,state:r,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:p});j&&n!==!1?C.startTransition(()=>v()):v()};return C.createElement("form",{ref:R,method:_,action:b,onSubmit:s?u:I,...y,"data-discover":!T&&t==="render"?"true":void 0})});qC.displayName="Form";function GC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hw(t){let e=C.useContext(Aa);return Pe(e,GC(t)),e}function QC(t,{target:e,replace:n,state:s,preventScrollReset:i,relative:r,viewTransition:a,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let h=hr(),f=qn(),m=So(t,{relative:r});return C.useCallback(p=>{if(EC(p,e)){p.preventDefault();let y=n!==void 0?n:eo(f)===eo(m),R=()=>h(t,{replace:y,state:s,preventScrollReset:i,relative:r,viewTransition:a,unstable_defaultShouldRevalidate:c});u?C.startTransition(()=>R()):R()}},[f,h,m,n,s,e,t,i,r,a,c,u])}function dw(t){pn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=C.useRef(tm(t)),n=C.useRef(!1),s=qn(),i=C.useMemo(()=>wC(s.search,n.current?null:e.current),[s.search]),r=hr(),a=C.useCallback((c,u)=>{const h=tm(typeof c=="function"?c(new URLSearchParams(i)):c);n.current=!0,r("?"+h,u)},[r,i]);return[i,a]}var YC=0,KC=()=>`__${String(++YC)}__`;function $C(){let{router:t}=hw("useSubmit"),{basename:e}=C.useContext(Zt),n=hC(),s=t.fetch,i=t.navigate;return C.useCallback(async(r,a={})=>{let{action:c,method:u,encType:h,formData:f,body:m}=NC(r,e);if(a.navigate===!1){let p=a.fetcherKey||KC();await s(p,n,a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await i(a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,i,e,n])}function XC(t,{relative:e}={}){let{basename:n}=C.useContext(Zt),s=C.useContext(An);Pe(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),r={...So(t||".",{relative:e})},a=qn();if(t==null){r.search=a.search;let c=new URLSearchParams(r.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();r.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:ls([n,r.pathname])),eo(r)}function WC(t,{relative:e}={}){let n=C.useContext(ew);Pe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hw("useViewTransitionState"),i=So(t,{relative:e});if(!n.isTransitioning)return!1;let r=gs(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=gs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eu(i.pathname,a)!=null||Eu(i.pathname,r)!=null}const JC=()=>{};var uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ZC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],a=t[n++],c=t[n++],u=((i&7)<<18|(r&63)<<12|(a&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],a=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|a&63)}}return e.join("")},mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],a=i+1<t.length,c=a?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=r>>2,m=(r&3)<<4|c>>4;let p=(c&15)<<2|h>>6,y=h&63;u||(y=64,a||(p=64)),s.push(n[f],n[m],n[p],n[y])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||c==null||h==null||m==null)throw new eI;const p=r<<2|c>>4;if(s.push(p),h!==64){const y=c<<4&240|h>>2;if(s.push(y),m!==64){const R=h<<6&192|m;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tI=function(t){const e=fw(t);return mw.encodeByteArray(e,!0)},wu=function(t){return tI(t).replace(/\./g,"")},pw=function(t){try{return mw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=()=>nI().__FIREBASE_DEFAULTS__,iI=()=>{if(typeof process>"u"||typeof uv>"u")return;const t=uv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pw(t[1]);return e&&JSON.parse(e)},mh=()=>{try{return JC()||sI()||iI()||rI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gw=t=>{var e,n;return(n=(e=mh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aI=t=>{const e=gw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},yw=()=>{var t;return(t=mh())==null?void 0:t.config},vw=t=>{var e;return(e=mh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wu(JSON.stringify(n)),wu(JSON.stringify(a)),""].join(".")}const kl={};function cI(){const t={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?t.emulator.push(e):t.prod.push(e);return t}function uI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hv=!1;function bw(t,e){if(typeof window>"u"||typeof document>"u"||!Ca(window.location.host)||kl[t]===e||kl[t]||hv)return;kl[t]=e;function n(p){return`__firebase__banner__${p}`}const s="__firebase__banner",r=cI().prod.length>0;function a(){const p=document.getElementById(s);p&&p.remove()}function c(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function h(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{hv=!0,a()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=uI(s),y=n("text"),R=document.getElementById(y)||document.createElement("span"),j=n("learnmore"),O=document.getElementById(j)||document.createElement("a"),b=n("preprendIcon"),_=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;c(T),f(O,j);const I=h();u(_,b),T.append(_,R,O,I),document.body.appendChild(T)}r?(R.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function dI(){var e;const t=(e=mh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gI(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yI(){return!dI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vI(){try{return typeof indexedDB=="object"}catch{return!1}}function xI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="FirebaseError";class Es extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=bI,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,No.prototype.create)}}class No{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],a=r?_I(r,s):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new Es(i,c,s)}}function _I(t,e){return t.replace(EI,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const EI=/\{\$([^}]+)}/g;function wI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ji(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],a=e[i];if(dv(r)&&dv(a)){if(!Ji(r,a))return!1}else if(r!==a)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function dv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ml(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function pl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TI(t,e){const n=new SI(t,e);return n.subscribe.bind(n)}class SI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");NI(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=qd),i.error===void 0&&(i.error=qd),i.complete===void 0&&(i.complete=qd);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){return t&&t._delegate?t._delegate:t}class Zi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new lI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CI(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);s===c&&a.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&e(r,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RI(t){return t===Ui?void 0:t}function CI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const jI={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},DI=ce.INFO,OI={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},kI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=OI[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mp{constructor(e){this.name=e,this._logLevel=DI,this._logHandler=kI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const MI=(t,e)=>e.some(n=>t instanceof n);let fv,mv;function PI(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VI(){return mv||(mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _w=new WeakMap,nm=new WeakMap,Ew=new WeakMap,Gd=new WeakMap,Pp=new WeakMap;function UI(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(ri(t.result)),i()},a=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&_w.set(n,t)}).catch(()=>{}),Pp.set(e,t),e}function LI(t){if(nm.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),i()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});nm.set(t,e)}let sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ew.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zI(t){sm=t(sm)}function BI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Qd(this),e,...n);return Ew.set(s,e.sort?e.sort():[e]),ri(s)}:VI().includes(t)?function(...e){return t.apply(Qd(this),e),ri(_w.get(this))}:function(...e){return ri(t.apply(Qd(this),e))}}function FI(t){return typeof t=="function"?BI(t):(t instanceof IDBTransaction&&LI(t),MI(t,PI())?new Proxy(t,sm):t)}function ri(t){if(t instanceof IDBRequest)return UI(t);if(Gd.has(t))return Gd.get(t);const e=FI(t);return e!==t&&(Gd.set(t,e),Pp.set(e,t)),e}const Qd=t=>Pp.get(t);function HI(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const a=indexedDB.open(t,e),c=ri(a);return s&&a.addEventListener("upgradeneeded",u=>{s(ri(a.result),u.oldVersion,u.newVersion,ri(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{r&&u.addEventListener("close",()=>r()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const qI=["get","getKey","getAll","getAllKeys","count"],GI=["put","add","delete","clear"],Yd=new Map;function pv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=GI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||qI.includes(n)))return;const r=async function(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let h=u.store;return s&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&u.done]))[0]};return Yd.set(e,r),r}zI(t=>({...t,get:(e,n,s)=>pv(e,n)||t.get(e,n,s),has:(e,n)=>!!pv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function YI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const im="@firebase/app",gv="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Mp("@firebase/app"),KI="@firebase/app-compat",$I="@firebase/analytics-compat",XI="@firebase/analytics",WI="@firebase/app-check-compat",JI="@firebase/app-check",ZI="@firebase/auth",e2="@firebase/auth-compat",t2="@firebase/database",n2="@firebase/data-connect",s2="@firebase/database-compat",i2="@firebase/functions",r2="@firebase/functions-compat",a2="@firebase/installations",l2="@firebase/installations-compat",o2="@firebase/messaging",c2="@firebase/messaging-compat",u2="@firebase/performance",h2="@firebase/performance-compat",d2="@firebase/remote-config",f2="@firebase/remote-config-compat",m2="@firebase/storage",p2="@firebase/storage-compat",g2="@firebase/firestore",y2="@firebase/ai",v2="@firebase/firestore-compat",x2="firebase",b2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",_2={[im]:"fire-core",[KI]:"fire-core-compat",[XI]:"fire-analytics",[$I]:"fire-analytics-compat",[JI]:"fire-app-check",[WI]:"fire-app-check-compat",[ZI]:"fire-auth",[e2]:"fire-auth-compat",[t2]:"fire-rtdb",[n2]:"fire-data-connect",[s2]:"fire-rtdb-compat",[i2]:"fire-fn",[r2]:"fire-fn-compat",[a2]:"fire-iid",[l2]:"fire-iid-compat",[o2]:"fire-fcm",[c2]:"fire-fcm-compat",[u2]:"fire-perf",[h2]:"fire-perf-compat",[d2]:"fire-rc",[f2]:"fire-rc-compat",[m2]:"fire-gcs",[p2]:"fire-gcs-compat",[g2]:"fire-fst",[v2]:"fire-fst-compat",[y2]:"fire-vertex","fire-js":"fire-js",[x2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new Map,E2=new Map,am=new Map;function yv(t,e){try{t.container.addComponent(e)}catch(n){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ua(t){const e=t.name;if(am.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,t);for(const n of Tu.values())yv(n,t);for(const n of E2.values())yv(n,t);return!0}function Vp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new No("app","Firebase",w2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=b2;function ww(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:rm,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(n||(n=yw()),!n)throw ai.create("no-options");const r=Tu.get(i);if(r){if(Ji(n,r.options)&&Ji(s,r.config))return r;throw ai.create("duplicate-app",{appName:i})}const a=new II(i);for(const u of am.values())a.addComponent(u);const c=new T2(n,s,a);return Tu.set(i,c),c}function Tw(t=rm){const e=Tu.get(t);if(!e&&t===rm&&yw())return ww();if(!e)throw ai.create("no-app",{appName:t});return e}function li(t,e,n){let s=_2[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&a.push("and"),r&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(a.join(" "));return}ua(new Zi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="firebase-heartbeat-database",N2=1,to="firebase-heartbeat-store";let Kd=null;function Sw(){return Kd||(Kd=HI(S2,N2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(to)}catch(n){console.warn(n)}}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),Kd}async function A2(t){try{const n=(await Sw()).transaction(to),s=await n.objectStore(to).get(Nw(t));return await n.done,s}catch(e){if(e instanceof Es)ys.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(n.message)}}}async function vv(t,e){try{const s=(await Sw()).transaction(to,"readwrite");await s.objectStore(to).put(e,Nw(t)),await s.done}catch(n){if(n instanceof Es)ys.warn(n.message);else{const s=ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ys.warn(s.message)}}}function Nw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=1024,C2=30;class I2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>C2){const a=O2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ys.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:s,unsentEntries:i}=j2(this._heartbeatsCache.heartbeats),r=wu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return ys.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function j2(t,e=R2){const n=[];let s=t.slice();for(const i of t){const r=n.find(a=>a.agent===i.agent);if(r){if(r.dates.push(i.date),bv(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class D2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vI()?xI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bv(t){return wu(JSON.stringify({version:2,heartbeats:t})).length}function O2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){ua(new Zi("platform-logger",e=>new QI(e),"PRIVATE")),ua(new Zi("heartbeat",e=>new I2(e),"PRIVATE")),li(im,gv,t),li(im,gv,"esm2020"),li("fire-js","")}k2("");var M2="firebase",P2="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li(M2,P2,"app");function Aw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V2=Aw,Rw=new No("auth","Firebase",Aw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Mp("@firebase/auth");function U2(t,...e){Su.logLevel<=ce.WARN&&Su.warn(`Auth (${Ia}): ${t}`,...e)}function Vc(t,...e){Su.logLevel<=ce.ERROR&&Su.error(`Auth (${Ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw Up(t,...e)}function Pn(t,...e){return Up(t,...e)}function Cw(t,e,n){const s={...V2(),[e]:n};return new No("auth","Firebase",s).create(e,{appName:t.name})}function os(t){return Cw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Up(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Rw.create(t,...e)}function X(t,e,...n){if(!t)throw Up(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vc(e),new Error(e)}function vs(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function L2(){return _v()==="http:"||_v()==="https:"}function _v(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L2()||mI()||"connection"in navigator)?navigator.onLine:!0}function B2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.shortDelay=e,this.longDelay=n,vs(n>e,"Short delay should be less than long delay!"),this.isMobile=hI()||pI()}get(){return z2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t,e){vs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q2=new Ro(3e4,6e4);function ws(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Gn(t,e,n,s,i={}){return jw(t,i,async()=>{let r={},a={};s&&(e==="GET"?a=s:r={body:JSON.stringify(s)});const c=Ao({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...r};return fI()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ca(t.emulatorConfig.host)&&(h.credentials="include"),Iw.fetch()(await Dw(t,t.config.apiHost,n,c),h)})}async function jw(t,e,n){t._canInitEmulator=!1;const s={...F2,...e};try{const i=new Q2(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw fc(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const c=r.ok?a.errorMessage:a.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw fc(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw fc(t,"user-disabled",a);const f=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Cw(t,f,h);Tn(t,f)}}catch(i){if(i instanceof Es)throw i;Tn(t,"network-request-failed",{message:String(i)})}}async function Co(t,e,n,s,i={}){const r=await Gn(t,e,n,s,i);return"mfaPendingCredential"in r&&Tn(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function Dw(t,e,n,s){const i=`${e}${n}?${s}`,r=t,a=r.config.emulator?Lp(t.config,i):`${t.config.apiScheme}://${i}`;return H2.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function G2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pn(this.auth,"network-request-failed")),q2.get())})}}function fc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Pn(t,e,s);return i.customData._tokenResponse=n,i}function Ev(t){return t!==void 0&&t.enterprise!==void 0}class Y2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return G2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K2(t,e){return Gn(t,"GET","/v2/recaptchaConfig",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(t,e){return Gn(t,"POST","/v1/accounts:delete",e)}async function Nu(t,e){return Gn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X2(t,e=!1){const n=tt(t),s=await n.getIdToken(e),i=zp(s);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Ml($d(i.auth_time)),issuedAtTime:Ml($d(i.iat)),expirationTime:Ml($d(i.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function $d(t){return Number(t)*1e3}function zp(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const i=pw(n);return i?JSON.parse(i):(Vc("Failed to decode base64 JWT payload"),null)}catch(i){return Vc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wv(t){const e=zp(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Es&&W2(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function W2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t){var m;const e=t.auth,n=await t.getIdToken(),s=await ha(t,Nu(e,{idToken:n}));X(s==null?void 0:s.users.length,e,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const r=(m=i.providerUserInfo)!=null&&m.length?Ow(i.providerUserInfo):[],a=ej(t.providerData,r),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new om(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function Z2(t){const e=tt(t);await Au(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ej(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function Ow(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(t,e){const n=await jw(t,{},async()=>{const s=Ao({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,a=await Dw(t,i,"/v1/token",`key=${r}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:s};return t.emulatorConfig&&Ca(t.emulatorConfig.host)&&(u.credentials="include"),Iw.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nj(t,e){return Gn(t,"POST","/v2/accounts:revokeToken",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=wv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await tj(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,a=new Qr;return s&&(X(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),i&&(X(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),r&&(X(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qr,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bn{constructor({uid:e,auth:n,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new J2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new om(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ha(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return X2(this,e)}reload(){return Z2(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Au(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await ha(this,$2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,i=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:R,stsTokenManager:j}=n;X(m&&j,e,"internal-error");const O=Qr.fromJSON(this.name,j);X(typeof m=="string",e,"internal-error"),Os(s,e.name),Os(i,e.name),X(typeof p=="boolean",e,"internal-error"),X(typeof y=="boolean",e,"internal-error"),Os(r,e.name),Os(a,e.name),Os(c,e.name),Os(u,e.name),Os(h,e.name),Os(f,e.name);const b=new bn({uid:m,auth:e,email:i,emailVerified:p,displayName:s,isAnonymous:y,photoURL:a,phoneNumber:r,tenantId:c,stsTokenManager:O,createdAt:h,lastLoginAt:f});return R&&Array.isArray(R)&&(b.providerData=R.map(_=>({..._}))),u&&(b._redirectEventId=u),b}static async _fromIdTokenResponse(e,n,s=!1){const i=new Qr;i.updateFromServerResponse(n);const r=new bn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Au(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];X(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?Ow(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),c=new Qr;c.updateFromIdToken(s);const u=new bn({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new om(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;function ss(t){vs(t instanceof Function,"Expected a class definition");let e=Tv.get(t);return e?(vs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Tv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kw.type="NONE";const Sv=kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t,e,n){return`firebase:${t}:${e}:${n}`}class Yr{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Uc(this.userKey,i.apiKey,r),this.fullPersistenceKey=Uc("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nu(this.auth,{idToken:e}).catch(()=>{});return n?bn._fromGetAccountInfoResponse(this.auth,n,e):null}return bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Yr(ss(Sv),e,s);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=i[0]||ss(Sv);const a=Uc(s,e.config.apiKey,e.name);let c=null;for(const h of n)try{const f=await h._get(a);if(f){let m;if(typeof f=="string"){const p=await Nu(e,{idToken:f}).catch(()=>{});if(!p)break;m=await bn._fromGetAccountInfoResponse(e,p,f)}else m=bn._fromJSON(e,f);h!==r&&(c=m),r=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new Yr(r,e,s):(r=u[0],c&&await r._set(a,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new Yr(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zw(e))return"Blackberry";if(Bw(e))return"Webos";if(Pw(e))return"Safari";if((e.includes("chrome/")||Vw(e))&&!e.includes("edge/"))return"Chrome";if(Lw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Mw(t=Tt()){return/firefox\//i.test(t)}function Pw(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vw(t=Tt()){return/crios\//i.test(t)}function Uw(t=Tt()){return/iemobile/i.test(t)}function Lw(t=Tt()){return/android/i.test(t)}function zw(t=Tt()){return/blackberry/i.test(t)}function Bw(t=Tt()){return/webos/i.test(t)}function Bp(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sj(t=Tt()){var e;return Bp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function ij(){return gI()&&document.documentMode===10}function Fw(t=Tt()){return Bp(t)||Lw(t)||Bw(t)||zw(t)||/windows phone/i.test(t)||Uw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t,e=[]){let n;switch(t){case"Browser":n=Nv(Tt());break;case"Worker":n=`${Nv(Tt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ia}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((a,c)=>{try{const u=e(r);a(u)}catch(u){c(u)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e={}){return Gn(t,"GET","/v2/passwordPolicy",ws(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=6;class oj{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Av(this),this.idTokenSubscription=new Av(this),this.beforeStateQueue=new rj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await Yr.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nu(this,{idToken:e}),s=await bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Au(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cn(this.app))return Promise.reject(os(this));const n=e?tt(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cn(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aj(this),n=new oj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new No("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await nj(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await Yr.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(c,this,"internal-error"),c.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&U2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ti(t){return tt(t)}class Av{constructor(e){this.auth=e,this.observer=null,this.addObserver=TI(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uj(t){ph=t}function qw(t){return ph.loadJS(t)}function hj(){return ph.recaptchaEnterpriseScript}function dj(){return ph.gapiScript}function fj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mj{constructor(){this.enterprise=new pj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gj="recaptcha-enterprise",Gw="NO_RECAPTCHA";class yj{constructor(e){this.type=gj,this.auth=Ti(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,c)=>{K2(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new Y2(u);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,a(h.siteKey)}}).catch(u=>{c(u)})})}function i(r,a,c){const u=window.grecaptcha;Ev(u)?u.enterprise.ready(()=>{u.enterprise.execute(r,{action:e}).then(h=>{a(h)}).catch(()=>{a(Gw)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mj().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{s(this.auth).then(c=>{if(!n&&Ev(window.grecaptcha))i(c,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=hj();u.length!==0&&(u+=c),qw(u).then(()=>{i(c,r,a)}).catch(h=>{a(h)})}}).catch(c=>{a(c)})})}}async function Rv(t,e,n,s=!1,i=!1){const r=new yj(t);let a;if(i)a=Gw;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return s?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ru(t,e,n,s,i){var r;if((r=t._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Rv(t,e,n,n==="getOobCode");return s(t,a)}else return s(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Rv(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t,e){const n=Vp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Ji(r,e??{}))return i;Tn(i,"already-initialized")}return n.initialize({options:e})}function xj(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function bj(t,e,n){const s=Ti(t);X(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=Qw(e),{host:a,port:c}=_j(e),u=c===null?"":`:${c}`,h={url:`${r}//${a}${u}/`},f=Object.freeze({host:a,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){X(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),X(Ji(h,s.config.emulator)&&Ji(f,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=f,s.settings.appVerificationDisabledForTesting=!0,Ca(a)?(xw(`${r}//${a}${u}`),bw("Auth",!0)):Ej()}function Qw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _j(t){const e=Qw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Cv(s.substr(r.length+1))}}else{const[r,a]=s.split(":");return{host:r,port:Cv(a)}}}function Cv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ej(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function wj(t,e){return Gn(t,"POST","/v1/accounts:update",e)}async function Tj(t,e){return Gn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(t,e){return Co(t,"POST","/v1/accounts:signInWithPassword",ws(t,e))}async function Nj(t,e){return Gn(t,"POST","/v1/accounts:sendOobCode",ws(t,e))}async function Aj(t,e){return Nj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t,e){return Co(t,"POST","/v1/accounts:signInWithEmailLink",ws(t,e))}async function Cj(t,e){return Co(t,"POST","/v1/accounts:signInWithEmailLink",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Fp{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new no(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new no(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ru(e,n,"signInWithPassword",Sj);case"emailLink":return Rj(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ru(e,s,"signUpPassword",Tj);case"emailLink":return Cj(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kr(t,e){return Co(t,"POST","/v1/accounts:signInWithIdp",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="http://localhost";class er extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new er(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...r}=n;if(!s||!i)return null;const a=new er(s,i);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Kr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Kr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kr(e,n)}buildRequest(){const e={requestUri:Ij,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ao(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dj(t){const e=ml(pl(t)).link,n=e?ml(pl(e)).deep_link_id:null,s=ml(pl(t)).deep_link_id;return(s?ml(pl(s)).link:null)||s||n||e||t}class Hp{constructor(e){const n=ml(pl(e)),s=n.apiKey??null,i=n.oobCode??null,r=jj(n.mode??null);X(s&&i&&r,"argument-error"),this.apiKey=s,this.operation=r,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Dj(e);try{return new Hp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.providerId=ja.PROVIDER_ID}static credential(e,n){return no._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Hp.parseLink(n);return X(s,"argument-error"),no._fromEmailAndCode(e,s.code,s.tenantId)}}ja.PROVIDER_ID="password";ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Yw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Io{constructor(){super("facebook.com")}static credential(e){return er._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Io{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return er._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Bs.credential(n,s)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Io{constructor(){super("github.com")}static credential(e){return er._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Io{constructor(){super("twitter.com")}static credential(e,n){return er._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Hs.credential(n,s)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(t,e){return Co(t,"POST","/v1/accounts:signUp",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await bn._fromIdTokenResponse(e,s,i),a=Iv(s);return new tr({user:r,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Iv(s);return new tr({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Iv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Es{constructor(e,n,s,i){super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Cu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Cu(e,n,s,i)}}function Kw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Cu._fromErrorAndOperation(t,r,e,s):r})}async function kj(t,e,n=!1){const s=await ha(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tr._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e,n=!1){const{auth:s}=t;if(cn(s.app))return Promise.reject(os(s));const i="reauthenticate";try{const r=await ha(t,Kw(s,i,e,t),n);X(r.idToken,s,"internal-error");const a=zp(r.idToken);X(a,s,"internal-error");const{sub:c}=a;return X(t.uid===c,s,"user-mismatch"),tr._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Tn(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(t,e,n=!1){if(cn(t.app))return Promise.reject(os(t));const s="signIn",i=await Kw(t,s,e),r=await tr._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function Pj(t,e){return $w(Ti(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(t){const e=Ti(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Vj(t,e,n){const s=Ti(t);await Ru(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Aj)}async function Uj(t,e,n){if(cn(t.app))return Promise.reject(os(t));const s=Ti(t),a=await Ru(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Oj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Xw(t),u}),c=await tr._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(c.user),c}function Lj(t,e,n){return cn(t.app)?Promise.reject(os(t)):Pj(tt(t),ja.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Xw(t),s})}function zj(t,e){return Bj(tt(t),null,e)}async function Bj(t,e,n){const{auth:s}=t,r={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(r.password=n);const a=await ha(t,wj(s,r));await t._updateTokensIfNecessary(a,!0)}function Fj(t,e,n,s){return tt(t).onIdTokenChanged(e,n,s)}function Hj(t,e,n){return tt(t).beforeAuthStateChanged(e,n)}function qj(t,e,n,s){return tt(t).onAuthStateChanged(e,n,s)}function Gj(t){return tt(t).signOut()}const Iu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=1e3,Yj=10;class Jw extends Ww{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},r=this.storage.getItem(s);ij()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Yj):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Qj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jw.type="LOCAL";const Kj=Jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Ww{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zw.type="SESSION";const eT=Zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new gh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const c=Array.from(a).map(async h=>h(n.origin,r)),u=await $j(c);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,a;return new Promise((c,u)=>{const h=qp("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},s);a={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(p.data.response);break;default:clearTimeout(f),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function Wj(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function Jj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Zj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function eD(){return tT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="firebaseLocalStorageDb",tD=1,ju="firebaseLocalStorage",sT="fbase_key";class jo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yh(t,e){return t.transaction([ju],e?"readwrite":"readonly").objectStore(ju)}function nD(){const t=indexedDB.deleteDatabase(nT);return new jo(t).toPromise()}function cm(){const t=indexedDB.open(nT,tD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ju,{keyPath:sT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ju)?e(s):(s.close(),await nD(),e(await cm()))})})}async function jv(t,e,n){const s=yh(t,!0).put({[sT]:e,value:n});return new jo(s).toPromise()}async function sD(t,e){const n=yh(t,!1).get(e),s=await new jo(n).toPromise();return s===void 0?null:s.value}function Dv(t,e){const n=yh(t,!0).delete(e);return new jo(n).toPromise()}const iD=800,rD=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>rD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(eD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await Jj(),!this.activeServiceWorker)return;this.sender=new Xj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Zj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await jv(e,Iu,"1"),await Dv(e,Iu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>jv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>sD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=yh(i,!1).getAll();return new jo(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const aD=iT;new Ro(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t,e){return e?ss(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oD(t){return $w(t.auth,new Gp(t),t.bypassAuthState)}function cD(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),Mj(n,new Gp(t),t.bypassAuthState)}async function uD(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),kj(n,new Gp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oD;case"linkViaPopup":case"linkViaRedirect":return uD;case"reauthViaPopup":case"reauthViaRedirect":return cD;default:Tn(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new Ro(2e3,1e4);class Ur extends rT{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Ur.currentPopupAction&&Ur.currentPopupAction.cancel(),Ur.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ur.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hD.get())};e()}}Ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="pendingRedirect",Lc=new Map;class fD extends rT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const s=await mD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mD(t,e){const n=yD(e),s=gD(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function pD(t,e){Lc.set(t._key(),e)}function gD(t){return ss(t._redirectPersistence)}function yD(t){return Uc(dD,t.config.apiKey,t.name)}async function vD(t,e,n=!1){if(cn(t.app))return Promise.reject(os(t));const s=Ti(t),i=lD(s,e),a=await new fD(s,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=10*60*1e3;class bD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_D(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!aT(e)){const i=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ov(e))}saveEventToCache(e){this.cachedEventUids.add(Ov(e)),this.lastProcessedEventTime=Date.now()}}function Ov(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _D(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t,e={}){return Gn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TD=/^https?/;async function SD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ED(t);for(const n of e)try{if(ND(n))return}catch{}Tn(t,"unauthorized-domain")}function ND(t){const e=lm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!TD.test(n))return!1;if(wD.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new Ro(3e4,6e4);function kv(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RD(t){return new Promise((e,n)=>{var i,r,a;function s(){kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kv(),n(Pn(t,"network-request-failed"))},timeout:AD.get()})}if((r=(i=Vn().gapi)==null?void 0:i.iframes)!=null&&r.Iframe)e(gapi.iframes.getContext());else if((a=Vn().gapi)!=null&&a.load)s();else{const c=fj("iframefcb");return Vn()[c]=()=>{gapi.load?s():n(Pn(t,"network-request-failed"))},qw(`${dj()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw zc=null,e})}let zc=null;function CD(t){return zc=zc||RD(t),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new Ro(5e3,15e3),jD="__/auth/iframe",DD="emulator/auth/iframe",OD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MD(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lp(e,DD):`https://${t.config.authDomain}/${jD}`,s={apiKey:e.apiKey,appName:t.name,v:Ia},i=kD.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Ao(s).slice(1)}`}async function PD(t){const e=await CD(t),n=Vn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:MD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OD,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const a=Pn(t,"network-request-failed"),c=Vn().setTimeout(()=>{r(a)},ID.get());function u(){Vn().clearTimeout(c),i(s)}s.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UD=500,LD=600,zD="_blank",BD="http://localhost";class Mv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FD(t,e,n,s=UD,i=LD){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let c="";const u={...VD,width:s.toString(),height:i.toString(),top:r,left:a},h=Tt().toLowerCase();n&&(c=Vw(h)?zD:n),Mw(h)&&(e=e||BD,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[y,R])=>`${p}${y}=${R},`,"");if(sj(h)&&c!=="_self")return HD(e||"",c),new Mv(null);const m=window.open(e||"",c,f);X(m,t,"popup-blocked");try{m.focus()}catch{}return new Mv(m)}function HD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="__/auth/handler",GD="emulator/auth/handler",QD=encodeURIComponent("fac");async function Pv(t,e,n,s,i,r){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ia,eventId:i};if(e instanceof Yw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",wI(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof Io){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await t._getAppCheckToken(),h=u?`#${QD}=${encodeURIComponent(u)}`:"";return`${YD(t)}?${Ao(c).slice(1)}${h}`}function YD({config:t}){return t.emulator?Lp(t,GD):`https://${t.authDomain}/${qD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="webStorageSupport";class KD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eT,this._completeRedirectFn=vD,this._overrideRedirectResult=pD}async _openPopup(e,n,s,i){var a;vs((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await Pv(e,n,s,lm(),i);return FD(e,r,qp())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Pv(e,n,s,lm(),i);return Wj(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(vs(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await PD(e),s=new bD(e);return n.register("authEvent",i=>(X(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xd,{type:Xd},i=>{var a;const r=(a=i==null?void 0:i[0])==null?void 0:a[Xd];r!==void 0&&n(!!r),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fw()||Pw()||Bp()}}const $D=KD;var Vv="@firebase/auth",Uv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JD(t){ua(new Zi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=s.options;X(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hw(t)},h=new cj(s,i,r,u);return xj(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ua(new Zi("auth-internal",e=>{const n=Ti(e.getProvider("auth").getImmediate());return(s=>new XD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),li(Vv,Uv,WD(t)),li(Vv,Uv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=5*60,e4=vw("authIdTokenMaxAge")||ZD;let Lv=null;const t4=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>e4)return;const i=n==null?void 0:n.token;Lv!==i&&(Lv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function n4(t=Tw()){const e=Vp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vj(t,{popupRedirectResolver:$D,persistence:[aD,Kj,eT]}),s=vw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const a=t4(r.toString());Hj(n,a,()=>a(n.currentUser)),Fj(n,c=>a(c))}}const i=gw("auth");return i&&bj(n,`http://${i}`),n}function s4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}uj({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=Pn("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",s4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JD("Browser");var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oi,lT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,v){function E(){}E.prototype=v.prototype,w.F=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.D=function(S,A,D){for(var N=Array(arguments.length-2),we=2;we<arguments.length;we++)N[we-2]=arguments[we];return v.prototype[A].apply(S,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);const S=Array(16);if(typeof v=="string")for(var A=0;A<16;++A)S[A]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(A=0;A<16;++A)S[A]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],A=w.g[2];let D=w.g[3],N;N=v+(D^E&(A^D))+S[0]+3614090360&4294967295,v=E+(N<<7&4294967295|N>>>25),N=D+(A^v&(E^A))+S[1]+3905402710&4294967295,D=v+(N<<12&4294967295|N>>>20),N=A+(E^D&(v^E))+S[2]+606105819&4294967295,A=D+(N<<17&4294967295|N>>>15),N=E+(v^A&(D^v))+S[3]+3250441966&4294967295,E=A+(N<<22&4294967295|N>>>10),N=v+(D^E&(A^D))+S[4]+4118548399&4294967295,v=E+(N<<7&4294967295|N>>>25),N=D+(A^v&(E^A))+S[5]+1200080426&4294967295,D=v+(N<<12&4294967295|N>>>20),N=A+(E^D&(v^E))+S[6]+2821735955&4294967295,A=D+(N<<17&4294967295|N>>>15),N=E+(v^A&(D^v))+S[7]+4249261313&4294967295,E=A+(N<<22&4294967295|N>>>10),N=v+(D^E&(A^D))+S[8]+1770035416&4294967295,v=E+(N<<7&4294967295|N>>>25),N=D+(A^v&(E^A))+S[9]+2336552879&4294967295,D=v+(N<<12&4294967295|N>>>20),N=A+(E^D&(v^E))+S[10]+4294925233&4294967295,A=D+(N<<17&4294967295|N>>>15),N=E+(v^A&(D^v))+S[11]+2304563134&4294967295,E=A+(N<<22&4294967295|N>>>10),N=v+(D^E&(A^D))+S[12]+1804603682&4294967295,v=E+(N<<7&4294967295|N>>>25),N=D+(A^v&(E^A))+S[13]+4254626195&4294967295,D=v+(N<<12&4294967295|N>>>20),N=A+(E^D&(v^E))+S[14]+2792965006&4294967295,A=D+(N<<17&4294967295|N>>>15),N=E+(v^A&(D^v))+S[15]+1236535329&4294967295,E=A+(N<<22&4294967295|N>>>10),N=v+(A^D&(E^A))+S[1]+4129170786&4294967295,v=E+(N<<5&4294967295|N>>>27),N=D+(E^A&(v^E))+S[6]+3225465664&4294967295,D=v+(N<<9&4294967295|N>>>23),N=A+(v^E&(D^v))+S[11]+643717713&4294967295,A=D+(N<<14&4294967295|N>>>18),N=E+(D^v&(A^D))+S[0]+3921069994&4294967295,E=A+(N<<20&4294967295|N>>>12),N=v+(A^D&(E^A))+S[5]+3593408605&4294967295,v=E+(N<<5&4294967295|N>>>27),N=D+(E^A&(v^E))+S[10]+38016083&4294967295,D=v+(N<<9&4294967295|N>>>23),N=A+(v^E&(D^v))+S[15]+3634488961&4294967295,A=D+(N<<14&4294967295|N>>>18),N=E+(D^v&(A^D))+S[4]+3889429448&4294967295,E=A+(N<<20&4294967295|N>>>12),N=v+(A^D&(E^A))+S[9]+568446438&4294967295,v=E+(N<<5&4294967295|N>>>27),N=D+(E^A&(v^E))+S[14]+3275163606&4294967295,D=v+(N<<9&4294967295|N>>>23),N=A+(v^E&(D^v))+S[3]+4107603335&4294967295,A=D+(N<<14&4294967295|N>>>18),N=E+(D^v&(A^D))+S[8]+1163531501&4294967295,E=A+(N<<20&4294967295|N>>>12),N=v+(A^D&(E^A))+S[13]+2850285829&4294967295,v=E+(N<<5&4294967295|N>>>27),N=D+(E^A&(v^E))+S[2]+4243563512&4294967295,D=v+(N<<9&4294967295|N>>>23),N=A+(v^E&(D^v))+S[7]+1735328473&4294967295,A=D+(N<<14&4294967295|N>>>18),N=E+(D^v&(A^D))+S[12]+2368359562&4294967295,E=A+(N<<20&4294967295|N>>>12),N=v+(E^A^D)+S[5]+4294588738&4294967295,v=E+(N<<4&4294967295|N>>>28),N=D+(v^E^A)+S[8]+2272392833&4294967295,D=v+(N<<11&4294967295|N>>>21),N=A+(D^v^E)+S[11]+1839030562&4294967295,A=D+(N<<16&4294967295|N>>>16),N=E+(A^D^v)+S[14]+4259657740&4294967295,E=A+(N<<23&4294967295|N>>>9),N=v+(E^A^D)+S[1]+2763975236&4294967295,v=E+(N<<4&4294967295|N>>>28),N=D+(v^E^A)+S[4]+1272893353&4294967295,D=v+(N<<11&4294967295|N>>>21),N=A+(D^v^E)+S[7]+4139469664&4294967295,A=D+(N<<16&4294967295|N>>>16),N=E+(A^D^v)+S[10]+3200236656&4294967295,E=A+(N<<23&4294967295|N>>>9),N=v+(E^A^D)+S[13]+681279174&4294967295,v=E+(N<<4&4294967295|N>>>28),N=D+(v^E^A)+S[0]+3936430074&4294967295,D=v+(N<<11&4294967295|N>>>21),N=A+(D^v^E)+S[3]+3572445317&4294967295,A=D+(N<<16&4294967295|N>>>16),N=E+(A^D^v)+S[6]+76029189&4294967295,E=A+(N<<23&4294967295|N>>>9),N=v+(E^A^D)+S[9]+3654602809&4294967295,v=E+(N<<4&4294967295|N>>>28),N=D+(v^E^A)+S[12]+3873151461&4294967295,D=v+(N<<11&4294967295|N>>>21),N=A+(D^v^E)+S[15]+530742520&4294967295,A=D+(N<<16&4294967295|N>>>16),N=E+(A^D^v)+S[2]+3299628645&4294967295,E=A+(N<<23&4294967295|N>>>9),N=v+(A^(E|~D))+S[0]+4096336452&4294967295,v=E+(N<<6&4294967295|N>>>26),N=D+(E^(v|~A))+S[7]+1126891415&4294967295,D=v+(N<<10&4294967295|N>>>22),N=A+(v^(D|~E))+S[14]+2878612391&4294967295,A=D+(N<<15&4294967295|N>>>17),N=E+(D^(A|~v))+S[5]+4237533241&4294967295,E=A+(N<<21&4294967295|N>>>11),N=v+(A^(E|~D))+S[12]+1700485571&4294967295,v=E+(N<<6&4294967295|N>>>26),N=D+(E^(v|~A))+S[3]+2399980690&4294967295,D=v+(N<<10&4294967295|N>>>22),N=A+(v^(D|~E))+S[10]+4293915773&4294967295,A=D+(N<<15&4294967295|N>>>17),N=E+(D^(A|~v))+S[1]+2240044497&4294967295,E=A+(N<<21&4294967295|N>>>11),N=v+(A^(E|~D))+S[8]+1873313359&4294967295,v=E+(N<<6&4294967295|N>>>26),N=D+(E^(v|~A))+S[15]+4264355552&4294967295,D=v+(N<<10&4294967295|N>>>22),N=A+(v^(D|~E))+S[6]+2734768916&4294967295,A=D+(N<<15&4294967295|N>>>17),N=E+(D^(A|~v))+S[13]+1309151649&4294967295,E=A+(N<<21&4294967295|N>>>11),N=v+(A^(E|~D))+S[4]+4149444226&4294967295,v=E+(N<<6&4294967295|N>>>26),N=D+(E^(v|~A))+S[11]+3174756917&4294967295,D=v+(N<<10&4294967295|N>>>22),N=A+(v^(D|~E))+S[2]+718787259&4294967295,A=D+(N<<15&4294967295|N>>>17),N=E+(D^(A|~v))+S[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(A+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+A&4294967295,w.g[3]=w.g[3]+D&4294967295}s.prototype.v=function(w,v){v===void 0&&(v=w.length);const E=v-this.blockSize,S=this.C;let A=this.h,D=0;for(;D<v;){if(A==0)for(;D<=E;)i(this,w,D),D+=this.blockSize;if(typeof w=="string"){for(;D<v;)if(S[A++]=w.charCodeAt(D++),A==this.blockSize){i(this,S),A=0;break}}else for(;D<v;)if(S[A++]=w[D++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=v},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;v=this.o*8;for(var E=w.length-8;E<w.length;++E)w[E]=v&255,v/=256;for(this.v(w),w=Array(16),v=0,E=0;E<4;++E)for(let S=0;S<32;S+=8)w[v++]=this.g[E]>>>S&255;return w};function r(w,v){var E=c;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function a(w,v){this.h=v;const E=[];let S=!0;for(let A=w.length-1;A>=0;A--){const D=w[A]|0;S&&D==v||(E[A]=D,S=!1)}this.g=E}var c={};function u(w){return-128<=w&&w<128?r(w,function(v){return new a([v|0],v<0?-1:0)}):new a([w|0],w<0?-1:0)}function h(w){if(isNaN(w)||!isFinite(w))return m;if(w<0)return O(h(-w));const v=[];let E=1;for(let S=0;w>=E;S++)v[S]=w/E|0,E*=4294967296;return new a(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return O(f(w.substring(1),v));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=h(Math.pow(v,8));let S=m;for(let D=0;D<w.length;D+=8){var A=Math.min(8,w.length-D);const N=parseInt(w.substring(D,D+A),v);A<8?(A=h(Math.pow(v,A)),S=S.j(A).add(h(N))):(S=S.j(E),S=S.add(h(N)))}return S}var m=u(0),p=u(1),y=u(16777216);t=a.prototype,t.m=function(){if(j(this))return-O(this).m();let w=0,v=1;for(let E=0;E<this.g.length;E++){const S=this.i(E);w+=(S>=0?S:4294967296+S)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R(this))return"0";if(j(this))return"-"+O(this).toString(w);const v=h(Math.pow(w,6));var E=this;let S="";for(;;){const A=I(E,v).g;E=b(E,A.j(v));let D=((E.g.length>0?E.g[0]:E.h)>>>0).toString(w);if(E=A,R(E))return D+S;for(;D.length<6;)D="0"+D;S=D+S}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function R(w){if(w.h!=0)return!1;for(let v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function j(w){return w.h==-1}t.l=function(w){return w=b(this,w),j(w)?-1:R(w)?0:1};function O(w){const v=w.g.length,E=[];for(let S=0;S<v;S++)E[S]=~w.g[S];return new a(E,~w.h).add(p)}t.abs=function(){return j(this)?O(this):this},t.add=function(w){const v=Math.max(this.g.length,w.g.length),E=[];let S=0;for(let A=0;A<=v;A++){let D=S+(this.i(A)&65535)+(w.i(A)&65535),N=(D>>>16)+(this.i(A)>>>16)+(w.i(A)>>>16);S=N>>>16,D&=65535,N&=65535,E[A]=N<<16|D}return new a(E,E[E.length-1]&-2147483648?-1:0)};function b(w,v){return w.add(O(v))}t.j=function(w){if(R(this)||R(w))return m;if(j(this))return j(w)?O(this).j(O(w)):O(O(this).j(w));if(j(w))return O(this.j(O(w)));if(this.l(y)<0&&w.l(y)<0)return h(this.m()*w.m());const v=this.g.length+w.g.length,E=[];for(var S=0;S<2*v;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(let A=0;A<w.g.length;A++){const D=this.i(S)>>>16,N=this.i(S)&65535,we=w.i(A)>>>16,ie=w.i(A)&65535;E[2*S+2*A]+=N*ie,_(E,2*S+2*A),E[2*S+2*A+1]+=D*ie,_(E,2*S+2*A+1),E[2*S+2*A+1]+=N*we,_(E,2*S+2*A+1),E[2*S+2*A+2]+=D*we,_(E,2*S+2*A+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new a(E,0)};function _(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function T(w,v){this.g=w,this.h=v}function I(w,v){if(R(v))throw Error("division by zero");if(R(w))return new T(m,m);if(j(w))return v=I(O(w),v),new T(O(v.g),O(v.h));if(j(v))return v=I(w,O(v)),new T(O(v.g),v.h);if(w.g.length>30){if(j(w)||j(v))throw Error("slowDivide_ only works with positive integers.");for(var E=p,S=v;S.l(w)<=0;)E=z(E),S=z(S);var A=B(E,1),D=B(S,1);for(S=B(S,2),E=B(E,2);!R(S);){var N=D.add(S);N.l(w)<=0&&(A=A.add(E),D=N),S=B(S,1),E=B(E,1)}return v=b(w,A.j(v)),new T(A,v)}for(A=m;w.l(v)>=0;){for(E=Math.max(1,Math.floor(w.m()/v.m())),S=Math.ceil(Math.log(E)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),D=h(E),N=D.j(v);j(N)||N.l(w)>0;)E-=S,D=h(E),N=D.j(v);R(D)&&(D=p),A=A.add(D),w=b(w,N)}return new T(A,w)}t.B=function(w){return I(this,w).h},t.and=function(w){const v=Math.max(this.g.length,w.g.length),E=[];for(let S=0;S<v;S++)E[S]=this.i(S)&w.i(S);return new a(E,this.h&w.h)},t.or=function(w){const v=Math.max(this.g.length,w.g.length),E=[];for(let S=0;S<v;S++)E[S]=this.i(S)|w.i(S);return new a(E,this.h|w.h)},t.xor=function(w){const v=Math.max(this.g.length,w.g.length),E=[];for(let S=0;S<v;S++)E[S]=this.i(S)^w.i(S);return new a(E,this.h^w.h)};function z(w){const v=w.g.length+1,E=[];for(let S=0;S<v;S++)E[S]=w.i(S)<<1|w.i(S-1)>>>31;return new a(E,w.h)}function B(w,v){const E=v>>5;v%=32;const S=w.g.length-E,A=[];for(let D=0;D<S;D++)A[D]=v>0?w.i(D+E)>>>v|w.i(D+E+1)<<32-v:w.i(D+E);return new a(A,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lT=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,oi=a}).apply(typeof zv<"u"?zv:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oT,gl,cT,Bc,um,uT,hT,dT;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var d=0;d<o.length;++d){var g=o[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function i(o,d){if(d)e:{var g=s;o=o.split(".");for(var x=0;x<o.length-1;x++){var k=o[x];if(!(k in g))break e;g=g[k]}o=o[o.length-1],x=g[o],d=d(x),d!=x&&d!=null&&e(g,o,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(o){return o||function(d){var g=[],x;for(x in d)Object.prototype.hasOwnProperty.call(d,x)&&g.push([x,d[x]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function c(o){var d=typeof o;return d=="object"&&o!=null||d=="function"}function u(o,d,g){return o.call.apply(o.bind,arguments)}function h(o,d,g){return h=u,h.apply(null,arguments)}function f(o,d){var g=Array.prototype.slice.call(arguments,1);return function(){var x=g.slice();return x.push.apply(x,arguments),o.apply(this,x)}}function m(o,d){function g(){}g.prototype=d.prototype,o.Z=d.prototype,o.prototype=new g,o.prototype.constructor=o,o.Ob=function(x,k,M){for(var H=Array(arguments.length-2),re=2;re<arguments.length;re++)H[re-2]=arguments[re];return d.prototype[k].apply(x,H)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function y(o){const d=o.length;if(d>0){const g=Array(d);for(let x=0;x<d;x++)g[x]=o[x];return g}return[]}function R(o,d){for(let x=1;x<arguments.length;x++){const k=arguments[x];var g=typeof k;if(g=g!="object"?g:k?Array.isArray(k)?"array":g:"null",g=="array"||g=="object"&&typeof k.length=="number"){g=o.length||0;const M=k.length||0;o.length=g+M;for(let H=0;H<M;H++)o[g+H]=k[H]}else o.push(k)}}class j{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function O(o){a.setTimeout(()=>{throw o},0)}function b(){var o=w;let d=null;return o.g&&(d=o.g,o.g=o.g.next,o.g||(o.h=null),d.next=null),d}class _{constructor(){this.h=this.g=null}add(d,g){const x=T.get();x.set(d,g),this.h?this.h.next=x:this.g=x,this.h=x}}var T=new j(()=>new I,o=>o.reset());class I{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let z,B=!1,w=new _,v=()=>{const o=Promise.resolve(void 0);z=()=>{o.then(E)}};function E(){for(var o;o=b();){try{o.h.call(o.g)}catch(g){O(g)}var d=T;d.j(o),d.h<100&&(d.h++,o.next=d.g,d.g=o)}B=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(o,d){this.type=o,this.g=this.target=d,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,d=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};a.addEventListener("test",g,d),a.removeEventListener("test",g,d)}catch{}return o}();function N(o){return/^[\s\xa0]*$/.test(o)}function we(o,d){A.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,d)}m(we,A),we.prototype.init=function(o,d){const g=this.type=o.type,x=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=d,d=o.relatedTarget,d||(g=="mouseover"?d=o.fromElement:g=="mouseout"&&(d=o.toElement)),this.relatedTarget=d,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),F=0;function q(o,d,g,x,k){this.listener=o,this.proxy=null,this.src=d,this.type=g,this.capture=!!x,this.ha=k,this.key=++F,this.da=this.fa=!1}function Z(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ye(o,d,g){for(const x in o)d.call(g,o[x],x,o)}function Re(o,d){for(const g in o)d.call(void 0,o[g],g,o)}function gn(o){const d={};for(const g in o)d[g]=o[g];return d}const yn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rn(o,d){let g,x;for(let k=1;k<arguments.length;k++){x=arguments[k];for(g in x)o[g]=x[g];for(let M=0;M<yn.length;M++)g=yn[M],Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}}function ht(o){this.src=o,this.g={},this.h=0}ht.prototype.add=function(o,d,g,x,k){const M=o.toString();o=this.g[M],o||(o=this.g[M]=[],this.h++);const H=P(o,d,x,k);return H>-1?(d=o[H],g||(d.fa=!1)):(d=new q(d,this.src,M,!!x,k),d.fa=g,o.push(d)),d};function en(o,d){const g=d.type;if(g in o.g){var x=o.g[g],k=Array.prototype.indexOf.call(x,d,void 0),M;(M=k>=0)&&Array.prototype.splice.call(x,k,1),M&&(Z(d),o.g[g].length==0&&(delete o.g[g],o.h--))}}function P(o,d,g,x){for(let k=0;k<o.length;++k){const M=o[k];if(!M.da&&M.listener==d&&M.capture==!!g&&M.ha==x)return k}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),K={};function Q(o,d,g,x,k){if(Array.isArray(d)){for(let M=0;M<d.length;M++)Q(o,d[M],g,x,k);return null}return g=Mg(g),o&&o[ie]?o.J(d,g,c(x)?!!x.capture:!1,k):qe(o,d,g,!1,x,k)}function qe(o,d,g,x,k,M){if(!d)throw Error("Invalid event type");const H=c(k)?!!k.capture:!!k;let re=Uh(o);if(re||(o[oe]=re=new ht(o)),g=re.add(d,g,x,H,M),g.proxy)return g;if(x=Ue(),g.proxy=x,x.src=o,x.listener=g,o.addEventListener)D||(k=H),k===void 0&&(k=!1),o.addEventListener(d.toString(),x,k);else if(o.attachEvent)o.attachEvent(kg(d.toString()),x);else if(o.addListener&&o.removeListener)o.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ue(){function o(g){return d.call(o.src,o.listener,g)}const d=YS;return o}function Ai(o,d,g,x,k){if(Array.isArray(d))for(var M=0;M<d.length;M++)Ai(o,d[M],g,x,k);else x=c(x)?!!x.capture:!!x,g=Mg(g),o&&o[ie]?(o=o.i,M=String(d).toString(),M in o.g&&(d=o.g[M],g=P(d,g,x,k),g>-1&&(Z(d[g]),Array.prototype.splice.call(d,g,1),d.length==0&&(delete o.g[M],o.h--)))):o&&(o=Uh(o))&&(d=o.g[d.toString()],o=-1,d&&(o=P(d,g,x,k)),(g=o>-1?d[o]:null)&&Vh(g))}function Vh(o){if(typeof o!="number"&&o&&!o.da){var d=o.src;if(d&&d[ie])en(d.i,o);else{var g=o.type,x=o.proxy;d.removeEventListener?d.removeEventListener(g,x,o.capture):d.detachEvent?d.detachEvent(kg(g),x):d.addListener&&d.removeListener&&d.removeListener(x),(g=Uh(d))?(en(g,o),g.h==0&&(g.src=null,d[oe]=null)):Z(o)}}}function kg(o){return o in K?K[o]:K[o]="on"+o}function YS(o,d){if(o.da)o=!0;else{d=new we(d,this);const g=o.listener,x=o.ha||o.src;o.fa&&Vh(o),o=g.call(x,d)}return o}function Uh(o){return o=o[oe],o instanceof ht?o:null}var Lh="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mg(o){return typeof o=="function"?o:(o[Lh]||(o[Lh]=function(d){return o.handleEvent(d)}),o[Lh])}function bt(){S.call(this),this.i=new ht(this),this.M=this,this.G=null}m(bt,S),bt.prototype[ie]=!0,bt.prototype.removeEventListener=function(o,d,g,x){Ai(this,o,d,g,x)};function St(o,d){var g,x=o.G;if(x)for(g=[];x;x=x.G)g.push(x);if(o=o.M,x=d.type||d,typeof d=="string")d=new A(d,o);else if(d instanceof A)d.target=d.target||o;else{var k=d;d=new A(x,o),Rn(d,k)}k=!0;let M,H;if(g)for(H=g.length-1;H>=0;H--)M=d.g=g[H],k=Uo(M,x,!0,d)&&k;if(M=d.g=o,k=Uo(M,x,!0,d)&&k,k=Uo(M,x,!1,d)&&k,g)for(H=0;H<g.length;H++)M=d.g=g[H],k=Uo(M,x,!1,d)&&k}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var o=this.i;for(const d in o.g){const g=o.g[d];for(let x=0;x<g.length;x++)Z(g[x]);delete o.g[d],o.h--}}this.G=null},bt.prototype.J=function(o,d,g,x){return this.i.add(String(o),d,!1,g,x)},bt.prototype.K=function(o,d,g,x){return this.i.add(String(o),d,!0,g,x)};function Uo(o,d,g,x){if(d=o.i.g[String(d)],!d)return!0;d=d.concat();let k=!0;for(let M=0;M<d.length;++M){const H=d[M];if(H&&!H.da&&H.capture==g){const re=H.listener,nt=H.ha||H.src;H.fa&&en(o.i,H),k=re.call(nt,x)!==!1&&k}}return k&&!x.defaultPrevented}function KS(o,d){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:a.setTimeout(o,d||0)}function Pg(o){o.g=KS(()=>{o.g=null,o.i&&(o.i=!1,Pg(o))},o.l);const d=o.h;o.h=null,o.m.apply(null,d)}class $S extends S{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Pg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Va(o){S.call(this),this.h=o,this.g={}}m(Va,S);var Vg=[];function Ug(o){ye(o.g,function(d,g){this.g.hasOwnProperty(g)&&Vh(d)},o),o.g={}}Va.prototype.N=function(){Va.Z.N.call(this),Ug(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zh=a.JSON.stringify,XS=a.JSON.parse,WS=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Lg(){}function zg(){}var Ua={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bh(){A.call(this,"d")}m(Bh,A);function Fh(){A.call(this,"c")}m(Fh,A);var Ri={},Bg=null;function Lo(){return Bg=Bg||new bt}Ri.Ia="serverreachability";function Fg(o){A.call(this,Ri.Ia,o)}m(Fg,A);function La(o){const d=Lo();St(d,new Fg(d))}Ri.STAT_EVENT="statevent";function Hg(o,d){A.call(this,Ri.STAT_EVENT,o),this.stat=d}m(Hg,A);function Nt(o){const d=Lo();St(d,new Hg(d,o))}Ri.Ja="timingevent";function qg(o,d){A.call(this,Ri.Ja,o),this.size=d}m(qg,A);function za(o,d){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},d)}function Ba(){this.g=!0}Ba.prototype.ua=function(){this.g=!1};function JS(o,d,g,x,k,M){o.info(function(){if(o.g)if(M){var H="",re=M.split("&");for(let Te=0;Te<re.length;Te++){var nt=re[Te].split("=");if(nt.length>1){const at=nt[0];nt=nt[1];const In=at.split("_");H=In.length>=2&&In[1]=="type"?H+(at+"="+nt+"&"):H+(at+"=redacted&")}}}else H=null;else H=M;return"XMLHTTP REQ ("+x+") [attempt "+k+"]: "+d+`
`+g+`
`+H})}function ZS(o,d,g,x,k,M,H){o.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+k+"]: "+d+`
`+g+`
`+M+" "+H})}function mr(o,d,g,x){o.info(function(){return"XMLHTTP TEXT ("+d+"): "+t1(o,g)+(x?" "+x:"")})}function e1(o,d){o.info(function(){return"TIMEOUT: "+d})}Ba.prototype.info=function(){};function t1(o,d){if(!o.g)return d;if(!d)return null;try{const M=JSON.parse(d);if(M){for(o=0;o<M.length;o++)if(Array.isArray(M[o])){var g=M[o];if(!(g.length<2)){var x=g[1];if(Array.isArray(x)&&!(x.length<1)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(let H=1;H<x.length;H++)x[H]=""}}}}return zh(M)}catch{return d}}var zo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qg;function Hh(){}m(Hh,Lg),Hh.prototype.g=function(){return new XMLHttpRequest},Qg=new Hh;function Fa(o){return encodeURIComponent(String(o))}function n1(o){var d=1;o=o.split(":");const g=[];for(;d>0&&o.length;)g.push(o.shift()),d--;return o.length&&g.push(o.join(":")),g}function Ns(o,d,g,x){this.j=o,this.i=d,this.l=g,this.S=x||1,this.V=new Va(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yg}function Yg(){this.i=null,this.g="",this.h=!1}var Kg={},qh={};function Gh(o,d,g){o.M=1,o.A=Fo(Cn(d)),o.u=g,o.R=!0,$g(o,null)}function $g(o,d){o.F=Date.now(),Bo(o),o.B=Cn(o.A);var g=o.B,x=o.S;Array.isArray(x)||(x=[String(x)]),oy(g.i,"t",x),o.C=0,g=o.j.L,o.h=new Yg,o.g=Ny(o.j,g?d:null,!o.u),o.P>0&&(o.O=new $S(h(o.Y,o,o.g),o.P)),d=o.V,g=o.g,x=o.ba;var k="readystatechange";Array.isArray(k)||(k&&(Vg[0]=k.toString()),k=Vg);for(let M=0;M<k.length;M++){const H=Q(g,k[M],x||d.handleEvent,!1,d.h||d);if(!H)break;d.g[H.key]=H}d=o.J?gn(o.J):{},o.u?(o.v||(o.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,d)):(o.v="GET",o.g.ea(o.B,o.v,null,d)),La(),JS(o.i,o.v,o.B,o.l,o.S,o.u)}Ns.prototype.ba=function(o){o=o.target;const d=this.O;d&&Cs(o)==3?d.j():this.Y(o)},Ns.prototype.Y=function(o){try{if(o==this.g)e:{const re=Cs(this.g),nt=this.g.ya(),Te=this.g.ca();if(!(re<3)&&(re!=3||this.g&&(this.h.h||this.g.la()||py(this.g)))){this.K||re!=4||nt==7||(nt==8||Te<=0?La(3):La(2)),Qh(this);var d=this.g.ca();this.X=d;var g=s1(this);if(this.o=d==200,ZS(this.i,this.v,this.B,this.l,this.S,re,d),this.o){if(this.U&&!this.L){t:{if(this.g){var x,k=this.g;if((x=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var M=x;break t}}M=null}if(o=M)mr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yh(this,o);else{this.o=!1,this.m=3,Nt(12),Ci(this),Ha(this);break e}}if(this.R){o=!0;let at;for(;!this.K&&this.C<g.length;)if(at=i1(this,g),at==qh){re==4&&(this.m=4,Nt(14),o=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Kg){this.m=4,Nt(15),mr(this.i,this.l,g,"[Invalid Chunk]"),o=!1;break}else mr(this.i,this.l,at,null),Yh(this,at);if(Xg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),re!=4||g.length!=0||this.h.h||(this.m=1,Nt(16),o=!1),this.o=this.o&&o,!o)mr(this.i,this.l,g,"[Invalid Chunked Response]"),Ci(this),Ha(this);else if(g.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),td(H),H.P=!0,Nt(11))}}else mr(this.i,this.l,g,null),Yh(this,g);re==4&&Ci(this),this.o&&!this.K&&(re==4?Ey(this.j,this):(this.o=!1,Bo(this)))}else v1(this.g),d==400&&g.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Ci(this),Ha(this)}}}catch{}finally{}};function s1(o){if(!Xg(o))return o.g.la();const d=py(o.g);if(d==="")return"";let g="";const x=d.length,k=Cs(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Ci(o),Ha(o),"";o.h.i=new a.TextDecoder}for(let M=0;M<x;M++)o.h.h=!0,g+=o.h.i.decode(d[M],{stream:!(k&&M==x-1)});return d.length=0,o.h.g+=g,o.C=0,o.h.g}function Xg(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function i1(o,d){var g=o.C,x=d.indexOf(`
`,g);return x==-1?qh:(g=Number(d.substring(g,x)),isNaN(g)?Kg:(x+=1,x+g>d.length?qh:(d=d.slice(x,x+g),o.C=x+g,d)))}Ns.prototype.cancel=function(){this.K=!0,Ci(this)};function Bo(o){o.T=Date.now()+o.H,Wg(o,o.H)}function Wg(o,d){if(o.D!=null)throw Error("WatchDog timer not null");o.D=za(h(o.aa,o),d)}function Qh(o){o.D&&(a.clearTimeout(o.D),o.D=null)}Ns.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(e1(this.i,this.B),this.M!=2&&(La(),Nt(17)),Ci(this),this.m=2,Ha(this)):Wg(this,this.T-o)};function Ha(o){o.j.I==0||o.K||Ey(o.j,o)}function Ci(o){Qh(o);var d=o.O;d&&typeof d.dispose=="function"&&d.dispose(),o.O=null,Ug(o.V),o.g&&(d=o.g,o.g=null,d.abort(),d.dispose())}function Yh(o,d){try{var g=o.j;if(g.I!=0&&(g.g==o||Kh(g.h,o))){if(!o.L&&Kh(g.h,o)&&g.I==3){try{var x=g.Ba.g.parse(d)}catch{x=null}if(Array.isArray(x)&&x.length==3){var k=x;if(k[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<o.F)Yo(g),Go(g);else break e;ed(g),Nt(18)}}else g.xa=k[1],0<g.xa-g.K&&k[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=za(h(g.Va,g),6e3));ey(g.h)<=1&&g.ta&&(g.ta=void 0)}else ji(g,11)}else if((o.L||g.g==o)&&Yo(g),!N(d))for(k=g.Ba.g.parse(d),d=0;d<k.length;d++){let Te=k[d];const at=Te[0];if(!(at<=g.K))if(g.K=at,Te=Te[1],g.I==2)if(Te[0]=="c"){g.M=Te[1],g.ba=Te[2];const In=Te[3];In!=null&&(g.ka=In,g.j.info("VER="+g.ka));const Di=Te[4];Di!=null&&(g.za=Di,g.j.info("SVER="+g.za));const Is=Te[5];Is!=null&&typeof Is=="number"&&Is>0&&(x=1.5*Is,g.O=x,g.j.info("backChannelRequestTimeoutMs_="+x)),x=g;const js=o.g;if(js){const $o=js.g?js.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($o){var M=x.h;M.g||$o.indexOf("spdy")==-1&&$o.indexOf("quic")==-1&&$o.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&($h(M,M.h),M.h=null))}if(x.G){const nd=js.g?js.g.getResponseHeader("X-HTTP-Session-Id"):null;nd&&(x.wa=nd,Ce(x.J,x.G,nd))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-o.F,g.j.info("Handshake RTT: "+g.T+"ms")),x=g;var H=o;if(x.na=Sy(x,x.L?x.ba:null,x.W),H.L){ty(x.h,H);var re=H,nt=x.O;nt&&(re.H=nt),re.D&&(Qh(re),Bo(re)),x.g=H}else by(x);g.i.length>0&&Qo(g)}else Te[0]!="stop"&&Te[0]!="close"||ji(g,7);else g.I==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?ji(g,7):Zh(g):Te[0]!="noop"&&g.l&&g.l.qa(Te),g.A=0)}}La(4)}catch{}}var r1=class{constructor(o,d){this.g=o,this.map=d}};function Jg(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ey(o){return o.h?1:o.g?o.g.size:0}function Kh(o,d){return o.h?o.h==d:o.g?o.g.has(d):!1}function $h(o,d){o.g?o.g.add(d):o.h=d}function ty(o,d){o.h&&o.h==d?o.h=null:o.g&&o.g.has(d)&&o.g.delete(d)}Jg.prototype.cancel=function(){if(this.i=ny(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ny(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let d=o.i;for(const g of o.g.values())d=d.concat(g.G);return d}return y(o.i)}var sy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function a1(o,d){if(o){o=o.split("&");for(let g=0;g<o.length;g++){const x=o[g].indexOf("=");let k,M=null;x>=0?(k=o[g].substring(0,x),M=o[g].substring(x+1)):k=o[g],d(k,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function As(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;o instanceof As?(this.l=o.l,qa(this,o.j),this.o=o.o,this.g=o.g,Ga(this,o.u),this.h=o.h,Xh(this,cy(o.i)),this.m=o.m):o&&(d=String(o).match(sy))?(this.l=!1,qa(this,d[1]||"",!0),this.o=Qa(d[2]||""),this.g=Qa(d[3]||"",!0),Ga(this,d[4]),this.h=Qa(d[5]||"",!0),Xh(this,d[6]||"",!0),this.m=Qa(d[7]||"")):(this.l=!1,this.i=new Ka(null,this.l))}As.prototype.toString=function(){const o=[];var d=this.j;d&&o.push(Ya(d,iy,!0),":");var g=this.g;return(g||d=="file")&&(o.push("//"),(d=this.o)&&o.push(Ya(d,iy,!0),"@"),o.push(Fa(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&o.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Ya(g,g.charAt(0)=="/"?c1:o1,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Ya(g,h1)),o.join("")},As.prototype.resolve=function(o){const d=Cn(this);let g=!!o.j;g?qa(d,o.j):g=!!o.o,g?d.o=o.o:g=!!o.g,g?d.g=o.g:g=o.u!=null;var x=o.h;if(g)Ga(d,o.u);else if(g=!!o.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var k=d.h.lastIndexOf("/");k!=-1&&(x=d.h.slice(0,k+1)+x)}if(k=x,k==".."||k==".")x="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){x=k.lastIndexOf("/",0)==0,k=k.split("/");const M=[];for(let H=0;H<k.length;){const re=k[H++];re=="."?x&&H==k.length&&M.push(""):re==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),x&&H==k.length&&M.push("")):(M.push(re),x=!0)}x=M.join("/")}else x=k}return g?d.h=x:g=o.i.toString()!=="",g?Xh(d,cy(o.i)):g=!!o.m,g&&(d.m=o.m),d};function Cn(o){return new As(o)}function qa(o,d,g){o.j=g?Qa(d,!0):d,o.j&&(o.j=o.j.replace(/:$/,""))}function Ga(o,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);o.u=d}else o.u=null}function Xh(o,d,g){d instanceof Ka?(o.i=d,d1(o.i,o.l)):(g||(d=Ya(d,u1)),o.i=new Ka(d,o.l))}function Ce(o,d,g){o.i.set(d,g)}function Fo(o){return Ce(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Qa(o,d){return o?d?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ya(o,d,g){return typeof o=="string"?(o=encodeURI(o).replace(d,l1),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function l1(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var iy=/[#\/\?@]/g,o1=/[#\?:]/g,c1=/[#\?]/g,u1=/[#\?@]/g,h1=/#/g;function Ka(o,d){this.h=this.g=null,this.i=o||null,this.j=!!d}function Ii(o){o.g||(o.g=new Map,o.h=0,o.i&&a1(o.i,function(d,g){o.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}t=Ka.prototype,t.add=function(o,d){Ii(this),this.i=null,o=pr(this,o);let g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(d),this.h+=1,this};function ry(o,d){Ii(o),d=pr(o,d),o.g.has(d)&&(o.i=null,o.h-=o.g.get(d).length,o.g.delete(d))}function ay(o,d){return Ii(o),d=pr(o,d),o.g.has(d)}t.forEach=function(o,d){Ii(this),this.g.forEach(function(g,x){g.forEach(function(k){o.call(d,k,x,this)},this)},this)};function ly(o,d){Ii(o);let g=[];if(typeof d=="string")ay(o,d)&&(g=g.concat(o.g.get(pr(o,d))));else for(o=Array.from(o.g.values()),d=0;d<o.length;d++)g=g.concat(o[d]);return g}t.set=function(o,d){return Ii(this),this.i=null,o=pr(this,o),ay(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[d]),this.h+=1,this},t.get=function(o,d){return o?(o=ly(this,o),o.length>0?String(o[0]):d):d};function oy(o,d,g){ry(o,d),g.length>0&&(o.i=null,o.g.set(pr(o,d),y(g)),o.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],d=Array.from(this.g.keys());for(let x=0;x<d.length;x++){var g=d[x];const k=Fa(g);g=ly(this,g);for(let M=0;M<g.length;M++){let H=k;g[M]!==""&&(H+="="+Fa(g[M])),o.push(H)}}return this.i=o.join("&")};function cy(o){const d=new Ka;return d.i=o.i,o.g&&(d.g=new Map(o.g),d.h=o.h),d}function pr(o,d){return d=String(d),o.j&&(d=d.toLowerCase()),d}function d1(o,d){d&&!o.j&&(Ii(o),o.i=null,o.g.forEach(function(g,x){const k=x.toLowerCase();x!=k&&(ry(this,x),oy(this,k,g))},o)),o.j=d}function f1(o,d){const g=new Ba;if(a.Image){const x=new Image;x.onload=f(Rs,g,"TestLoadImage: loaded",!0,d,x),x.onerror=f(Rs,g,"TestLoadImage: error",!1,d,x),x.onabort=f(Rs,g,"TestLoadImage: abort",!1,d,x),x.ontimeout=f(Rs,g,"TestLoadImage: timeout",!1,d,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=o}else d(!1)}function m1(o,d){const g=new Ba,x=new AbortController,k=setTimeout(()=>{x.abort(),Rs(g,"TestPingServer: timeout",!1,d)},1e4);fetch(o,{signal:x.signal}).then(M=>{clearTimeout(k),M.ok?Rs(g,"TestPingServer: ok",!0,d):Rs(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(k),Rs(g,"TestPingServer: error",!1,d)})}function Rs(o,d,g,x,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),x(g)}catch{}}function p1(){this.g=new WS}function Wh(o){this.i=o.Sb||null,this.h=o.ab||!1}m(Wh,Lg),Wh.prototype.g=function(){return new Ho(this.i,this.h)};function Ho(o,d){bt.call(this),this.H=o,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ho,bt),t=Ho.prototype,t.open=function(o,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=d,this.readyState=1,Xa(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(d.body=o),(this.H||a).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$a(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uy(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function uy(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var d=o.value?o.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!o.done}))&&(this.response=this.responseText+=d)}o.done?$a(this):Xa(this),this.readyState==3&&uy(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,$a(this))},t.Na=function(o){this.g&&(this.response=o,$a(this))},t.ga=function(){this.g&&$a(this)};function $a(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Xa(o)}t.setRequestHeader=function(o,d){this.A.append(o,d)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=d.next();return o.join(`\r
`)};function Xa(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function hy(o){let d="";return ye(o,function(g,x){d+=x,d+=":",d+=g,d+=`\r
`}),d}function Jh(o,d,g){e:{for(x in g){var x=!1;break e}x=!0}x||(g=hy(g),typeof o=="string"?g!=null&&Fa(g):Ce(o,d,g))}function Le(o){bt.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Le,bt);var g1=/^https?$/i,y1=["POST","PUT"];t=Le.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,d,g,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);d=d?d.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qg.g(),this.g.onreadystatechange=p(h(this.Ca,this));try{this.B=!0,this.g.open(d,String(o),!0),this.B=!1}catch(M){dy(this,M);return}if(o=g||"",g=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var k in x)g.set(k,x[k]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const M of x.keys())g.set(M,x.get(M));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),k=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(y1,d,void 0)>=0)||x||k||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,H]of g)this.g.setRequestHeader(M,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(M){dy(this,M)}};function dy(o,d){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=d,o.o=5,fy(o),qo(o)}function fy(o){o.A||(o.A=!0,St(o,"complete"),St(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,St(this,"complete"),St(this,"abort"),qo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qo(this,!0)),Le.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?my(this):this.Xa())},t.Xa=function(){my(this)};function my(o){if(o.h&&typeof r<"u"){if(o.v&&Cs(o)==4)setTimeout(o.Ca.bind(o),0);else if(St(o,"readystatechange"),Cs(o)==4){o.h=!1;try{const M=o.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var x;if(x=M===0){let H=String(o.D).match(sy)[1]||null;!H&&a.self&&a.self.location&&(H=a.self.location.protocol.slice(0,-1)),x=!g1.test(H?H.toLowerCase():"")}g=x}if(g)St(o,"complete"),St(o,"success");else{o.o=6;try{var k=Cs(o)>2?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.ca()+"]",fy(o)}}finally{qo(o)}}}}function qo(o,d){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const g=o.g;o.g=null,d||St(o,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Cs(o){return o.g?o.g.readyState:0}t.ca=function(){try{return Cs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var d=this.g.responseText;return o&&d.indexOf(o)==0&&(d=d.substring(o.length)),XS(d)}};function py(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function v1(o){const d={};o=(o.g&&Cs(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<o.length;x++){if(N(o[x]))continue;var g=n1(o[x]);const k=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=d[k]||[];d[k]=M,M.push(g)}Re(d,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wa(o,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||d}function gy(o){this.za=0,this.i=[],this.j=new Ba,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wa("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wa("baseRetryDelayMs",5e3,o),this.Za=Wa("retryDelaySeedMs",1e4,o),this.Ta=Wa("forwardChannelMaxRetries",2,o),this.va=Wa("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Jg(o&&o.concurrentRequestLimit),this.Ba=new p1,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gy.prototype,t.ka=8,t.I=1,t.connect=function(o,d,g,x){Nt(0),this.W=o,this.H=d||{},g&&x!==void 0&&(this.H.OSID=g,this.H.OAID=x),this.F=this.X,this.J=Sy(this,null,this.W),Qo(this)};function Zh(o){if(yy(o),o.I==3){var d=o.V++,g=Cn(o.J);if(Ce(g,"SID",o.M),Ce(g,"RID",d),Ce(g,"TYPE","terminate"),Ja(o,g),d=new Ns(o,o.j,d),d.M=2,d.A=Fo(Cn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(d.A.toString(),"")}catch{}!g&&a.Image&&(new Image().src=d.A,g=!0),g||(d.g=Ny(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Bo(d)}Ty(o)}function Go(o){o.g&&(td(o),o.g.cancel(),o.g=null)}function yy(o){Go(o),o.v&&(a.clearTimeout(o.v),o.v=null),Yo(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Qo(o){if(!Zg(o.h)&&!o.m){o.m=!0;var d=o.Ea;z||v(),B||(z(),B=!0),w.add(d,o),o.D=0}}function x1(o,d){return ey(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=d.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=za(h(o.Ea,o,d),wy(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const k=new Ns(this,this.j,o);let M=this.o;if(this.U&&(M?(M=gn(M),Rn(M,this.U)):M=this.U),this.u!==null||this.R||(k.J=M,M=null),this.S)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var x=this.i[g];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(d+=x,d>4096){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=xy(this,k,d),g=Cn(this.J),Ce(g,"RID",o),Ce(g,"CVER",22),this.G&&Ce(g,"X-HTTP-Session-Id",this.G),Ja(this,g),M&&(this.R?d="headers="+Fa(hy(M))+"&"+d:this.u&&Jh(g,this.u,M)),$h(this.h,k),this.Ra&&Ce(g,"TYPE","init"),this.S?(Ce(g,"$req",d),Ce(g,"SID","null"),k.U=!0,Gh(k,g,null)):Gh(k,g,d),this.I=2}}else this.I==3&&(o?vy(this,o):this.i.length==0||Zg(this.h)||vy(this))};function vy(o,d){var g;d?g=d.l:g=o.V++;const x=Cn(o.J);Ce(x,"SID",o.M),Ce(x,"RID",g),Ce(x,"AID",o.K),Ja(o,x),o.u&&o.o&&Jh(x,o.u,o.o),g=new Ns(o,o.j,g,o.D+1),o.u===null&&(g.J=o.o),d&&(o.i=d.G.concat(o.i)),d=xy(o,g,1e3),g.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),$h(o.h,g),Gh(g,x,d)}function Ja(o,d){o.H&&ye(o.H,function(g,x){Ce(d,x,g)}),o.l&&ye({},function(g,x){Ce(d,x,g)})}function xy(o,d,g){g=Math.min(o.i.length,g);const x=o.l?h(o.l.Ka,o.l,o):null;e:{var k=o.i;let re=-1;for(;;){const nt=["count="+g];re==-1?g>0?(re=k[0].g,nt.push("ofs="+re)):re=0:nt.push("ofs="+re);let Te=!0;for(let at=0;at<g;at++){var M=k[at].g;const In=k[at].map;if(M-=re,M<0)re=Math.max(0,k[at].g-100),Te=!1;else try{M="req"+M+"_"||"";try{var H=In instanceof Map?In:Object.entries(In);for(const[Di,Is]of H){let js=Is;c(Is)&&(js=zh(Is)),nt.push(M+Di+"="+encodeURIComponent(js))}}catch(Di){throw nt.push(M+"type="+encodeURIComponent("_badmap")),Di}}catch{x&&x(In)}}if(Te){H=nt.join("&");break e}}H=void 0}return o=o.i.splice(0,g),d.G=o,H}function by(o){if(!o.g&&!o.v){o.Y=1;var d=o.Da;z||v(),B||(z(),B=!0),w.add(d,o),o.A=0}}function ed(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=za(h(o.Da,o),wy(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,_y(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=za(h(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Go(this),_y(this))};function td(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function _y(o){o.g=new Ns(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var d=Cn(o.na);Ce(d,"RID","rpc"),Ce(d,"SID",o.M),Ce(d,"AID",o.K),Ce(d,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ce(d,"TO",o.ia),Ce(d,"TYPE","xmlhttp"),Ja(o,d),o.u&&o.o&&Jh(d,o.u,o.o),o.O&&(o.g.H=o.O);var g=o.g;o=o.ba,g.M=1,g.A=Fo(Cn(d)),g.u=null,g.R=!0,$g(g,o)}t.Va=function(){this.C!=null&&(this.C=null,Go(this),ed(this),Nt(19))};function Yo(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function Ey(o,d){var g=null;if(o.g==d){Yo(o),td(o),o.g=null;var x=2}else if(Kh(o.h,d))g=d.G,ty(o.h,d),x=1;else return;if(o.I!=0){if(d.o)if(x==1){g=d.u?d.u.length:0,d=Date.now()-d.F;var k=o.D;x=Lo(),St(x,new qg(x,g)),Qo(o)}else by(o);else if(k=d.m,k==3||k==0&&d.X>0||!(x==1&&x1(o,d)||x==2&&ed(o)))switch(g&&g.length>0&&(d=o.h,d.i=d.i.concat(g)),k){case 1:ji(o,5);break;case 4:ji(o,10);break;case 3:ji(o,6);break;default:ji(o,2)}}}function wy(o,d){let g=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(g*=2),g*d}function ji(o,d){if(o.j.info("Error code "+d),d==2){var g=h(o.bb,o),x=o.Ua;const k=!x;x=new As(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qa(x,"https"),Fo(x),k?f1(x.toString(),g):m1(x.toString(),g)}else Nt(2);o.I=0,o.l&&o.l.pa(d),Ty(o),yy(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Ty(o){if(o.I=0,o.ja=[],o.l){const d=ny(o.h);(d.length!=0||o.i.length!=0)&&(R(o.ja,d),R(o.ja,o.i),o.h.i.length=0,y(o.i),o.i.length=0),o.l.oa()}}function Sy(o,d,g){var x=g instanceof As?Cn(g):new As(g);if(x.g!="")d&&(x.g=d+"."+x.g),Ga(x,x.u);else{var k=a.location;x=k.protocol,d=d?d+"."+k.hostname:k.hostname,k=+k.port;const M=new As(null);x&&qa(M,x),d&&(M.g=d),k&&Ga(M,k),g&&(M.h=g),x=M}return g=o.G,d=o.wa,g&&d&&Ce(x,g,d),Ce(x,"VER",o.ka),Ja(o,x),x}function Ny(o,d,g){if(d&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=o.Aa&&!o.ma?new Le(new Wh({ab:g})):new Le(o.ma),d.Fa(o.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ay(){}t=Ay.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ko(){}Ko.prototype.g=function(o,d){return new Lt(o,d)};function Lt(o,d){bt.call(this),this.g=new gy(d),this.l=o,this.h=d&&d.messageUrlParams||null,o=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(o?o["X-WebChannel-Content-Type"]=d.messageContentType:o={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(o?o["X-WebChannel-Client-Profile"]=d.sa:o={"X-WebChannel-Client-Profile":d.sa}),this.g.U=o,(o=d&&d.Qb)&&!N(o)&&(this.g.u=o),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!N(d)&&(this.g.G=d,o=this.h,o!==null&&d in o&&(o=this.h,d in o&&delete o[d])),this.j=new gr(this)}m(Lt,bt),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Zh(this.g)},Lt.prototype.o=function(o){var d=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.v&&(g={},g.__data__=zh(o),o=g);d.i.push(new r1(d.Ya++,o)),d.I==3&&Qo(d)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Zh(this.g),delete this.g,Lt.Z.N.call(this)};function Ry(o){Bh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var d=o.__sm__;if(d){e:{for(const g in d){o=g;break e}o=void 0}(this.i=o)&&(o=this.i,d=d!==null&&o in d?d[o]:void 0),this.data=d}else this.data=o}m(Ry,Bh);function Cy(){Fh.call(this),this.status=1}m(Cy,Fh);function gr(o){this.g=o}m(gr,Ay),gr.prototype.ra=function(){St(this.g,"a")},gr.prototype.qa=function(o){St(this.g,new Ry(o))},gr.prototype.pa=function(o){St(this.g,new Cy)},gr.prototype.oa=function(){St(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,dT=function(){return new Ko},hT=function(){return Lo()},uT=Ri,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zo.NO_ERROR=0,zo.TIMEOUT=8,zo.HTTP_ERROR=6,Bc=zo,Gg.COMPLETE="complete",cT=Gg,zg.EventType=Ua,Ua.OPEN="a",Ua.CLOSE="b",Ua.ERROR="c",Ua.MESSAGE="d",bt.prototype.listen=bt.prototype.J,gl=zg,Le.prototype.listenOnce=Le.prototype.K,Le.prototype.getLastError=Le.prototype.Ha,Le.prototype.getLastErrorCode=Le.prototype.ya,Le.prototype.getStatus=Le.prototype.ca,Le.prototype.getResponseJson=Le.prototype.La,Le.prototype.getResponseText=Le.prototype.la,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Fa,oT=Le}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="12.8.0";function i4(t){Da=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Mp("@firebase/firestore");function Er(){return nr.logLevel}function Y(t,...e){if(nr.logLevel<=ce.DEBUG){const n=e.map(Qp);nr.debug(`Firestore (${Da}): ${t}`,...n)}}function xs(t,...e){if(nr.logLevel<=ce.ERROR){const n=e.map(Qp);nr.error(`Firestore (${Da}): ${t}`,...n)}}function da(t,...e){if(nr.logLevel<=ce.WARN){const n=e.map(Qp);nr.warn(`Firestore (${Da}): ${t}`,...n)}}function Qp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,fT(t,s,n)}function fT(t,e,n){let s=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw xs(s),new Error(s)}function ve(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||fT(e,i,s)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class a4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class l4{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let s=this.i;const i=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let r=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new cs,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new cs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ve(typeof s.accessToken=="string",31837,{l:s}),new mT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new Et(e)}}class o4{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class c4{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new o4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);const s=r=>{r.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,Y("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=h4(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function ue(t,e){return t<e?-1:t>e?1:0}function hm(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.charAt(s),r=e.charAt(s);if(i!==r)return Wd(i)===Wd(r)?ue(i,r):Wd(i)?1:-1}return ue(t.length,e.length)}const d4=55296,f4=57343;function Wd(t){const e=t.charCodeAt(0);return e>=d4&&e<=f4}function fa(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="__name__";class jn{constructor(e,n,s){n===void 0?n=0:n>e.length&&W(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&W(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=jn.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return ue(e.length,n.length)}static compareSegments(e,n){const s=jn.isNumericId(e),i=jn.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?jn.extractNumericId(e).compare(jn.extractNumericId(n)):hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oi.fromString(e.substring(4,e.length-2))}}class Ne extends jn{construct(e,n,s){return new Ne(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new G(V.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const m4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends jn{construct(e,n,s){return new gt(e,n,s)}static isValidIdentifier(e){return m4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fv}static keyField(){return new gt([Fv])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new G(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new G(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(s+=c,i++):(r(),i++)}if(r(),a)throw new G(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.path=e}static fromPath(e){return new $(Ne.fromString(e))}static fromName(e){return new $(Ne.fromString(e).popFirst(5))}static empty(){return new $(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e,n){if(!n)throw new G(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p4(t,e,n,s){if(e===!0&&s===!0)throw new G(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Hv(t){if(!$.isDocumentKey(t))throw new G(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qv(t){if($.isDocumentKey(t))throw new G(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W(12329,{type:typeof t})}function Xt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(t);throw new G(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e){const n={typeString:t};return e&&(n.value=e),n}function Do(t,e){if(!gT(t))throw new G(V.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const i=e[s].typeString,r="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(i&&typeof a!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${s}' field to equal '${r.value}'`;break}}if(n)throw new G(V.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=-62135596800,Qv=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Qv);return new De(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gv)throw new G(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qv}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Do(e,De._jsonSchema))return new De(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:et("string",De._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new De(0,0))}static max(){return new ee(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=-1;function g4(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(s===1e9?new De(n+1,0):new De(n,s));return new pi(i,$.empty(),e)}function y4(t){return new pi(t.readTime,t.key,so)}class pi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new pi(ee.min(),$.empty(),so)}static max(){return new pi(ee.max(),$.empty(),so)}}function v4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==x4)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,s)=>{n(e)})}static reject(e){return new L((n,s)=>{s(e)})}static waitFor(e){return new L((n,s)=>{let i=0,r=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++r,a&&r===i&&n()},u=>s(u))}),a=!0,r===i&&n()})}static or(e){let n=L.resolve(!1);for(const s of e)n=n.next(i=>i?L.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new L((s,i)=>{const r=e.length,a=new Array(r);let c=0;for(let u=0;u<r;u++){const h=u;n(e[h]).next(f=>{a[h]=f,++c,c===r&&s(a)},f=>i(f))}})}static doWhile(e,n){return new L((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function _4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=-1;function bh(t){return t==null}function Du(t){return t===0&&1/t==-1/0}function E4(t){return typeof t=="number"&&Number.isInteger(t)&&!Du(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="";function w4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Yv(e)),e=T4(t.get(n),e);return Yv(e)}function T4(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case yT:n+="";break;default:n+=r}}return n}function Yv(t){return t+yT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??ft.RED,this.left=i??ft.EMPTY,this.right=r??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new ft(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ft.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw W(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(e){return new $v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class $v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new it(gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new xT("Invalid base64 string: "+r):r}}(e);return new xt(n)}static fromUint8Array(e){const n=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const S4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(ve(!!t,39018),typeof t=="string"){let e=0;const n=S4.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="server_timestamp",_T="__type__",ET="__previous_value__",wT="__local_write_time__";function $p(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_T])==null?void 0:s.stringValue)===bT}function _h(t){const e=t.mapValue.fields[ET];return $p(e)?_h(e):e}function io(t){const e=gi(t.mapValue.fields[wT].timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,s,i,r,a,c,u,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f,this.apiKey=m}}const Ou="(default)";class ro{constructor(e,n){this.projectId=e,this.database=n||Ou}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===Ou}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}function A4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new G(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__type__",R4="__max__",gc={mapValue:{}},ST="__vector__",ku="value";function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$p(t)?4:I4(t)?9007199254740991:C4(t)?10:11:W(28295,{value:t})}function Bn(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return io(t).isEqual(io(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=gi(i.timestampValue),c=gi(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return yi(i.bytesValue).isEqual(yi(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return Ge(i.geoPointValue.latitude)===Ge(r.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ge(i.integerValue)===Ge(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Ge(i.doubleValue),c=Ge(r.doubleValue);return a===c?Du(a)===Du(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return fa(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(i,r){const a=i.mapValue.fields||{},c=r.mapValue.fields||{};if(Kv(a)!==Kv(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Bn(a[u],c[u])))return!1;return!0}(t,e);default:return W(52216,{left:t})}}function ao(t,e){return(t.values||[]).find(n=>Bn(n,e))!==void 0}function ma(t,e){if(t===e)return 0;const n=vi(t),s=vi(e);if(n!==s)return ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(r,a){const c=Ge(r.integerValue||r.doubleValue),u=Ge(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Xv(t.timestampValue,e.timestampValue);case 4:return Xv(io(t),io(e));case 5:return hm(t.stringValue,e.stringValue);case 6:return function(r,a){const c=yi(r),u=yi(a);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),u=a.split("/");for(let h=0;h<c.length&&h<u.length;h++){const f=ue(c[h],u[h]);if(f!==0)return f}return ue(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const c=ue(Ge(r.latitude),Ge(a.latitude));return c!==0?c:ue(Ge(r.longitude),Ge(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Wv(t.arrayValue,e.arrayValue);case 10:return function(r,a){var p,y,R,j;const c=r.fields||{},u=a.fields||{},h=(p=c[ku])==null?void 0:p.arrayValue,f=(y=u[ku])==null?void 0:y.arrayValue,m=ue(((R=h==null?void 0:h.values)==null?void 0:R.length)||0,((j=f==null?void 0:f.values)==null?void 0:j.length)||0);return m!==0?m:Wv(h,f)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===gc.mapValue&&a===gc.mapValue)return 0;if(r===gc.mapValue)return 1;if(a===gc.mapValue)return-1;const c=r.fields||{},u=Object.keys(c),h=a.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const p=hm(u[m],f[m]);if(p!==0)return p;const y=ma(c[u[m]],h[f[m]]);if(y!==0)return y}return ue(u.length,f.length)}(t.mapValue,e.mapValue);default:throw W(23264,{he:n})}}function Xv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=gi(t),s=gi(e),i=ue(n.seconds,s.seconds);return i!==0?i:ue(n.nanos,s.nanos)}function Wv(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=ma(n[i],s[i]);if(r)return r}return ue(n.length,s.length)}function pa(t){return dm(t)}function dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=gi(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=dm(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const a of s)r?r=!1:i+=",",i+=`${a}:${dm(n.fields[a])}`;return i+"}"}(t.mapValue):W(61005,{value:t})}function Fc(t){switch(vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(t);return e?16+Fc(e):16;case 5:return 2*t.stringValue.length;case 6:return yi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+Fc(r),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return Si(s.fields,(r,a)=>{i+=r.length+Fc(a)}),i}(t.mapValue);default:throw W(13486,{value:t})}}function Jv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fm(t){return!!t&&"integerValue"in t}function Xp(t){return!!t&&"arrayValue"in t}function Zv(t){return!!t&&"nullValue"in t}function ex(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}function C4(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[TT])==null?void 0:s.stringValue)===ST}function Pl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Si(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Pl(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(t.arrayValue.values[n]);return e}return{...t}}function I4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===R4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=gt.emptyPath(),s={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,s,i),s={},i=[],n=c.popLast()}a?s[c.lastSegment()]=Pl(a):i.push(c.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Hc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Si(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new Mt(Pl(this.value))}}function NT(t){const e=[];return Si(t.fields,(n,s)=>{const i=new gt([n]);if(Hc(s)){const r=NT(s.mapValue).fields;if(r.length===0)e.push(i);else for(const a of r)e.push(i.child(a))}else e.push(i)}),new Gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,s,i,r,a,c){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=a,this.documentState=c}static newInvalidDocument(e){return new wt(e,0,ee.min(),ee.min(),ee.min(),Mt.empty(),0)}static newFoundDocument(e,n,s,i){return new wt(e,1,n,ee.min(),s,i,0)}static newNoDocument(e,n){return new wt(e,2,n,ee.min(),ee.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,ee.min(),ee.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.position=e,this.inclusive=n}}function tx(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],a=t.position[i];if(r.field.isKeyField()?s=$.comparator($.fromName(a.referenceValue),n.key):s=ma(a,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function nx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n="asc"){this.field=e,this.dir=n}}function j4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{}class Je extends AT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new O4(e,n,s):n==="array-contains"?new P4(e,s):n==="in"?new V4(e,s):n==="not-in"?new U4(e,s):n==="array-contains-any"?new L4(e,s):new Je(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new k4(e,s):new M4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ma(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends AT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Sn(e,n)}matches(e){return RT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RT(t){return t.op==="and"}function CT(t){return D4(t)&&RT(t)}function D4(t){for(const e of t.filters)if(e instanceof Sn)return!1;return!0}function mm(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+pa(t.value);if(CT(t))return t.filters.map(e=>mm(e)).join(",");{const e=t.filters.map(n=>mm(n)).join(",");return`${t.op}(${e})`}}function IT(t,e){return t instanceof Je?function(s,i){return i instanceof Je&&s.op===i.op&&s.field.isEqual(i.field)&&Bn(s.value,i.value)}(t,e):t instanceof Sn?function(s,i){return i instanceof Sn&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,a,c)=>r&&IT(a,i.filters[c]),!0):!1}(t,e):void W(19439)}function jT(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${pa(n.value)}`}(t):t instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(jT).join(" ,")+"}"}(t):"Filter"}class O4 extends Je{constructor(e,n,s){super(e,n,s),this.key=$.fromName(s.referenceValue)}matches(e){const n=$.comparator(e.key,this.key);return this.matchesComparison(n)}}class k4 extends Je{constructor(e,n){super(e,"in",n),this.keys=DT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M4 extends Je{constructor(e,n){super(e,"not-in",n),this.keys=DT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>$.fromName(s.referenceValue))}class P4 extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xp(n)&&ao(n.arrayValue,this.value)}}class V4 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ao(this.value.arrayValue,n)}}class U4 extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ao(this.value.arrayValue,n)}}class L4 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ao(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n=null,s=[],i=[],r=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=a,this.endAt=c,this.Te=null}}function sx(t,e=null,n=[],s=[],i=null,r=null,a=null){return new z4(t,e,n,s,i,r,a)}function Wp(t){const e=te(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>mm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>pa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>pa(s)).join(",")),e.Te=n}return e.Te}function Jp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nx(t.startAt,e.startAt)&&nx(t.endAt,e.endAt)}function pm(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n=null,s=[],i=[],r=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=a,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function B4(t,e,n,s,i,r,a,c){return new Ma(t,e,n,s,i,r,a,c)}function Eh(t){return new Ma(t)}function ix(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F4(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function OT(t){return t.collectionGroup!==null}function Vl(t){const e=te(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new it(gt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new lo(r,s))}),n.has(gt.keyField().canonicalString())||e.Ie.push(new lo(gt.keyField(),s))}return e.Ie}function Un(t){const e=te(t);return e.Ee||(e.Ee=H4(e,Vl(t))),e.Ee}function H4(t,e){if(t.limitType==="F")return sx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new lo(i.field,r)});const n=t.endAt?new Mu(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Mu(t.startAt.position,t.startAt.inclusive):null;return sx(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function gm(t,e){const n=t.filters.concat([e]);return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function q4(t,e){const n=t.explicitOrderBy.concat([e]);return new Ma(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Pu(t,e,n){return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wh(t,e){return Jp(Un(t),Un(e))&&t.limitType===e.limitType}function kT(t){return`${Wp(Un(t))}|lt:${t.limitType}`}function wr(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>jT(i)).join(", ")}]`),bh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>pa(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>pa(i)).join(",")),`Target(${s})`}(Un(t))}; limitType=${t.limitType})`}function Th(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):$.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of Vl(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(a,c,u){const h=tx(a,c,u);return a.inclusive?h<=0:h<0}(s.startAt,Vl(s),i)||s.endAt&&!function(a,c,u){const h=tx(a,c,u);return a.inclusive?h>=0:h>0}(s.endAt,Vl(s),i))}(t,e)}function G4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MT(t){return(e,n)=>{let s=!1;for(const i of Vl(t)){const r=Q4(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function Q4(t,e,n){const s=t.field.isKeyField()?$.comparator(e.key,n.key):function(r,a,c){const u=a.data.field(r),h=c.data.field(r);return u!==null&&h!==null?ma(u,h):W(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return W(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return vT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new Ve($.comparator);function bs(){return Y4}const PT=new Ve($.comparator);function yl(...t){let e=PT;for(const n of t)e=e.insert(n.key,n);return e}function VT(t){let e=PT;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Li(){return Ul()}function UT(){return Ul()}function Ul(){return new dr(t=>t.toString(),(t,e)=>t.isEqual(e))}const K4=new Ve($.comparator),$4=new it($.comparator);function he(...t){let e=$4;for(const n of t)e=e.add(n);return e}const X4=new it(ue);function W4(){return X4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(e)?"-0":e}}function LT(t){return{integerValue:""+t}}function J4(t,e){return E4(e)?LT(e):Zp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function Z4(t,e,n){return t instanceof oo?function(i,r){const a={fields:{[_T]:{stringValue:bT},[wT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&$p(r)&&(r=_h(r)),r&&(a.fields[ET]=r),{mapValue:a}}(n,e):t instanceof co?BT(t,e):t instanceof uo?FT(t,e):function(i,r){const a=zT(i,r),c=rx(a)+rx(i.Ae);return fm(a)&&fm(i.Ae)?LT(c):Zp(i.serializer,c)}(t,e)}function eO(t,e,n){return t instanceof co?BT(t,e):t instanceof uo?FT(t,e):n}function zT(t,e){return t instanceof Vu?function(s){return fm(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class oo extends Sh{}class co extends Sh{constructor(e){super(),this.elements=e}}function BT(t,e){const n=HT(e);for(const s of t.elements)n.some(i=>Bn(i,s))||n.push(s);return{arrayValue:{values:n}}}class uo extends Sh{constructor(e){super(),this.elements=e}}function FT(t,e){let n=HT(e);for(const s of t.elements)n=n.filter(i=>!Bn(i,s));return{arrayValue:{values:n}}}class Vu extends Sh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rx(t){return Ge(t.integerValue||t.doubleValue)}function HT(t){return Xp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n){this.field=e,this.transform=n}}function nO(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof co&&i instanceof co||s instanceof uo&&i instanceof uo?fa(s.elements,i.elements,Bn):s instanceof Vu&&i instanceof Vu?Bn(s.Ae,i.Ae):s instanceof oo&&i instanceof oo}(t.transform,e.transform)}class sO{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nh{}function qT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QT(t.key,_n.none()):new Oo(t.key,t.data,_n.none());{const n=t.data,s=Mt.empty();let i=new it(gt.comparator);for(let r of e.fields)if(!i.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?s.delete(r):s.set(r,a),i=i.add(r)}return new Ni(t.key,s,new Gt(i.toArray()),_n.none())}}function iO(t,e,n){t instanceof Oo?function(i,r,a){const c=i.value.clone(),u=lx(i.fieldTransforms,r,a.transformResults);c.setAll(u),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ni?function(i,r,a){if(!qc(i.precondition,r))return void r.convertToUnknownDocument(a.version);const c=lx(i.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(GT(i)),u.setAll(c),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ll(t,e,n,s){return t instanceof Oo?function(r,a,c,u){if(!qc(r.precondition,a))return c;const h=r.value.clone(),f=ox(r.fieldTransforms,u,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,s):t instanceof Ni?function(r,a,c,u){if(!qc(r.precondition,a))return c;const h=ox(r.fieldTransforms,u,a),f=a.data;return f.setAll(GT(r)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(m=>m.field))}(t,e,n,s):function(r,a,c){return qc(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function rO(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=zT(s.transform,i||null);r!=null&&(n===null&&(n=Mt.empty()),n.set(s.field,r))}return n||null}function ax(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&fa(s,i,(r,a)=>nO(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oo extends Nh{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ni extends Nh{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function GT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function lx(t,e,n){const s=new Map;ve(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const r=t[i],a=r.transform,c=e.data.field(r.field);s.set(r.field,eO(a,c,n[i]))}return s}function ox(t,e,n){const s=new Map;for(const i of t){const r=i.transform,a=n.data.field(i.field);s.set(i.field,Z4(r,a,e))}return s}class QT extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aO extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&iO(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ll(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ll(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=UT();return this.mutations.forEach(i=>{const r=e.get(i.key),a=r.overlayedDocument;let c=this.applyToLocalView(a,r.mutatedFields);c=n.has(i.key)?null:c;const u=qT(a,c);u!==null&&s.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(ee.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&fa(this.mutations,e.mutations,(n,s)=>ax(n,s))&&fa(this.baseMutations,e.baseMutations,(n,s)=>ax(n,s))}}class eg{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){ve(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=function(){return K4}();const r=e.mutations;for(let a=0;a<r.length;a++)i=i.insert(r[a].key,s[a].version);return new eg(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,me;function uO(t){switch(t){case V.OK:return W(64938);case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return W(15467,{code:t})}}function YT(t){if(t===void 0)return xs("GRPC error has no .code"),V.UNKNOWN;switch(t){case Ke.OK:return V.OK;case Ke.CANCELLED:return V.CANCELLED;case Ke.UNKNOWN:return V.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return V.INTERNAL;case Ke.UNAVAILABLE:return V.UNAVAILABLE;case Ke.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Ke.NOT_FOUND:return V.NOT_FOUND;case Ke.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Ke.ABORTED:return V.ABORTED;case Ke.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Ke.DATA_LOSS:return V.DATA_LOSS;default:return W(39323,{code:t})}}(me=Ke||(Ke={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new oi([4294967295,4294967295],0);function cx(t){const e=hO().encode(t),n=new lT;return n.update(e),new Uint8Array(n.digest())}function ux(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new oi([n,s],0),new oi([i,r],0)]}class tg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(s<0)throw new vl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=oi.fromNumber(this.ge)}ye(e,n,s){let i=e.add(n.multiply(oi.fromNumber(s)));return i.compare(dO)===1&&(i=new oi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=cx(e),[s,i]=ux(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(s,i,r);if(!this.we(a))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new tg(r,i,n);return s.forEach(c=>a.insert(c)),a}insert(e){if(this.ge===0)return;const n=cx(e),[s,i]=ux(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(s,i,r);this.be(a)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,ko.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ah(ee.min(),i,new Ve(ue),bs(),he())}}class ko{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ko(s,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,s,i){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=i}}class KT{constructor(e,n){this.targetId=e,this.Ce=n}}class $T{constructor(e,n,s=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class hx{constructor(){this.ve=0,this.Fe=dx(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=he(),n=he(),s=he();return this.Fe.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:W(38017,{changeType:r})}}),new ko(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=dx()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class fO{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.He=yc(),this.Je=yc(),this.Ze=new Ve(ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:W(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,s=e.Ce.count,i=this.ot(n);if(i){const r=i.target;if(pm(r))if(s===0){const a=new $(r.path);this.et(n,a,wt.newNoDocument(a,ee.min()))}else ve(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const c=this.ut(e),u=c?this.ct(c,e,a):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let a,c;try{a=yi(s).toUint8Array()}catch(u){if(u instanceof xT)return da("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new tg(a,i,r)}catch(u){return da(u instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const a=this.Ge.ht(),c=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(c)||(this.et(n,r,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((r,a)=>{const c=this.ot(a);if(c){if(r.current&&pm(c.target)){const u=new $(c.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,wt.newNoDocument(u,e))}r.Be&&(n.set(a,r.ke()),r.Ke())}});let s=he();this.Je.forEach((r,a)=>{let c=!0;a.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(s=s.add(r))}),this.je.forEach((r,a)=>a.setReadTime(e));const i=new Ah(e,n,this.Ze,this.je,s);return this.je=bs(),this.He=yc(),this.Je=yc(),this.Ze=new Ve(ue),i}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new hx,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new it(ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new it(ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hx),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yc(){return new Ve($.comparator)}function dx(){return new Ve($.comparator)}const mO={asc:"ASCENDING",desc:"DESCENDING"},pO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gO={and:"AND",or:"OR"};class yO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ym(t,e){return t.useProto3Json||bh(e)?e:{value:e}}function Uu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vO(t,e){return Uu(t,e.toTimestamp())}function Ln(t){return ve(!!t,49232),ee.fromTimestamp(function(n){const s=gi(n);return new De(s.seconds,s.nanos)}(t))}function ng(t,e){return vm(t,e).canonicalString()}function vm(t,e){const n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WT(t){const e=Ne.fromString(t);return ve(nS(e),10190,{key:e.toString()}),e}function xm(t,e){return ng(t.databaseId,e.path)}function Jd(t,e){const n=WT(e);if(n.get(1)!==t.databaseId.projectId)throw new G(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(ZT(n))}function JT(t,e){return ng(t.databaseId,e)}function xO(t){const e=WT(t);return e.length===4?Ne.emptyPath():ZT(e)}function bm(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZT(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fx(t,e,n){return{name:xm(t,e),fields:n.value.mapValue.fields}}function bO(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:W(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(h,f){return h.useProto3Json?(ve(f===void 0||typeof f=="string",58123),xt.fromBase64String(f||"")):(ve(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),xt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(h){const f=h.code===void 0?V.UNKNOWN:YT(h.code);return new G(f,h.message||"")}(a);n=new $T(s,i,r,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Jd(t,s.document.name),r=Ln(s.document.updateTime),a=s.document.createTime?Ln(s.document.createTime):ee.min(),c=new Mt({mapValue:{fields:s.document.fields}}),u=wt.newFoundDocument(i,r,a,c),h=s.targetIds||[],f=s.removedTargetIds||[];n=new Gc(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Jd(t,s.document),r=s.readTime?Ln(s.readTime):ee.min(),a=wt.newNoDocument(i,r),c=s.removedTargetIds||[];n=new Gc([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Jd(t,s.document),r=s.removedTargetIds||[];n=new Gc([],r,i,null)}else{if(!("filter"in e))return W(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,a=new cO(i,r),c=s.targetId;n=new KT(c,a)}}return n}function _O(t,e){let n;if(e instanceof Oo)n={update:fx(t,e.key,e.value)};else if(e instanceof QT)n={delete:xm(t,e.key)};else if(e instanceof Ni)n={update:fx(t,e.key,e.data),updateMask:IO(e.fieldMask)};else{if(!(e instanceof aO))return W(16599,{dt:e.type});n={verify:xm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,a){const c=a.transform;if(c instanceof oo)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof co)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof uo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Vu)return{fieldPath:a.field.canonicalString(),increment:c.Ae};throw W(20930,{transform:a.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:vO(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:W(27497)}(t,e.precondition)),n}function EO(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>function(i,r){let a=i.updateTime?Ln(i.updateTime):Ln(r);return a.isEqual(ee.min())&&(a=Ln(r)),new sO(a,i.transformResults||[])}(n,e))):[]}function wO(t,e){return{documents:[JT(t,e.path)]}}function TO(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=JT(t,i);const r=function(h){if(h.length!==0)return tS(Sn.create(h,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(f=>function(p){return{field:Tr(p.field),direction:AO(p.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=ym(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:i}}function SO(t){let e=xO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){ve(s===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let r=[];n.where&&(r=function(m){const p=eS(m);return p instanceof Sn&&CT(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(p=>function(R){return new lo(Sr(R.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(p))}(n.orderBy));let c=null;n.limit&&(c=function(m){let p;return p=typeof m=="object"?m.value:m,bh(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,y=m.values||[];return new Mu(y,p)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const p=!m.before,y=m.values||[];return new Mu(y,p)}(n.endAt)),B4(e,i,a,r,c,"F",u,h)}function NO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Sr(n.unaryFilter.field);return Je.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Sr(n.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Sr(n.unaryFilter.field);return Je.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Sr(n.unaryFilter.field);return Je.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Sr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(s=>eS(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W(1026)}}(n.compositeFilter.op))}(t):W(30097,{filter:t})}function AO(t){return mO[t]}function RO(t){return pO[t]}function CO(t){return gO[t]}function Tr(t){return{fieldPath:t.canonicalString()}}function Sr(t){return gt.fromServerFormat(t.fieldPath)}function tS(t){return t instanceof Je?function(n){if(n.op==="=="){if(ex(n.value))return{unaryFilter:{field:Tr(n.field),op:"IS_NAN"}};if(Zv(n.value))return{unaryFilter:{field:Tr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ex(n.value))return{unaryFilter:{field:Tr(n.field),op:"IS_NOT_NAN"}};if(Zv(n.value))return{unaryFilter:{field:Tr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tr(n.field),op:RO(n.op),value:n.value}}}(t):t instanceof Sn?function(n){const s=n.getFilters().map(i=>tS(i));return s.length===1?s[0]:{compositeFilter:{op:CO(n.op),filters:s}}}(t):W(54877,{filter:t})}function IO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function sS(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,s,i,r=ee.min(),a=ee.min(),c=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.yt=e}}function DO(t){const e=SO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.Sn=new kO}addToCollectionParentIndex(e,n){return this.Sn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(pi.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(pi.min())}updateCollectionGroup(e,n,s){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class kO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new it(Ne.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new it(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iS=41943040;class kt{static withCacheSize(e){return new kt(e,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kt.DEFAULT_COLLECTION_PERCENTILE=10,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kt.DEFAULT=new kt(iS,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kt.DISABLED=new kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ga(0)}static ar(){return new ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="LruGarbageCollector",MO=1048576;function gx([t,e],[n,s]){const i=ue(t,n);return i===0?ue(e,s):i}class PO{constructor(e){this.Pr=e,this.buffer=new it(gx),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gx(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Y(px,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ka(n)?Y(px,"Ignoring IndexedDB error during garbage collection: ",n):await Oa(n)}await this.Ar(3e5)})}}class UO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return L.resolve(xh.ce);const s=new PO(n);return this.Vr.forEachTarget(e,i=>s.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>s.Er(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(mx)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mx):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,i,r,a,c,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(s=m,c=Date.now(),this.removeTargets(e,s,n))).next(m=>(r=m,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(m=>(h=Date.now(),Er()<=ce.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(c-a)+`ms
	Removed ${r} targets in `+(u-c)+`ms
	Removed ${m} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:m})))}}function LO(t,e){return new UO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.changes=new dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?L.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&Ll(s.mutation,i,Gt.empty(),De.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,he()).next(()=>s))}getLocalViewOfDocuments(e,n,s=he()){const i=Li();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let a=yl();return r.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const s=Li();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,he()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,s,i){let r=bs();const a=Ul(),c=function(){return Ul()}();return n.forEach((u,h)=>{const f=s.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof Ni)?r=r.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Ll(f.mutation,h,f.mutation.getFieldMask(),De.now())):a.set(h.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((h,f)=>a.set(h,f)),n.forEach((h,f)=>c.set(h,new BO(f,a.get(h)??null))),c))}recalculateAndSaveOverlays(e,n){const s=Ul();let i=new Ve((a,c)=>a-c),r=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=s.get(u)||Gt.empty();f=c.applyToLocalView(h,f),s.set(u,f);const m=(i.get(c.batchId)||he()).add(u);i=i.insert(c.batchId,m)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,f=u.value,m=UT();f.forEach(p=>{if(!r.has(p)){const y=qT(n.get(p),s.get(p));y!==null&&m.set(p,y),r=r.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,m))}return L.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return F4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const a=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):L.resolve(Li());let c=so,u=r;return a.next(h=>L.forEach(h,(f,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),r.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,u,h,he())).next(f=>({batchId:c,changes:VT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(s=>{let i=yl();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let a=yl();return this.indexManager.getCollectionParents(e,r).next(c=>L.forEach(c,u=>{const h=function(m,p){return new Ma(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,s,i).next(f=>{f.forEach((m,p)=>{a=a.insert(m,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(a=>{r.forEach((u,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,wt.newInvalidDocument(f)))});let c=yl();return a.forEach((u,h)=>{const f=r.get(u);f!==void 0&&Ll(f.mutation,h,Gt.empty(),De.now()),Th(n,h)&&(c=c.insert(u,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return L.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ln(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:DO(i.bundledQuery),readTime:Ln(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.overlays=new Ve($.comparator),this.Lr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Li();return L.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.bt(e,n,r)}),L.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.Lr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.Lr.delete(s)),L.resolve()}getOverlaysForCollection(e,n,s){const i=Li(),r=n.length+1,a=new $(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>s&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new Ve((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let f=r.get(h.largestBatchId);f===null&&(f=Li(),r=r.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const c=Li(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>c.set(h,f)),!(c.size()>=i)););return L.resolve(c)}bt(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(s.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new oO(n,s));let r=this.Lr.get(n);r===void 0&&(r=he(),this.Lr.set(n,r)),this.Lr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.kr=new it(lt.Kr),this.qr=new it(lt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new lt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new lt(e,n))}Qr(e,n){e.forEach(s=>this.removeReference(s,n))}Gr(e){const n=new $(new Ne([])),s=new lt(n,e),i=new lt(n,e+1),r=[];return this.qr.forEachInRange([s,i],a=>{this.Wr(a),r.push(a.key)}),r}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new $(new Ne([])),s=new lt(n,e),i=new lt(n,e+1);let r=he();return this.qr.forEachInRange([s,i],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new lt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class lt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return $.comparator(e.key,n.key)||ue(e.Hr,n.Hr)}static Ur(e,n){return ue(e.Hr,n.Hr)||$.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new it(lt.Kr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new lO(r,n,s,i);this.mutationQueue.push(a);for(const c of i)this.Jr=this.Jr.add(new lt(c.key,r)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.Xr(s),r=i<0?0:i;return L.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Kp:this.Yn-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([s,i],a=>{const c=this.Zr(a.Hr);r.push(c)}),L.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new it(ue);return n.forEach(i=>{const r=new lt(i,0),a=new lt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([r,a],c=>{s=s.add(c.Hr)})}),L.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;$.isDocumentKey(r)||(r=r.child(""));const a=new lt(new $(r),0);let c=new it(ue);return this.Jr.forEachWhile(u=>{const h=u.key.path;return!!s.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.Hr)),!0)},a),L.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach(s=>{const i=this.Zr(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return L.forEach(n.mutations,i=>{const r=new lt(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=s})}nr(e){}containsKey(e,n){const s=new lt(n,0),i=this.Jr.firstAfterOrEqual(s);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.ti=e,this.docs=function(){return new Ve($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return L.resolve(s?s.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let s=bs();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():wt.newInvalidDocument(i))}),L.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=bs();const a=n.path,c=new $(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||v4(y4(f),s)<=0||(i.has(f.key)||Th(n,f))&&(r=r.insert(f.key,f.mutableCopy()))}return L.resolve(r)}getAllFromCollectionGroup(e,n,s,i){W(9500)}ni(e,n){return L.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new KO(this)}getSize(e){return L.resolve(this.size)}}class KO extends zO{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(s)}),L.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.persistence=e,this.ri=new dr(n=>Wp(n),Jp),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.ii=0,this.si=new sg,this.targetCount=0,this.oi=ga._r()}forEachTarget(e,n){return this.ri.forEach((s,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),L.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ga(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.lr(n),L.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.ri.forEach((a,c)=>{c.sequenceNumber<=n&&s.get(c.targetId)===null&&(this.ri.delete(a),r.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),L.waitFor(r).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return L.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),L.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(a=>{r.push(i.markPotentiallyOrphaned(e,a))}),L.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return L.resolve(s)}containsKey(e,n){return L.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this._i={},this.overlays={},this.ai=new xh(0),this.ui=!1,this.ui=!0,this.ci=new GO,this.referenceDelegate=e(this),this.li=new $O(this),this.indexManager=new OO,this.remoteDocumentCache=function(i){return new YO(i)}(s=>this.referenceDelegate.hi(s)),this.serializer=new jO(n),this.Pi=new HO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new QO(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){Y("MemoryPersistence","Starting transaction:",e);const i=new XO(this.ai.next());return this.referenceDelegate.Ti(),s(i).next(r=>this.referenceDelegate.Ii(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ei(e,n){return L.or(Object.values(this._i).map(s=>()=>s.containsKey(e,n)))}}class XO extends b4{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ri=new sg,this.Ai=null}static Vi(e){return new ig(e)}get di(){if(this.Ai)return this.Ai;throw W(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),L.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.di.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,s=>{const i=$.fromPath(s);return this.mi(e,i).next(r=>{r||n.removeEntry(i,ee.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Lu{constructor(e,n){this.persistence=e,this.fi=new dr(s=>w4(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=LO(this,n)}static Vi(e,n){return new Lu(e,n)}Ti(){}Ii(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}pr(e){let n=0;return this.mr(e,s=>{n++}).next(()=>n)}mr(e,n){return L.forEach(this.fi,(s,i)=>this.wr(e,s,i).next(r=>r?L.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ni(e,a=>this.wr(e,a,n).next(c=>{c||(s++,r.removeEntry(a,ee.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),L.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),L.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fc(e.data.value)),n}wr(e,n,s){return L.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return L.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=i}static Es(e,n){let s=he(),i=he();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new rg(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return yI()?8:_4(Tt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.gs(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ps(e,n,i,s).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new WO;return this.ys(e,n,a).next(c=>{if(r.result=c,this.As)return this.ws(e,n,a,c.size)})}).next(()=>r.result)}ws(e,n,s,i){return s.documentReadCount<this.Vs?(Er()<=ce.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",wr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Er()<=ce.DEBUG&&Y("QueryEngine","Query:",wr(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ds*i?(Er()<=ce.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",wr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(n))):L.resolve())}gs(e,n){if(ix(n))return L.resolve(null);let s=Un(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Pu(n,null,"F"),s=Un(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const a=he(...r);return this.fs.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,s).next(u=>{const h=this.bs(n,c);return this.Ss(n,h,a,u.readTime)?this.gs(e,Pu(n,null,"F")):this.Ds(e,h,n,u)}))})))}ps(e,n,s,i){return ix(n)||i.isEqual(ee.min())?L.resolve(null):this.fs.getDocuments(e,s).next(r=>{const a=this.bs(n,r);return this.Ss(n,a,s,i)?L.resolve(null):(Er()<=ce.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wr(n)),this.Ds(e,a,n,g4(i,so)).next(c=>c))})}bs(e,n){let s=new it(MT(e));return n.forEach((i,r)=>{Th(e,r)&&(s=s.add(r))}),s}Ss(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}ys(e,n,s){return Er()<=ce.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",wr(n)),this.fs.getDocumentsMatchingQuery(e,n,pi.min(),s)}Ds(e,n,s,i){return this.fs.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",ZO=3e8;class e6{constructor(e,n,s,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Ve(ue),this.Fs=new dr(r=>Wp(r),Jp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function t6(t,e,n,s){return new e6(t,e,n,s)}async function aS(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Os(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const a=[],c=[];let u=he();for(const h of i){a.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of r){c.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(s,u).next(h=>({Ns:h,removedBatchIds:a,addedBatchIds:c}))})})}function n6(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.xs.newChangeBuffer({trackRemovals:!0});return function(c,u,h,f){const m=h.batch,p=m.keys();let y=L.resolve();return p.forEach(R=>{y=y.next(()=>f.getEntry(u,R)).next(j=>{const O=h.docVersions.get(R);ve(O!==null,48541),j.version.compareTo(O)<0&&(m.applyToRemoteDocument(j,h),j.isValidDocument()&&(j.setReadTime(h.commitVersion),f.addEntry(j)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let u=he();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function lS(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function s6(t,e){const n=te(t),s=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const c=[];e.targetChanges.forEach((f,m)=>{const p=i.get(m);if(!p)return;c.push(n.li.removeMatchingKeys(r,f.removedDocuments,m).next(()=>n.li.addMatchingKeys(r,f.addedDocuments,m)));let y=p.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(xt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,s)),i=i.insert(m,y),function(j,O,b){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=ZO?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,y,f)&&c.push(n.li.updateTargetData(r,y))});let u=bs(),h=he();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(r,f))}),c.push(i6(r,a,e.documentUpdates).next(f=>{u=f.Bs,h=f.Ls})),!s.isEqual(ee.min())){const f=n.li.getLastRemoteSnapshotVersion(r).next(m=>n.li.setTargetsMetadata(r,r.currentSequenceNumber,s));c.push(f)}return L.waitFor(c).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.vs=i,r))}function i6(t,e,n){let s=he(),i=he();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let a=bs();return n.forEach((c,u)=>{const h=r.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):Y(ag,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)}),{Bs:a,Ls:i}})}function r6(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Kp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function a6(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.li.getTargetData(s,e).next(r=>r?(i=r,L.resolve(i)):n.li.allocateTargetId(s).next(a=>(i=new $s(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.vs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s})}async function _m(t,e,n){const s=te(t),i=s.vs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,a=>s.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!ka(a))throw a;Y(ag,`Failed to update sequence numbers for target ${e}: ${a}`)}s.vs=s.vs.remove(e),s.Fs.delete(i.target)}function yx(t,e,n){const s=te(t);let i=ee.min(),r=he();return s.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,f){const m=te(u),p=m.Fs.get(f);return p!==void 0?L.resolve(m.vs.get(p)):m.li.getTargetData(h,f)}(s,a,Un(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(a,c.targetId).next(u=>{r=u})}).next(()=>s.Cs.getDocumentsMatchingQuery(a,e,n?i:ee.min(),n?r:he())).next(c=>(l6(s,G4(e),c),{documents:c,ks:r})))}function l6(t,e,n){let s=t.Ms.get(e)||ee.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Ms.set(e,s)}class vx{constructor(){this.activeTargetIds=W4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o6{constructor(){this.vo=new vx,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new vx,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="ConnectivityMonitor";class bx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Y(xx,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Y(xx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function Em(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="RestConnection",u6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class h6{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${i}`,this.$o=this.databaseId.database===Ou?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Wo(e,n,s,i,r){const a=Em(),c=this.Qo(e,n.toUriEncodedString());Y(Zd,`Sending RPC '${e}' ${a}:`,c,s);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,r);const{host:h}=new URL(c),f=Ca(h);return this.zo(e,c,u,s,f).then(m=>(Y(Zd,`Received RPC '${e}' ${a}: `,m),m),m=>{throw da(Zd,`RPC '${e}' ${a} failed with error: `,m,"url: ",c,"request:",s),m})}jo(e,n,s,i,r,a){return this.Wo(e,n,s,i,r)}Go(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Da}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}Qo(e,n){const s=u6[e];let i=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection",ll=(t,e,n)=>{t.listen(e,s=>{try{n(s)}catch(i){setTimeout(()=>{throw i},0)}})};class $r extends h6{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$r.c_){const e=hT();ll(e,uT.STAT_EVENT,n=>{n.stat===um.PROXY?Y(_t,"STAT_EVENT: detected buffering proxy"):n.stat===um.NOPROXY&&Y(_t,"STAT_EVENT: detected no buffering proxy")}),$r.c_=!0}}zo(e,n,s,i,r){const a=Em();return new Promise((c,u)=>{const h=new oT;h.setWithCredentials(!0),h.listenOnce(cT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Bc.NO_ERROR:const m=h.getResponseJson();Y(_t,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),c(m);break;case Bc.TIMEOUT:Y(_t,`RPC '${e}' ${a} timed out`),u(new G(V.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const p=h.getStatus();if(Y(_t,`RPC '${e}' ${a} failed with status:`,p,"response text:",h.getResponseText()),p>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const R=y==null?void 0:y.error;if(R&&R.status&&R.message){const j=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(_)>=0?_:V.UNKNOWN}(R.status);u(new G(j,R.message))}else u(new G(V.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new G(V.UNAVAILABLE,"Connection failed."));break;default:W(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Y(_t,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Y(_t,`RPC '${e}' ${a} sending request:`,i),h.send(n,"POST",f,s,15)})}T_(e,n,s){const i=Em(),r=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=r.join("");Y(_t,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=a.createWebChannel(h,c);this.I_(f);let m=!1,p=!1;const y=new d6({Ho:R=>{p?Y(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(Y(_t,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),Y(_t,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},Jo:()=>f.close()});return ll(f,gl.EventType.OPEN,()=>{p||(Y(_t,`RPC '${e}' stream ${i} transport opened.`),y.i_())}),ll(f,gl.EventType.CLOSE,()=>{p||(p=!0,Y(_t,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(f))}),ll(f,gl.EventType.ERROR,R=>{p||(p=!0,da(_t,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),y.o_(new G(V.UNAVAILABLE,"The operation could not be completed")))}),ll(f,gl.EventType.MESSAGE,R=>{var j;if(!p){const O=R.data[0];ve(!!O,16349);const b=O,_=(b==null?void 0:b.error)||((j=b[0])==null?void 0:j.error);if(_){Y(_t,`RPC '${e}' stream ${i} received error:`,_);const T=_.status;let I=function(w){const v=Ke[w];if(v!==void 0)return YT(v)}(T),z=_.message;I===void 0&&(I=V.INTERNAL,z="Unknown error status: "+T+" with message "+_.message),p=!0,y.o_(new G(I,z)),f.close()}else Y(_t,`RPC '${e}' stream ${i} received:`,O),y.__(O)}}),$r.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return dT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t){return new $r(t)}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){return new yO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.c_=!1;class oS{constructor(e,n,s=1e3,i=1.5,r=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=i,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="PersistentStream";class cS{constructor(e,n,s,i,r,a,c,u){this.Ci=e,this.b_=s,this.S_=i,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(xs(n.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===n&&this.G_(s,i)},s=>{e(()=>{const i=new G(V.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.Yo(()=>{s(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(_x,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Y(_x,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m6 extends cS{constructor(e,n,s,i,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,a),this.serializer=r}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bO(this.serializer,e),s=function(r){if(!("targetChange"in r))return ee.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?ee.min():a.readTime?Ln(a.readTime):ee.min()}(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=bm(this.serializer),n.addTarget=function(r,a){let c;const u=a.target;if(c=pm(u)?{documents:wO(r,u)}:{query:TO(r,u).ft},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=XT(r,a.resumeToken);const h=ym(r,a.expectedCount);h!==null&&(c.expectedCount=h)}else if(a.snapshotVersion.compareTo(ee.min())>0){c.readTime=Uu(r,a.snapshotVersion.toTimestamp());const h=ym(r,a.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const s=NO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=bm(this.serializer),n.removeTarget=e,this.K_(n)}}class p6 extends cS{constructor(e,n,s,i,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,a),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=EO(e.writeResults,e.commitTime),s=Ln(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=bm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>_O(this.serializer,s))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{}class y6 extends g6{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(V.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Wo(e,vm(n,s),i,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new G(V.UNKNOWN,r.toString())})}jo(e,n,s,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.jo(e,vm(n,s),i,a,c,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(V.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function v6(t,e,n,s){return new y6(t,e,n,s)}class x6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="RemoteStore";class b6{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo(a=>{s.enqueueAndForget(async()=>{fr(this)&&(Y(sr,"Restarting streams for network reachability change."),await async function(u){const h=te(u);h.Ea.add(4),await Mo(h),h.Va.set("Unknown"),h.Ea.delete(4),await Ch(h)}(this))})}),this.Va=new x6(s,i)}}async function Ch(t){if(fr(t))for(const e of t.Ra)await e(!0)}async function Mo(t){for(const e of t.Ra)await e(!1)}function uS(t,e){const n=te(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ug(n)?cg(n):Pa(n).O_()&&og(n,e))}function lg(t,e){const n=te(t),s=Pa(n);n.Ia.delete(e),s.O_()&&hS(n,e),n.Ia.size===0&&(s.O_()?s.L_():fr(n)&&n.Va.set("Unknown"))}function og(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pa(t).Z_(e)}function hS(t,e){t.da.$e(e),Pa(t).X_(e)}function cg(t){t.da=new fO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pa(t).start(),t.Va.ua()}function ug(t){return fr(t)&&!Pa(t).x_()&&t.Ia.size>0}function fr(t){return te(t).Ea.size===0}function dS(t){t.da=void 0}async function _6(t){t.Va.set("Online")}async function E6(t){t.Ia.forEach((e,n)=>{og(t,e)})}async function w6(t,e){dS(t),ug(t)?(t.Va.ha(e),cg(t)):t.Va.set("Unknown")}async function T6(t,e,n){if(t.Va.set("Online"),e instanceof $T&&e.state===2&&e.cause)try{await async function(i,r){const a=r.cause;for(const c of r.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.Ia.delete(c),i.da.removeTarget(c))}(t,e)}catch(s){Y(sr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zu(t,s)}else if(e instanceof Gc?t.da.Xe(e):e instanceof KT?t.da.st(e):t.da.tt(e),!n.isEqual(ee.min()))try{const s=await lS(t.localStore);n.compareTo(s)>=0&&await function(r,a){const c=r.da.Tt(a);return c.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=r.Ia.get(h);f&&r.Ia.set(h,f.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,h)=>{const f=r.Ia.get(u);if(!f)return;r.Ia.set(u,f.withResumeToken(xt.EMPTY_BYTE_STRING,f.snapshotVersion)),hS(r,u);const m=new $s(f.target,u,h,f.sequenceNumber);og(r,m)}),r.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(s){Y(sr,"Failed to raise snapshot:",s),await zu(t,s)}}async function zu(t,e,n){if(!ka(e))throw e;t.Ea.add(1),await Mo(t),t.Va.set("Offline"),n||(n=()=>lS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(sr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ch(t)})}function fS(t,e){return e().catch(n=>zu(t,n,e))}async function Ih(t){const e=te(t),n=xi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kp;for(;S6(e);)try{const i=await r6(e.localStore,s);if(i===null){e.Ta.length===0&&n.L_();break}s=i.batchId,N6(e,i)}catch(i){await zu(e,i)}mS(e)&&pS(e)}function S6(t){return fr(t)&&t.Ta.length<10}function N6(t,e){t.Ta.push(e);const n=xi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function mS(t){return fr(t)&&!xi(t).x_()&&t.Ta.length>0}function pS(t){xi(t).start()}async function A6(t){xi(t).ra()}async function R6(t){const e=xi(t);for(const n of t.Ta)e.ea(n.mutations)}async function C6(t,e,n){const s=t.Ta.shift(),i=eg.from(s,e,n);await fS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ih(t)}async function I6(t,e){e&&xi(t).Y_&&await async function(s,i){if(function(a){return uO(a)&&a!==V.ABORTED}(i.code)){const r=s.Ta.shift();xi(s).B_(),await fS(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Ih(s)}}(t,e),mS(t)&&pS(t)}async function Ex(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),Y(sr,"RemoteStore received new credentials");const s=fr(n);n.Ea.add(3),await Mo(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ch(n)}async function j6(t,e){const n=te(t);e?(n.Ea.delete(2),await Ch(n)):e||(n.Ea.add(2),await Mo(n),n.Va.set("Unknown"))}function Pa(t){return t.ma||(t.ma=function(n,s,i){const r=te(n);return r.sa(),new m6(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Zo:_6.bind(null,t),Yo:E6.bind(null,t),t_:w6.bind(null,t),J_:T6.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),ug(t)?cg(t):t.Va.set("Unknown")):(await t.ma.stop(),dS(t))})),t.ma}function xi(t){return t.fa||(t.fa=function(n,s,i){const r=te(n);return r.sa(),new p6(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:A6.bind(null,t),t_:I6.bind(null,t),ta:R6.bind(null,t),na:C6.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Ih(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(sr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const a=Date.now()+s,c=new hg(e,n,a,i,r);return c.start(s),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(t,e){if(xs("AsyncQueue",`${e}: ${t}`),ka(t))return new G(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{static emptySet(e){return new Xr(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||$.comparator(n.key,s.key):(n,s)=>$.comparator(n.key,s.key),this.keyedMap=yl(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.ga=new Ve($.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):W(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class ya{constructor(e,n,s,i,r,a,c,u,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,i,r){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new ya(e,n,Xr.emptySet(n),a,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class O6{constructor(){this.queries=Tx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=te(n),r=i.queries;i.queries=Tx(),r.forEach((a,c)=>{for(const u of c.ba)u.onError(s)})})(this,new G(V.ABORTED,"Firestore shutting down"))}}function Tx(){return new dr(t=>kT(t),wh)}async function fg(t,e){const n=te(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.Sa()&&e.Da()&&(s=2):(r=new D6,s=e.Da()?0:1);try{switch(s){case 0:r.wa=await n.onListen(i,!0);break;case 1:r.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const c=dg(a,`Initialization of query '${wr(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,r),r.ba.push(e),e.va(n.onlineState),r.wa&&e.Fa(r.wa)&&pg(n)}async function mg(t,e){const n=te(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const a=r.ba.indexOf(e);a>=0&&(r.ba.splice(a,1),r.ba.length===0?i=e.Da()?0:1:!r.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function k6(t,e){const n=te(t);let s=!1;for(const i of e){const r=i.query,a=n.queries.get(r);if(a){for(const c of a.ba)c.Fa(i)&&(s=!0);a.wa=i}}s&&pg(n)}function M6(t,e,n){const s=te(t),i=s.queries.get(e);if(i)for(const r of i.ba)r.onError(n);s.queries.delete(e)}function pg(t){t.Ca.forEach(e=>{e.next()})}var wm,Sx;(Sx=wm||(wm={})).Ma="default",Sx.Cache="cache";class gg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new ya(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.key=e}}class yS{constructor(e){this.key=e}}class P6{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=he(),this.mutatedKeys=he(),this.eu=MT(e),this.tu=new Xr(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new wx,i=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const p=i.get(f),y=Th(this.query,m)?m:null,R=!!p&&this.mutatedKeys.has(p.key),j=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let O=!1;p&&y?p.data.isEqual(y.data)?R!==j&&(s.track({type:3,doc:y}),O=!0):this.su(p,y)||(s.track({type:2,doc:y}),O=!0,(u&&this.eu(y,u)>0||h&&this.eu(y,h)<0)&&(c=!0)):!p&&y?(s.track({type:0,doc:y}),O=!0):p&&!y&&(s.track({type:1,doc:p}),O=!0,(u||h)&&(c=!0)),O&&(y?(a=a.add(y),r=j?r.add(f):r.delete(f)):(a=a.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),r=r.delete(f.key),s.track({type:1,doc:f})}return{tu:a,iu:s,Ss:c,mutatedKeys:r}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,m)=>function(y,R){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{Vt:O})}};return j(y)-j(R)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(s),i=i??!1;const c=n&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,h=u!==this.Xa;return this.Xa=u,a.length!==0||h?{snapshot:new ya(this.query,e.tu,r,a,e.mutatedKeys,u===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=he(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new yS(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new gS(s))}),n}cu(e){this.Za=e.ks,this.Ya=he();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const yg="SyncEngine";class V6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class U6{constructor(e){this.key=e,this.hu=!1}}class L6{constructor(e,n,s,i,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new dr(c=>kT(c),wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ve($.comparator),this.Au=new Map,this.Vu=new sg,this.du={},this.mu=new Map,this.fu=ga.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function z6(t,e,n=!0){const s=wS(t);let i;const r=s.Tu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.lu()):i=await vS(s,e,n,!0),i}async function B6(t,e){const n=wS(t);await vS(n,e,!0,!1)}async function vS(t,e,n,s){const i=await a6(t.localStore,Un(e)),r=i.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let c;return s&&(c=await F6(t,e,r,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&uS(t.remoteStore,i),c}async function F6(t,e,n,s,i){t.pu=(m,p,y)=>async function(j,O,b,_){let T=O.view.ru(b);T.Ss&&(T=await yx(j.localStore,O.query,!1).then(({documents:w})=>O.view.ru(w,T)));const I=_&&_.targetChanges.get(O.targetId),z=_&&_.targetMismatches.get(O.targetId)!=null,B=O.view.applyChanges(T,j.isPrimaryClient,I,z);return Ax(j,O.targetId,B.au),B.snapshot}(t,m,p,y);const r=await yx(t.localStore,e,!0),a=new P6(e,r.ks),c=a.ru(r.documents),u=ko.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),h=a.applyChanges(c,t.isPrimaryClient,u);Ax(t,n,h.au);const f=new V6(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function H6(t,e,n){const s=te(t),i=s.Tu.get(e),r=s.Iu.get(i.targetId);if(r.length>1)return s.Iu.set(i.targetId,r.filter(a=>!wh(a,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await _m(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&lg(s.remoteStore,i.targetId),Tm(s,i.targetId)}).catch(Oa)):(Tm(s,i.targetId),await _m(s.localStore,i.targetId,!0))}async function q6(t,e){const n=te(t),s=n.Tu.get(e),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),lg(n.remoteStore,s.targetId))}async function G6(t,e,n){const s=J6(t);try{const i=await function(a,c){const u=te(a),h=De.now(),f=c.reduce((y,R)=>y.add(R.key),he());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let R=bs(),j=he();return u.xs.getEntries(y,f).next(O=>{R=O,R.forEach((b,_)=>{_.isValidDocument()||(j=j.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,R)).next(O=>{m=O;const b=[];for(const _ of c){const T=rO(_,m.get(_.key).overlayedDocument);T!=null&&b.push(new Ni(_.key,T,NT(T.value.mapValue),_n.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,b,c)}).next(O=>{p=O;const b=O.applyToLocalDocumentSet(m,j);return u.documentOverlayCache.saveOverlays(y,O.batchId,b)})}).then(()=>({batchId:p.batchId,changes:VT(m)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(a,c,u){let h=a.du[a.currentUser.toKey()];h||(h=new Ve(ue)),h=h.insert(c,u),a.du[a.currentUser.toKey()]=h}(s,i.batchId,n),await Po(s,i.changes),await Ih(s.remoteStore)}catch(i){const r=dg(i,"Failed to persist write");n.reject(r)}}async function xS(t,e){const n=te(t);try{const s=await s6(n.localStore,e);e.targetChanges.forEach((i,r)=>{const a=n.Au.get(r);a&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?ve(a.hu,14607):i.removedDocuments.size>0&&(ve(a.hu,42227),a.hu=!1))}),await Po(n,s,e)}catch(s){await Oa(s)}}function Nx(t,e,n){const s=te(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach((r,a)=>{const c=a.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){const u=te(a);u.onlineState=c;let h=!1;u.queries.forEach((f,m)=>{for(const p of m.ba)p.va(c)&&(h=!0)}),h&&pg(u)}(s.eventManager,e),i.length&&s.Pu.J_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Q6(t,e,n){const s=te(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Au.get(e),r=i&&i.key;if(r){let a=new Ve($.comparator);a=a.insert(r,wt.newNoDocument(r,ee.min()));const c=he().add(r),u=new Ah(ee.min(),new Map,new Ve(ue),a,c);await xS(s,u),s.Ru=s.Ru.remove(r),s.Au.delete(e),vg(s)}else await _m(s.localStore,e,!1).then(()=>Tm(s,e,n)).catch(Oa)}async function Y6(t,e){const n=te(t),s=e.batch.batchId;try{const i=await n6(n.localStore,e);_S(n,s,null),bS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Po(n,i)}catch(i){await Oa(i)}}async function K6(t,e,n){const s=te(t);try{const i=await function(a,c){const u=te(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,c).next(m=>(ve(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(s.localStore,e);_S(s,e,n),bS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Po(s,i)}catch(i){await Oa(i)}}function bS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function _S(t,e,n){const s=te(t);let i=s.du[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.du[s.currentUser.toKey()]=i}}function Tm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(s=>{t.Vu.containsKey(s)||ES(t,s)})}function ES(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(lg(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),vg(t))}function Ax(t,e,n){for(const s of n)s instanceof gS?(t.Vu.addReference(s.key,e),$6(t,s)):s instanceof yS?(Y(yg,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||ES(t,s.key)):W(19791,{wu:s})}function $6(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(Y(yg,"New document in limbo: "+n),t.Eu.add(s),vg(t))}function vg(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new $(Ne.fromString(e)),s=t.fu.next();t.Au.set(s,new U6(n)),t.Ru=t.Ru.insert(n,s),uS(t.remoteStore,new $s(Un(Eh(n.path)),s,"TargetPurposeLimboResolution",xh.ce))}}async function Po(t,e,n){const s=te(t),i=[],r=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((c,u)=>{a.push(s.pu(u,e,n).then(h=>{var f;if((h||n)&&s.isPrimaryClient){const m=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;s.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);const m=rg.Es(u.targetId,h);r.push(m)}}))}),await Promise.all(a),s.Pu.J_(i),await async function(u,h){const f=te(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>L.forEach(h,p=>L.forEach(p.Ts,y=>f.persistence.referenceDelegate.addReference(m,p.targetId,y)).next(()=>L.forEach(p.Is,y=>f.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))}catch(m){if(!ka(m))throw m;Y(ag,"Failed to update sequence numbers: "+m)}for(const m of h){const p=m.targetId;if(!m.fromCache){const y=f.vs.get(p),R=y.snapshotVersion,j=y.withLastLimboFreeSnapshotVersion(R);f.vs=f.vs.insert(p,j)}}}(s.localStore,r))}async function X6(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){Y(yg,"User change. New user:",e.toKey());const s=await aS(n.localStore,e);n.currentUser=e,function(r,a){r.mu.forEach(c=>{c.forEach(u=>{u.reject(new G(V.CANCELLED,a))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Po(n,s.Ns)}}function W6(t,e){const n=te(t),s=n.Au.get(e);if(s&&s.hu)return he().add(s.key);{let i=he();const r=n.Iu.get(e);if(!r)return i;for(const a of r){const c=n.Tu.get(a);i=i.unionWith(c.view.nu)}return i}}function wS(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q6.bind(null,e),e.Pu.J_=k6.bind(null,e.eventManager),e.Pu.yu=M6.bind(null,e.eventManager),e}function J6(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K6.bind(null,e),e}class Bu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return t6(this.persistence,new JO,e.initialUser,this.serializer)}Cu(e){return new rS(ig.Vi,this.serializer)}Du(e){return new o6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bu.provider={build:()=>new Bu};class Z6 extends Bu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ve(this.persistence.referenceDelegate instanceof Lu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?kt.withCacheSize(this.cacheSizeBytes):kt.DEFAULT;return new rS(s=>Lu.Vi(s,n),this.serializer)}}class Sm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nx(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=X6.bind(null,this.syncEngine),await j6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new O6}()}createDatastore(e){const n=Rh(e.databaseInfo.databaseId),s=f6(e.databaseInfo);return v6(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,a,c){return new b6(s,i,r,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Nx(this.syncEngine,n,0),function(){return bx.v()?new bx:new c6}())}createSyncEngine(e,n){return function(i,r,a,c,u,h,f){const m=new L6(i,r,a,c,u,h);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const r=te(i);Y(sr,"RemoteStore shutting down."),r.Ea.add(5),await Mo(r),r.Aa.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Sm.provider={build:()=>new Sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="FirestoreClient";class e3{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=Yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async a=>{Y(bi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(Y(bi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=dg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function tf(t,e){t.asyncQueue.verifyOperationInProgress(),Y(bi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await aS(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Rx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await t3(t);Y(bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Ex(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Ex(e.remoteStore,i)),t._onlineComponents=e}async function t3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(bi,"Using user provided OfflineComponentProvider");try{await tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;da("Error using user provided cache. Falling back to memory cache: "+n),await tf(t,new Bu)}}else Y(bi,"Using default OfflineComponentProvider"),await tf(t,new Z6(void 0));return t._offlineComponents}async function TS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(bi,"Using user provided OnlineComponentProvider"),await Rx(t,t._uninitializedComponentsProvider._online)):(Y(bi,"Using default OnlineComponentProvider"),await Rx(t,new Sm))),t._onlineComponents}function n3(t){return TS(t).then(e=>e.syncEngine)}async function Fu(t){const e=await TS(t),n=e.eventManager;return n.onListen=z6.bind(null,e.syncEngine),n.onUnlisten=H6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q6.bind(null,e.syncEngine),n}function s3(t,e,n,s){const i=new xg(s),r=new gg(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>fg(await Fu(t),r)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>mg(await Fu(t),r))}}function i3(t,e,n={}){const s=new cs;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,c,u,h){const f=new xg({next:p=>{f.Nu(),a.enqueueAndForget(()=>mg(r,m));const y=p.docs.has(c);!y&&p.fromCache?h.reject(new G(V.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?h.reject(new G(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(p)},error:p=>h.reject(p)}),m=new gg(Eh(c.path),f,{includeMetadataChanges:!0,Ka:!0});return fg(r,m)}(await Fu(t),t.asyncQueue,e,n,s)),s.promise}function r3(t,e,n={}){const s=new cs;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,c,u,h){const f=new xg({next:p=>{f.Nu(),a.enqueueAndForget(()=>mg(r,m)),p.fromCache&&u.source==="server"?h.reject(new G(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(p)},error:p=>h.reject(p)}),m=new gg(c,f,{includeMetadataChanges:!0,Ka:!0});return fg(r,m)}(await Fu(t),t.asyncQueue,e,n,s)),s.promise}function a3(t,e){const n=new cs;return t.asyncQueue.enqueueAndForget(async()=>G6(await n3(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="ComponentProvider",Cx=new Map;function o3(t,e,n,s,i){return new N4(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,SS(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firestore.googleapis.com",Ix=!0;class jx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=Ix}else this.host=e.host,this.ssl=e.ssl??Ix;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MO)throw new G(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SS(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new r4;switch(s.type){case"firstParty":return new c4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new G(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Cx.get(n);s&&(Y(l3,"Removing Datastore"),Cx.delete(n),s.terminate())}(this),Promise.resolve()}}function c3(t,e,n,s={}){var h;t=Xt(t,jh);const i=Ca(e),r=t._getSettings(),a={...r,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(xw(`https://${c}`),bw("Firestore",!0)),r.host!==NS&&r.host!==c&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...r,host:c,ssl:i,emulatorOptions:s};if(!Ji(u,a)&&(t._setSettings(u),s.mockUserToken)){let f,m;if(typeof s.mockUserToken=="string")f=s.mockUserToken,m=Et.MOCK_USER;else{f=oI(s.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new G(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Et(p)}t._authCredentials=new a4(new mT(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class Fe{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fe(this.firestore,e,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Do(n,Fe._jsonSchema))return new Fe(e,s||null,new $(Ne.fromString(n.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:et("string",Fe._jsonSchemaVersion),referencePath:et("string")};class ci extends Ts{constructor(e,n,s){super(e,n,Eh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fe(this.firestore,null,new $(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function En(t,e,...n){if(t=tt(t),pT("collection","path",e),t instanceof jh){const s=Ne.fromString(e,...n);return qv(s),new ci(t,null,s)}{if(!(t instanceof Fe||t instanceof ci))throw new G(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ne.fromString(e,...n));return qv(s),new ci(t.firestore,null,s)}}function fn(t,e,...n){if(t=tt(t),arguments.length===1&&(e=Yp.newId()),pT("doc","path",e),t instanceof jh){const s=Ne.fromString(e,...n);return Hv(s),new Fe(t,null,new $(s))}{if(!(t instanceof Fe||t instanceof ci))throw new G(V.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ne.fromString(e,...n));return Hv(s),new Fe(t.firestore,t instanceof ci?t.converter:null,new $(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="AsyncQueue";class Ox{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oS(this,"async_queue_retry"),this._c=()=>{const s=ef();s&&Y(Dx,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ef();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ef();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new cs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ka(e))throw e;Y(Dx,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",kx(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=hg.createAndSchedule(this,e,n,s,r=>this.hc(r));return this.tc.push(i),i}uc(){this.nc&&W(47125,{Pc:kx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class _i extends jh{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new Ox,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ox(e),this._firestoreClient=void 0,await e}}}function u3(t,e){const n=typeof t=="object"?t:Tw(),s=typeof t=="string"?t:Ou,i=Vp(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=aI("firestore");r&&c3(i,...r)}return i}function Dh(t){if(t._terminated)throw new G(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||h3(t),t._firestoreClient}function h3(t){var s,i,r,a;const e=t._freezeSettings(),n=o3(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new e3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new un(xt.fromBase64String(e))}catch(n){throw new G(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new un(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Do(e,un._jsonSchema))return un.fromBase64String(e.bytes)}}un._jsonSchemaVersion="firestore/bytes/1.0",un._jsonSchema={type:et("string",un._jsonSchemaVersion),bytes:et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zn._jsonSchemaVersion}}static fromJSON(e){if(Do(e,zn._jsonSchema))return new zn(e.latitude,e.longitude)}}zn._jsonSchemaVersion="firestore/geoPoint/1.0",zn._jsonSchema={type:et("string",zn._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Do(e,wn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new wn(e.vectorValues);throw new G(V.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wn._jsonSchemaVersion="firestore/vectorValue/1.0",wn._jsonSchema={type:et("string",wn._jsonSchemaVersion),vectorValues:et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=/^__.*__$/;class f3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oo(e,this.data,n,this.fieldTransforms)}}class AS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W(40011,{dataSource:t})}}class _g{constructor(e,n,s,i,r,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new _g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Hu(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(RS(this.dataSource)&&d3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class m3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Rh(e)}createContext(e,n,s,i=!1){return new _g({dataSource:e,methodName:n,targetDoc:s,path:gt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kh(t){const e=t._freezeSettings(),n=Rh(t._databaseId);return new m3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CS(t,e,n,s,i,r={}){const a=t.createContext(r.merge||r.mergeFields?2:0,e,n,i);wg("Data must be an object, but it was:",a,s);const c=IS(s,a);let u,h;if(r.merge)u=new Gt(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const f=[];for(const m of r.mergeFields){const p=ir(e,m,n);if(!a.contains(p))throw new G(V.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);OS(f,p)||f.push(p)}u=new Gt(f),h=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=a.fieldTransforms;return new f3(new Mt(c),u,h)}class Mh extends Oh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}class Eg extends Oh{_toFieldTransform(e){return new tO(e.path,new oo)}isEqual(e){return e instanceof Eg}}function p3(t,e,n,s){const i=t.createContext(1,e,n);wg("Data must be an object, but it was:",i,s);const r=[],a=Mt.empty();Si(s,(u,h)=>{const f=DS(e,u,n);h=tt(h);const m=i.childContextForFieldPath(f);if(h instanceof Mh)r.push(f);else{const p=Vo(h,m);p!=null&&(r.push(f),a.set(f,p))}});const c=new Gt(r);return new AS(a,c,i.fieldTransforms)}function g3(t,e,n,s,i,r){const a=t.createContext(1,e,n),c=[ir(e,s,n)],u=[i];if(r.length%2!=0)throw new G(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<r.length;p+=2)c.push(ir(e,r[p])),u.push(r[p+1]);const h=[],f=Mt.empty();for(let p=c.length-1;p>=0;--p)if(!OS(h,c[p])){const y=c[p];let R=u[p];R=tt(R);const j=a.childContextForFieldPath(y);if(R instanceof Mh)h.push(y);else{const O=Vo(R,j);O!=null&&(h.push(y),f.set(y,O))}}const m=new Gt(h);return new AS(f,m,a.fieldTransforms)}function y3(t,e,n,s=!1){return Vo(n,t.createContext(s?4:3,e))}function Vo(t,e){if(jS(t=tt(t)))return wg("Unsupported field value:",e,t),IS(t,e);if(t instanceof Oh)return function(s,i){if(!RS(i.dataSource))throw i.createError(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(s,i){const r=[];let a=0;for(const c of s){let u=Vo(c,i.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=tt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return J4(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=De.fromDate(s);return{timestampValue:Uu(i.serializer,r)}}if(s instanceof De){const r=new De(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uu(i.serializer,r)}}if(s instanceof zn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof un)return{bytesValue:XT(i.serializer,s._byteString)};if(s instanceof Fe){const r=i.databaseId,a=s.firestore._databaseId;if(!a.isEqual(r))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ng(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof wn)return function(a,c){const u=a instanceof wn?a.toArray():a;return{mapValue:{fields:{[TT]:{stringValue:ST},[ku]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw c.createError("VectorValues must only contain numeric values.");return Zp(c.serializer,f)})}}}}}}(s,i);if(sS(s))return s._toProto(i.serializer);throw i.createError(`Unsupported field value: ${vh(s)}`)}(t,e)}function IS(t,e){const n={};return vT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(t,(s,i)=>{const r=Vo(i,e.childContextForField(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function jS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof zn||t instanceof un||t instanceof Fe||t instanceof Oh||t instanceof wn||sS(t))}function wg(t,e,n){if(!jS(n)||!gT(n)){const s=vh(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function ir(t,e,n){if((e=tt(e))instanceof bg)return e._internalPath;if(typeof e=="string")return DS(t,e);throw Hu("Field path arguments must be of type string or ",t,!1,void 0,n)}const v3=new RegExp("[~\\*/\\[\\]]");function DS(t,e,n){if(e.search(v3)>=0)throw Hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bg(...e.split("."))._internalPath}catch{throw Hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hu(t,e,n,s,i){const r=s&&!s.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${s}`),a&&(u+=` in document ${i}`),u+=")"),new G(V.INVALID_ARGUMENT,c+t+u)}function OS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw W(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Si(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(e){var s,i,r;const n=(r=(i=(s=e.fields)==null?void 0:s[ku].arrayValue)==null?void 0:i.values)==null?void 0:r.map(a=>Ge(a.doubleValue));return new wn(n)}convertGeoPoint(e){return new zn(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_h(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const n=gi(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ne.fromString(e);ve(nS(s),9688,{name:e});const i=new ro(s.get(1),s.get(3)),r=new $(s.popFirst(5));return i.isEqual(n)||xs(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends x3{constructor(e){super(),this.firestore=e}convertBytes(e){return new un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fe(this.firestore,null,n)}}function Sg(){return new Eg("serverTimestamp")}const Mx="@firebase/firestore",Px="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const r of s)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ir("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b3 extends kS{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class Ag extends Ng{}function ui(t,e,...n){let s=[];e instanceof Ng&&s.push(e),s=s.concat(n),function(r){const a=r.filter(u=>u instanceof Rg).length,c=r.filter(u=>u instanceof Ph).length;if(a>1||a>0&&c>0)throw new G(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class Ph extends Ag{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ph(e,n,s)}_apply(e){const n=this._parse(e);return VS(e._query,n),new Ts(e.firestore,e.converter,gm(e._query,n))}_parse(e){const n=kh(e.firestore);return function(r,a,c,u,h,f,m){let p;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new G(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Lx(m,f);const R=[];for(const j of m)R.push(Ux(u,r,j));p={arrayValue:{values:R}}}else p=Ux(u,r,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Lx(m,f),p=y3(c,a,m,f==="in"||f==="not-in");return Je.create(h,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wr(t,e,n){const s=e,i=ir("where",t);return Ph._create(i,s,n)}class Rg extends Ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Sn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let a=i;const c=r.getFlattenedFilters();for(const u of c)VS(a,u),a=gm(a,u)}(e._query,n),new Ts(e.firestore,e.converter,gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cg extends Ag{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Cg(e,n)}_apply(e){const n=function(i,r,a){if(i.startAt!==null)throw new G(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lo(r,a)}(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,q4(e._query,n))}}function PS(t,e="asc"){const n=e,s=ir("orderBy",t);return Cg._create(s,n)}class Ig extends Ag{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Ig(e,n,s)}_apply(e){return new Ts(e.firestore,e.converter,Pu(e._query,this._limit,this._limitType))}}function _3(t){return Ig._create("limit",t,"F")}function Ux(t,e,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new G(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OT(e)&&n.indexOf("/")!==-1)throw new G(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ne.fromString(n));if(!$.isDocumentKey(s))throw new G(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Jv(t,new $(s))}if(n instanceof Fe)return Jv(t,n._key);throw new G(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function Lx(t,e){if(!Array.isArray(t)||t.length===0)throw new G(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VS(t,e){const n=function(i,r){for(const a of i)for(const c of a.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function US(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gi extends kS{constructor(e,n,s,i,r,a){super(e,n,s,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ir("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(V.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gi._jsonSchema={type:et("string",Gi._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};class Qc extends Gi{data(e={}){return super.data(e)}}class Qi{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xl(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Qc(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{const u=new Qc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{const u=new Qc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),f=a.indexOf(c.doc.key)),{type:E3(c.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(V.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),s.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function E3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi._jsonSchemaVersion="firestore/querySnapshot/1.0",Qi._jsonSchema={type:et("string",Qi._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){t=Xt(t,Fe);const e=Xt(t.firestore,_i),n=Dh(e);return i3(n,t._key).then(s=>BS(e,t,s))}function us(t){t=Xt(t,Ts);const e=Xt(t.firestore,_i),n=Dh(e),s=new Tg(e);return MS(t._query),r3(n,t._query).then(i=>new Qi(e,s,t,i))}function jg(t,e,n){t=Xt(t,Fe);const s=Xt(t.firestore,_i),i=US(t.converter,e,n),r=kh(s);return Dg(s,[CS(r,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_n.none())])}function Jr(t,e,n,...s){t=Xt(t,Fe);const i=Xt(t.firestore,_i),r=kh(i);let a;return a=typeof(e=tt(e))=="string"||e instanceof bg?g3(r,"updateDoc",t._key,e,n,s):p3(r,"updateDoc",t._key,e),Dg(i,[a.toMutation(t._key,_n.exists(!0))])}function LS(t,e){const n=Xt(t.firestore,_i),s=fn(t),i=US(t.converter,e),r=kh(t.firestore);return Dg(n,[CS(r,"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,_n.exists(!1))]).then(()=>s)}function zS(t,...e){var h,f,m;t=tt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Vx(e[s])||(n=e[s++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Vx(e[s])){const p=e[s];e[s]=(h=p.next)==null?void 0:h.bind(p),e[s+1]=(f=p.error)==null?void 0:f.bind(p),e[s+2]=(m=p.complete)==null?void 0:m.bind(p)}let r,a,c;if(t instanceof Fe)a=Xt(t.firestore,_i),c=Eh(t._key.path),r={next:p=>{e[s]&&e[s](BS(a,t,p))},error:e[s+1],complete:e[s+2]};else{const p=Xt(t,Ts);a=Xt(p.firestore,_i),c=p._query;const y=new Tg(a);r={next:R=>{e[s]&&e[s](new Qi(a,y,p,R))},error:e[s+1],complete:e[s+2]},MS(t._query)}const u=Dh(a);return s3(u,c,i,r)}function Dg(t,e){const n=Dh(t);return a3(n,e)}function BS(t,e,n){const s=n.docs.get(e._key),i=new Tg(t);return new Gi(t,i,e._key,s,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){i4(Ia),ua(new Zi("firestore",(s,{instanceIdentifier:i,options:r})=>{const a=s.getProvider("app").getImmediate(),c=new _i(new l4(s.getProvider("auth-internal")),new u4(a,s.getProvider("app-check-internal")),A4(a,i),a);return r={useFetchStreams:n,...r},c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),li(Mx,Px,e),li(Mx,Px,"esm2020")})();const w3={apiKey:"AIzaSyC2IVDjPjzOhoaW9kSw1INRqILNQaXrH2c",authDomain:"umoney-13244.firebaseapp.com",projectId:"umoney-13244",storageBucket:"umoney-13244.appspot.com",messagingSenderId:"205296125909",appId:"1:205296125909:web:331b96d7a5191e9ed0df5c"},FS=ww(w3),rr=n4(FS),He=u3(FS),HS={usdtRate:102,maintenanceMode:!1,adminUpi:"pay.umoney@upi",adminQrCode:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?pa=pay.umoney@upi",usdtTrc20Address:"TVjsyZ7sWvJgM8p4G8MockTRC20Address7788",usdtQrCode:"",inrPaymentEnabled:!0,usdtPaymentEnabled:!0,adminEmail:"admin@gmail.com",adminPassword:"admin",inrQuotas:[{id:"q1",amount:100,percent:3,activity:6},{id:"q2",amount:300,percent:3,activity:6},{id:"q3",amount:310,percent:3,activity:6},{id:"q4",amount:400,percent:3,activity:6},{id:"q5",amount:900,percent:3,activity:6},{id:"q6",amount:1300,percent:3,activity:6}],dailyRechargeBonuses:[{threshold:1e4,bonus:100},{threshold:2e4,bonus:200},{threshold:3e4,bonus:300},{threshold:4e4,bonus:400},{threshold:5e4,bonus:500},{threshold:6e4,bonus:600},{threshold:7e4,bonus:700}],telegramSupportLink:"https://t.me/umoney_support"},qS=async()=>{const t=await qu(fn(He,"system","settings"));return t.exists()?t.data():HS},T3=t=>zS(fn(He,"system","settings"),e=>{t(e.exists()?e.data():HS)}),xc=async t=>jg(fn(He,"system","settings"),t,{merge:!0}),S3=async(t,e)=>{const n=await qS(),s=n.adminEmail||"admin@gmail.com",i=n.adminPassword||"admin";return t===s&&e===i?{user:{uid:"ADMIN_USER",email:s}}:Lj(rr,t,e)},N3=async(t,e,n)=>{const s=await Uj(rr,t,e),i=s.user.uid;let r;if(n)try{const c=ui(En(He,"users"),Wr("referralCode","==",n)),u=await us(c);u.empty||(r=u.docs[0].id)}catch(c){console.error(c)}const a={uid:i,email:t,inrBalance:0,usdtBalance:0,referralCode:Math.random().toString(36).substring(7).toUpperCase(),referrerId:r,createdAt:new Date().toISOString()};return await jg(fn(He,"users",i),a),s},Gu=async()=>Gj(rr),A3=t=>qj(rr,t),R3=async t=>{if(rr.currentUser)return zj(rr.currentUser,t);throw new Error("No authenticated user found")},C3=async t=>Vj(rr,t),I3=(t,e)=>zS(fn(He,"users",t),n=>{n.exists()?e(n.data()):e(null)}),Qu=async(t,e)=>Jr(fn(He,"users",t),e),Og=async(t,e)=>{if(t==="ADMIN_USER")return;let n={ip:"192.168.1.1",city:"Unknown",region:"",country:"India"};try{const a=await(await fetch("https://ipapi.co/json/")).json();a&&!a.error&&(n={ip:a.ip,city:a.city,region:a.region,country:a.country_name})}catch{}const s=fn(He,"users",t);if((await qu(s)).exists())await Jr(s,{lastLocation:n});else{const r={uid:t,email:e,inrBalance:0,usdtBalance:0,referralCode:Math.random().toString(36).substring(7).toUpperCase(),createdAt:new Date().toISOString(),lastLocation:n};await jg(s,r)}},Nm=async t=>LS(En(He,"transactions"),{...t,date:Sg()}),j3=async(t,e)=>{try{let n=ui(En(He,"transactions"),Wr("userId","==",t),PS("date","desc")),i=(await us(n)).docs.map(r=>({id:r.id,...r.data()}));return e&&(e==="DEPOSIT"?i=i.filter(r=>r.type.includes("DEPOSIT")):i=i.filter(r=>r.type===e)),i}catch(n){console.warn("Index may be missing, using fallback query:",n.message);let s=ui(En(He,"transactions"),Wr("userId","==",t)),r=(await us(s)).docs.map(a=>({id:a.id,...a.data()}));return e&&(e==="DEPOSIT"?r=r.filter(a=>a.type.includes("DEPOSIT")):r=r.filter(a=>a.type===e)),r.sort((a,c)=>{var f,m;const u=((f=a.date)==null?void 0:f.seconds)||0;return(((m=c.date)==null?void 0:m.seconds)||0)-u}),r}},D3=async()=>{const t=ui(En(He,"transactions"),PS("date","desc"),_3(100));return(await us(t)).docs.map(n=>({id:n.id,...n.data()}))},O3=async()=>(await us(En(He,"users"))).docs.map(e=>e.data()),k3=async(t,e)=>{const n=e==="APPROVE"?"APPROVED":"REJECTED";let s=null;const i=await qu(fn(He,"transactions",t));if(i.exists()&&(s={id:i.id,...i.data()}),!(!s||s.status!=="PENDING")&&(await Jr(fn(He,"transactions",t),{status:n}),e==="APPROVE")){const r=fn(He,"users",s.userId),a=await qu(r);if(a.exists()){const c=a.data();if(s.type.includes("DEPOSIT")){const u=s.amountInr||s.amount,h=new Date().toDateString(),f=c.dailyRechargeDate||"";let m=u,p=0,y=[];f===h&&(p=c.dailyRechargeTotal||0,m=p+u,y=c.claimedDailyBonuses||[]);const j=(await qS()).dailyRechargeBonuses||[{threshold:1e4,bonus:100},{threshold:2e4,bonus:200},{threshold:3e4,bonus:300},{threshold:4e4,bonus:400},{threshold:5e4,bonus:500},{threshold:6e4,bonus:600},{threshold:7e4,bonus:700}];let O=0,b=[...y];for(const T of j)m>=T.threshold&&p<T.threshold&&!y.includes(T.threshold)&&(O+=T.bonus,b.push(T.threshold));const _={inrBalance:c.inrBalance+u,dailyRechargeTotal:m,dailyRechargeDate:h,claimedDailyBonuses:b};O>0&&(_.inrBalance=c.inrBalance+u+O,await LS(En(He,"transactions"),{userId:s.userId,type:"BONUS",amount:O,status:"APPROVED",description:`Daily Recharge Bonus (${m.toLocaleString()} milestone)`,date:Sg()})),await Jr(r,_)}else s.type==="WITHDRAW"&&await Jr(r,{inrBalance:c.inrBalance-s.amount})}}},M3=async(t,e)=>{const n=e===-1?Date.now()+31536e8:Date.now()+e*1e3;await Qu(t,{isBanned:!0,banExpires:n})},zx=async t=>{await Qu(t,{isBanned:!1,banExpires:0})},P3=async()=>{const t=ui(En(He,"transactions")),e=await us(t),n=[];return e.docs.forEach(s=>{n.push(Jr(fn(He,"transactions",s.id),{status:"CLEARED",clearedAt:Sg()}))}),await Promise.all(n),{clearedCount:e.docs.length}},Bx=(t,e)=>{const n=[];for(;t.length;)n.push(t.splice(0,e));return n},V3=async t=>{let e=[],n=[],s=[];const i=ui(En(He,"users"),Wr("referrerId","==",t));(await us(i)).forEach(b=>e.push(b.data()));const a=e.map(b=>b.uid);if(a.length>0){const b=Bx([...a],10);for(const _ of b){const T=ui(En(He,"users"),Wr("referrerId","in",_));(await us(T)).forEach(z=>n.push(z.data()))}}const c=n.map(b=>b.uid);if(c.length>0){const b=Bx([...c],10);for(const _ of b){const T=ui(En(He,"users"),Wr("referrerId","in",_));(await us(T)).forEach(z=>s.push(z.data()))}}const u=e.length,h=n.length,f=s.length,m=u*50,p=h*25,y=f*10,R=m+p+y,j=[{id:"l1",level:1,count:u,rate:"10%",amount:m},{id:"l2",level:2,count:h,rate:"5%",amount:p},{id:"l3",level:3,count:f,rate:"2%",amount:y}];return{stats:{todayDeposit:0,totalDeposit:0,totalCommission:R,commissionYesterday:0,teamCount:u+h+f,commissionToday:0,todayNewTeam:0},members:j}},GS=C.createContext({currentUser:null,userProfile:null,systemSettings:null,loading:!0,isAdmin:!1}),Ss=()=>C.useContext(GS),U3=({children:t})=>{const[e,n]=C.useState(null),[s,i]=C.useState(null),[r,a]=C.useState(null),[c,u]=C.useState(!0),[h,f]=C.useState(!1);return C.useEffect(()=>{const m=T3(p=>{a(p)});return()=>m()},[]),C.useEffect(()=>{let m=()=>{};const p=A3(async y=>{if(m(),y)if(n(y),y.email==="admin@gmail.com")f(!0),i(null),u(!1);else{f(!1);try{await Og(y.uid,y.email||""),m=I3(y.uid,R=>{if(R!=null&&R.isBanned&&R.banExpires&&Date.now()<R.banExpires){alert("Your account has been banned by the administrator."),Gu();return}i(R),u(!1)})}catch(R){console.error("Error ensuring profile or subscribing:",R),i(null),u(!1)}}else n(null),i(null),f(!1),u(!1)});return()=>{p(),m()}},[]),l.jsx(GS.Provider,{value:{currentUser:e,userProfile:s,systemSettings:r,loading:c,isAdmin:h},children:!c&&t})},L3=()=>{const[t,e]=C.useState(!0),[n,s]=C.useState(""),[i,r]=C.useState(""),[a,c]=C.useState(""),[u,h]=C.useState(""),[f,m]=C.useState(!1),[p,y]=C.useState(!1),[R,j]=C.useState(""),[O,b]=C.useState(""),[_,T]=C.useState(!1),I=async B=>{B.preventDefault(),h(""),m(!0);try{t?await S3(n,i):await N3(n,i,a)}catch(w){h(w.message||"Authentication failed")}m(!1)},z=async B=>{if(B.preventDefault(),!R){b("Please enter your email address");return}T(!0),b("");try{await C3(R),b("Password reset link sent! Check your email inbox. If not found, please check your spam folder.")}catch(w){b(w.message||"Failed to send reset email")}T(!1)};return l.jsxs("div",{className:"bg-[#f3f4f8] min-h-screen font-sans flex flex-col items-center justify-center p-6",children:[l.jsxs("div",{className:"bg-white rounded-[15px] p-6 shadow-sm w-full max-w-md",children:[l.jsx("h1",{className:"text-2xl font-bold text-[#1e3a8a] mb-6 text-center",children:t?"Welcome Back":"Join UMoney"}),l.jsxs("form",{onSubmit:I,className:"space-y-4",children:[l.jsx("div",{className:"bg-[#f5f5f5] rounded-lg px-4 py-3",children:l.jsx("input",{className:"bg-transparent border-none p-0 text-gray-800 placeholder-gray-400 focus:ring-0 w-full",placeholder:"Email Address",type:"email",value:n,onChange:B=>s(B.target.value),required:!0})}),l.jsx("div",{className:"bg-[#f5f5f5] rounded-lg px-4 py-3",children:l.jsx("input",{className:"bg-transparent border-none p-0 text-gray-800 placeholder-gray-400 focus:ring-0 w-full",placeholder:"Password",type:"password",value:i,onChange:B=>r(B.target.value),required:!0})}),!t&&l.jsx("div",{className:"bg-[#f5f5f5] rounded-lg px-4 py-3",children:l.jsx("input",{className:"bg-transparent border-none p-0 text-gray-800 placeholder-gray-400 focus:ring-0 w-full",placeholder:"Invitation Code (Optional)",type:"text",value:a,onChange:B=>c(B.target.value)})}),u&&l.jsx("p",{className:"text-red-500 text-xs text-center",children:u}),l.jsx("button",{type:"submit",disabled:f,className:"w-full bg-[#1e3a8a] hover:bg-blue-900 text-white font-semibold py-3.5 rounded-lg shadow-md transition-colors disabled:opacity-70",children:f?"Processing...":t?"Login":"Sign Up"})]}),l.jsxs("div",{className:"mt-4 text-center space-y-2",children:[t&&l.jsx("button",{onClick:()=>{y(!0),b(""),j("")},className:"text-sm text-gray-500 hover:text-[#2546a3] hover:underline",children:"Forgot Password?"}),l.jsx("button",{onClick:()=>e(!t),className:"text-sm text-[#2546a3] hover:underline block mx-auto",children:t?"Create an account":"Already have an account? Login"})]}),l.jsx("div",{className:"mt-6 text-[10px] text-gray-400 text-center border-t pt-4",children:l.jsx("p",{children:"Demo Mode Active: You can create multiple accounts to test referral system."})})]}),p&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-[#1e3a8a]",children:"Reset Password"}),l.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx("span",{className:"material-icons-round",children:"close"})})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter your email address and we'll send you a link to reset your password."}),l.jsxs("form",{onSubmit:z,className:"space-y-4",children:[l.jsx("div",{className:"bg-[#f5f5f5] rounded-lg px-4 py-3",children:l.jsx("input",{className:"bg-transparent border-none p-0 text-gray-800 placeholder-gray-400 focus:ring-0 w-full",placeholder:"Email Address",type:"email",value:R,onChange:B=>j(B.target.value),required:!0})}),O&&l.jsx("p",{className:`text-sm text-center ${O.includes("sent")?"text-green-600":"text-red-500"}`,children:O}),l.jsx("button",{type:"submit",disabled:_,className:"w-full bg-[#1e3a8a] hover:bg-blue-900 text-white font-semibold py-3 rounded-lg shadow-md transition-colors disabled:opacity-70",children:_?"Sending...":"Send Reset Link"})]}),l.jsx("button",{onClick:()=>y(!1),className:"w-full mt-3 text-sm text-gray-500 hover:text-gray-700",children:"Back to Login"})]})})]})},z3=({currentTab:t})=>{const e=hr(),n="text-primary",s="text-gray-400",i=r=>{e(`/${r}`)};return l.jsx("div",{className:"fixed bottom-6 left-6 right-6 z-50",children:l.jsx("nav",{className:"bg-white rounded-full shadow-float px-2 py-3 border border-gray-50",children:l.jsxs("ul",{className:"flex justify-between items-center",children:[l.jsx("li",{className:"flex-1",children:l.jsxs("button",{onClick:()=>i("home"),className:"flex flex-col items-center justify-center w-full group focus:outline-none transition-transform active:scale-95",children:[l.jsx("span",{className:`material-icons-round text-2xl mb-0.5 transition-colors ${t==="home"?n:s}`,children:"home"}),l.jsx("span",{className:`text-[10px] font-medium transition-colors ${t==="home"?n:s}`,children:"Home"})]})}),l.jsx("li",{className:"flex-1",children:l.jsxs("button",{onClick:()=>i("deposit"),className:"flex flex-col items-center justify-center w-full group focus:outline-none transition-transform active:scale-95",children:[l.jsx("span",{className:`material-icons-round text-2xl mb-0.5 transition-colors ${t==="deposit"?n:s}`,children:"description"}),l.jsx("span",{className:`text-[10px] font-medium transition-colors ${t==="deposit"?n:s}`,children:"Deposit"})]})}),l.jsx("li",{className:"flex-1",children:l.jsxs("button",{onClick:()=>i("tool"),className:"flex flex-col items-center justify-center w-full group focus:outline-none transition-transform active:scale-95",children:[l.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mb-0.5 transition-colors ${t==="tool"?"bg-primary text-white":"bg-gray-300 text-white"}`,children:l.jsx("span",{className:"font-bold text-xs",children:"T"})}),l.jsx("span",{className:`text-[10px] font-medium transition-colors ${t==="tool"?n:s}`,children:"Tool"})]})}),l.jsx("li",{className:"flex-1",children:l.jsxs("button",{onClick:()=>i("teams"),className:"flex flex-col items-center justify-center w-full group focus:outline-none transition-transform active:scale-95",children:[l.jsx("span",{className:`material-icons-round text-2xl mb-0.5 transition-colors ${t==="teams"?n:s}`,children:"groups"}),l.jsx("span",{className:`text-[10px] font-medium transition-colors ${t==="teams"?n:s}`,children:"Teams"})]})}),l.jsx("li",{className:"flex-1",children:l.jsxs("button",{onClick:()=>i("assets"),className:"flex flex-col items-center justify-center w-full group focus:outline-none transition-transform active:scale-95",children:[l.jsx("span",{className:`material-icons-round text-2xl mb-0.5 transition-colors ${t==="assets"?n:s}`,children:"person"}),l.jsx("span",{className:`text-[10px] font-medium transition-colors ${t==="assets"?n:s}`,children:"Assets"})]})})]})})})},B3=()=>l.jsx("header",{className:"bg-primary pt-12 pb-16 px-5 sticky top-0 z-10 shadow-md",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-white text-lg font-semibold tracking-wide",children:"Team"}),l.jsx("button",{className:"text-white opacity-90 hover:opacity-100 transition-opacity",children:l.jsx("span",{className:"material-icons-round text-2xl",children:"support_agent"})})]})}),F3=({todayDeposit:t,totalDeposit:e})=>{const n=s=>` ${s.toFixed(2)}`;return l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-xl p-4 shadow-sm flex flex-col justify-between h-24",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"material-icons-outlined text-blue-500 text-lg",children:"calendar_today"}),l.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Today"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] text-slate-400 dark:text-slate-500 mb-0.5",children:"Team Deposit"}),l.jsx("div",{className:"text-blue-500 font-bold text-lg",children:n(t)})]})]}),l.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-xl p-4 shadow-sm flex flex-col justify-between h-24",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"material-icons-outlined text-green-500 text-lg",children:"account_balance_wallet"}),l.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Total"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] text-slate-400 dark:text-slate-500 mb-0.5",children:"Team Deposit"}),l.jsx("div",{className:"text-green-500 font-bold text-lg",children:n(e)})]})]})]})},H3=({stats:t})=>l.jsxs("div",{className:"rounded-2xl p-5 shadow-lg bg-gradient-to-b from-primary to-secondary text-white relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-10 -mt-10 pointer-events-none"}),l.jsxs("div",{className:"flex items-center space-x-2 mb-2 opacity-90",children:[l.jsx("span",{className:"material-icons-outlined text-lg",children:"monetization_on"}),l.jsx("span",{className:"text-sm font-medium",children:"My Total Commission"})]}),l.jsxs("div",{className:"text-3xl font-bold mb-6",children:[" ",t.totalCommission.toFixed(1)]}),l.jsxs("div",{className:"space-y-2 text-xs opacity-90",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-light",children:"Commission Yesterday"}),l.jsx("span",{className:"font-medium",children:t.commissionYesterday.toFixed(1)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-light",children:"Team Count"}),l.jsx("span",{className:"font-medium",children:t.teamCount})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-light",children:"Commission Today"}),l.jsxs("span",{className:"font-medium text-green-300",children:["+",t.commissionToday.toFixed(1)]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-light",children:"Today New Team"}),l.jsxs("span",{className:"font-medium text-green-300",children:["+",t.todayNewTeam]})]})]})]}),q3=()=>{const{userProfile:t}=Ss(),[e,n]=C.useState(!1),[s,i]=C.useState(!1),r=(t==null?void 0:t.referralCode)||"...",a="https://drive.proton.me/urls/G083NDNDWG#Ft95saJJoTfn",c=()=>{navigator.clipboard.writeText(a).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})},u=()=>{r!=="..."&&navigator.clipboard.writeText(r).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)})};return l.jsxs("div",{className:"pt-2",children:[l.jsx("h3",{className:"text-primary dark:text-blue-400 text-sm font-semibold mb-2",children:"Invitation Link"}),l.jsxs("div",{className:"flex items-center bg-card-light dark:bg-card-dark rounded-lg overflow-hidden shadow-sm border border-slate-100 dark:border-slate-700 h-11 transition-all duration-300",children:[l.jsx("div",{className:"pl-3 pr-2",children:l.jsx("span",{className:"material-icons-outlined text-slate-400 text-sm",children:"link"})}),l.jsx("input",{className:"w-full bg-transparent border-none text-xs text-slate-500 focus:ring-0 h-full p-0",readOnly:!0,type:"text",value:a}),l.jsx("button",{onClick:c,className:`h-full flex items-center justify-center transition-colors w-14 ${e?"bg-green-500":"bg-primary hover:bg-blue-800"} text-white`,children:l.jsx("span",{className:"material-icons-outlined text-lg",children:e?"check":"content_copy"})})]}),l.jsxs("div",{className:"flex items-center mt-1 ml-1",children:[l.jsx("p",{className:"text-[10px] text-slate-400",children:"Your Referral Code: "}),l.jsxs("button",{onClick:u,className:"flex items-center gap-1 ml-1 group",disabled:r==="...",children:[l.jsx("span",{className:`font-bold text-[10px] ${s?"text-green-600":"text-slate-600 group-hover:text-primary"} transition-colors`,children:r}),l.jsx("span",{className:`material-icons-outlined text-[12px] ${s?"text-green-600":"text-slate-400 group-hover:text-primary"} transition-colors`,children:s?"check":"content_copy"})]}),s&&l.jsx("span",{className:"text-[10px] text-green-600 ml-1",children:"Copied!"})]})]})},G3=()=>{const{userProfile:t}=Ss(),[e,n]=C.useState(!1),s=(t==null?void 0:t.referralCode)||"XXXXXX",i="https://drive.proton.me/urls/G083NDNDWG#Ft95saJJoTfn",r=`Hey! I've been using UMoney and thought you might like it too.

Download the app here: ${i}

Use my invite code: ${s}

Using my code gets you bonus rewards when you join. `,a=u=>{const h=encodeURIComponent(r);switch(u){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?quote=${h}`,"_blank");break;case"telegram":window.open(`https://t.me/share/url?url=${encodeURIComponent(i)}&text=${h}`,"_blank");break;case"whatsapp":window.open(`https://wa.me/?text=${h}`,"_blank");break;case"qrcode":n(!0);break;case"share":navigator.share?navigator.share({title:"Join UMoney",text:r}).catch(()=>{navigator.clipboard.writeText(r),alert("Invite message copied to clipboard!")}):(navigator.clipboard.writeText(r),alert("Invite message copied to clipboard!"));break}},c=[{platform:"facebook",iconClass:"fa-brands fa-facebook-f",label:"Facebook",colorBg:"bg-blue-100 dark:bg-blue-900/30",colorText:"text-blue-600 dark:text-blue-400"},{platform:"telegram",iconClass:"fa-brands fa-telegram",label:"Telegram",colorBg:"bg-sky-100 dark:bg-sky-900/30",colorText:"text-sky-500 dark:text-sky-400"},{platform:"whatsapp",iconClass:"fa-brands fa-whatsapp",label:"WhatsApp",colorBg:"bg-green-100 dark:bg-green-900/30",colorText:"text-green-600 dark:text-green-400"},{platform:"qrcode",iconClass:"material-icons-outlined qr_code_scanner",label:"QR Code",colorBg:"bg-indigo-100 dark:bg-indigo-900/30",colorText:"text-indigo-600 dark:text-indigo-400",isMaterial:!0},{platform:"share",iconClass:"material-icons-outlined share",label:"Share",colorBg:"bg-red-100 dark:bg-red-900/30",colorText:"text-red-500 dark:text-red-400",isMaterial:!0}];return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"pt-2",children:[l.jsx("h3",{className:"text-primary dark:text-blue-400 text-sm font-semibold mb-3",children:"More Ways To Invite"}),l.jsx("div",{className:"flex justify-between items-start px-1",children:c.map((u,h)=>l.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/5 cursor-pointer hover:opacity-80 transition-opacity active:scale-95",onClick:()=>a(u.platform),children:[l.jsx("div",{className:`w-10 h-10 ${u.colorBg} rounded-full flex items-center justify-center ${u.colorText} shadow-sm`,children:u.isMaterial?l.jsx("span",{className:"material-icons-outlined text-lg",children:u.iconClass.replace("material-icons-outlined ","")}):l.jsx("i",{className:`${u.iconClass} text-lg`})}),l.jsx("span",{className:"text-[10px] text-slate-600 dark:text-slate-400 text-center",children:u.label})]},h))})]}),e&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>n(!1),children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full",onClick:u=>u.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Your Invite QR Code"}),l.jsx("button",{onClick:()=>n(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:l.jsx("span",{className:"material-icons-round text-gray-500",children:"close"})})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 flex flex-col items-center",children:[l.jsx("div",{className:"w-48 h-48 bg-white border-2 border-gray-200 rounded-lg flex items-center justify-center mb-4",children:l.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(i)}`,alt:"QR Code",className:"w-44 h-44"})}),l.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Scan to download UMoney"}),l.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Invite Code: ",l.jsx("span",{className:"font-bold text-indigo-600",children:s})]})]})]})})]})},Q3=({members:t})=>l.jsxs("div",{className:"pt-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-primary dark:text-blue-400",children:[l.jsx("span",{className:"material-icons-outlined text-lg",children:"groups"}),l.jsx("span",{className:"text-sm font-semibold",children:"Team Detail"})]}),l.jsxs("button",{className:"flex items-center gap-1 text-xs text-primary dark:text-blue-400 font-medium hover:opacity-80 transition-opacity",children:[l.jsx("span",{className:"material-icons-outlined text-sm",children:"visibility"}),"View"]})]}),l.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-t-lg py-3 px-4 flex justify-between items-center shadow-sm border-b border-slate-50 dark:border-slate-800",children:[l.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 w-1/4 text-left font-medium",children:"Level"}),l.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 w-1/4 text-center font-medium",children:"Count"}),l.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 w-1/4 text-center font-medium",children:"Rate"}),l.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 w-1/4 text-right font-medium",children:"Amount"})]}),l.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-b-lg shadow-sm",children:[t.map((e,n)=>l.jsxs("div",{className:`flex justify-between items-center py-3 px-4 ${n!==t.length-1?"border-b border-slate-50 dark:border-slate-800":""}`,children:[l.jsxs("div",{className:"w-1/4 text-left flex items-center gap-1",children:[l.jsx("span",{className:`w-2 h-2 rounded-full ${e.level===1?"bg-primary":e.level===2?"bg-accent-blue":"bg-slate-300"}`}),l.jsxs("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-200",children:["Lvl ",e.level]})]}),l.jsx("div",{className:"w-1/4 text-center text-xs text-slate-600 dark:text-slate-400",children:e.count}),l.jsx("div",{className:"w-1/4 text-center text-xs text-slate-600 dark:text-slate-400",children:e.rate}),l.jsxs("div",{className:"w-1/4 text-right text-xs font-semibold text-green-500",children:["",e.amount.toFixed(2)]})]},e.id)),t.length===0&&l.jsx("div",{className:"py-8 text-center text-xs text-slate-400",children:"No team members yet."})]}),l.jsx("div",{className:"h-32"})]}),Y3=({stats:t,members:e})=>l.jsxs(l.Fragment,{children:[l.jsx(B3,{}),l.jsxs("main",{className:"px-4 -mt-8 relative z-20 space-y-4 pb-12",children:[l.jsx(F3,{todayDeposit:t.todayDeposit,totalDeposit:t.totalDeposit}),l.jsx(H3,{stats:t}),l.jsx(q3,{}),l.jsx(G3,{}),l.jsx(Q3,{members:e})]})]}),K3=()=>{const[t,e]=C.useState(!1),[n,s]=C.useState(!1),[i,r]=C.useState(!1),[a,c]=C.useState(!1),[u,h]=C.useState({hours:0,minutes:0}),f=hr(),{systemSettings:m,userProfile:p}=Ss();C.useEffect(()=>{const v=()=>{const S=new Date,A=new Date;A.setHours(24,0,0,0);const D=A-S,N=Math.floor(D/(1e3*60*60)),we=Math.floor(D%(1e3*60*60)/(1e3*60));h({hours:N,minutes:we})};v();const E=setInterval(v,6e4);return()=>clearInterval(E)},[]);const y=new Date().toDateString(),R=(p==null?void 0:p.dailyRechargeDate)===y,j=R&&(p==null?void 0:p.dailyRechargeTotal)||0,O=R?(p==null?void 0:p.claimedDailyBonuses)||[]:[],b=(m==null?void 0:m.dailyRechargeBonuses)||[{threshold:1e4,bonus:100},{threshold:2e4,bonus:200},{threshold:3e4,bonus:300},{threshold:4e4,bonus:400},{threshold:5e4,bonus:500},{threshold:6e4,bonus:600},{threshold:7e4,bonus:700}],T=Math.min(j/7e4*100,100),I=(m==null?void 0:m.usdtRate)||99,z=()=>{f("/withdraw")},B=()=>{f("/deposit?tab=usdt")},w=()=>{i&&localStorage.setItem("noticePopupDismissed",new Date().toDateString()),s(!1)};return l.jsxs("div",{className:"bg-brand-bg text-gray-800 font-sans antialiased min-h-screen relative pb-32",children:[n&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl overflow-hidden shadow-2xl animate-fade-in",children:[l.jsxs("div",{className:"bg-gradient-to-r from-indigo-900 to-indigo-800 px-4 py-3 flex items-center justify-between",children:[l.jsx("h2",{className:"text-white font-bold text-sm tracking-wide",children:"NOTICE"}),l.jsx("button",{onClick:()=>s(!1),className:"text-white/80 hover:text-white transition",children:l.jsx("span",{className:"material-icons-round text-xl",children:"close"})})]}),l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuABJlLhA70pp2xFeJuevWr8XUUWOau1bfKIUvKTs2ygB03xYZ8IzdgWGt-uG6Pjct4BLQ8nl81Zq4eUo9venMDnJqk2id8M1zukYneoPsQA6N3VdKhYGDwnO7DpfkYby9saPlxKuDs_Y8VczKekty3KcBwO5GsFFihVoO6NQUPtkQiiGmXPPrB7RbAUaZnw-X5B88DoFBcyyBMp_RqYNzhQvmbEWxutjJObwtKmQBxZzMqDCpIvvXCxmQs8kVks_A35OUeRTzTI4-3C",alt:"UMoney Promotion",className:"w-full h-auto"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-indigo-900/80"}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center mb-2",children:[l.jsx("div",{className:"bg-blue-800 rounded-full p-2 mr-2",children:l.jsx("span",{className:"text-yellow-400 font-bold text-xl",children:"U"})}),l.jsx("span",{className:"text-white font-bold text-xl tracking-wider",children:"UMONEY"})]}),l.jsx("h3",{className:"text-yellow-400 font-black text-2xl mb-1",children:"1USDT=102"}),l.jsx("p",{className:"text-green-400 font-bold text-lg",children:"+3% BONUS"}),l.jsx("p",{className:"text-white text-sm mt-2",children:"On Every RECHARGE!"}),l.jsxs("div",{className:"flex flex-col items-start mt-3 space-y-1 text-white text-xs",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-green-400 mr-2",children:""})," Fast Payout"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-green-400 mr-2",children:""})," Big Rewards"]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-green-400 mr-2",children:""})," Trusted Platform"]})]}),l.jsxs("div",{className:"mt-4 text-yellow-400 font-bold text-lg",children:["JOIN NOW &",l.jsx("br",{}),"START EARNING! "]}),l.jsx("div",{className:"mt-2 bg-green-500 text-white text-xs px-3 py-1 rounded-full inline-block",children:"@UMoney_Wallet_Official"})]})]}),l.jsx("div",{className:"p-4 bg-gray-50",children:l.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"If your Recharge is Pending, please do not cancel the order, please contact APP Customer Service immediately to process the order. You will lose all your money if you cancel your trading order."})}),l.jsxs("div",{className:"p-4 border-t border-gray-100",children:[l.jsxs("label",{className:"flex items-center text-sm text-gray-600 mb-4 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i,onChange:v=>r(v.target.checked),className:"w-4 h-4 mr-3 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),"Don't show today"]}),l.jsx("button",{onClick:w,className:"w-full py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white font-semibold rounded-xl shadow-lg hover:from-indigo-700 hover:to-indigo-800 transition-all",children:"Confirm"})]})]})}),l.jsxs("header",{className:"flex items-center justify-between px-4 py-3 bg-white sticky top-0 z-10 shadow-sm",children:[l.jsx("div",{className:"w-6"})," ",l.jsx("h1",{className:"text-brand-blue font-extrabold text-lg tracking-wide",children:"UMONEY"}),l.jsx("button",{"aria-label":"Support",className:"w-6 h-6 text-brand-blue",onClick:()=>f("/assets?view=support"),children:l.jsx("span",{className:"material-icons-round text-2xl",children:"support_agent"})})]}),l.jsxs("main",{className:"px-4 pt-4 space-y-4",children:[l.jsxs("section",{className:"rounded-xl overflow-hidden shadow-card text-white relative p-4",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuABJlLhA70pp2xFeJuevWr8XUUWOau1bfKIUvKTs2ygB03xYZ8IzdgWGt-uG6Pjct4BLQ8nl81Zq4eUo9venMDnJqk2id8M1zukYneoPsQA6N3VdKhYGDwnO7DpfkYby9saPlxKuDs_Y8VczKekty3KcBwO5GsFFihVoO6NQUPtkQiiGmXPPrB7RbAUaZnw-X5B88DoFBcyyBMp_RqYNzhQvmbEWxutjJObwtKmQBxZzMqDCpIvvXCxmQs8kVks_A35OUeRTzTI4-3C')",backgroundSize:"cover",backgroundPosition:"center"},children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-full bg-gradient-to-b from-blue-500/20 to-transparent"}),l.jsxs("div",{className:"relative z-10 text-center space-y-1",children:[l.jsx("p",{className:"text-xs font-bold italic tracking-wider text-blue-200",children:"DAILY PREMIUM"}),l.jsx("h2",{className:"text-4xl font-black italic uppercase tracking-tighter drop-shadow-lg",style:{fontFamily:"sans-serif",color:"#FFD700",WebkitTextStroke:"1px #B45309"},children:"RECHARGE BONUS"}),l.jsx("div",{className:"flex justify-center my-2",children:l.jsx("span",{className:"bg-[#F59E0B] text-blue-900 text-[10px] font-bold px-6 py-1.5 rounded-full shadow-md uppercase tracking-wide",children:"This bonus is for USDT recharge"})}),l.jsxs("div",{className:"mt-4 bg-blue-900/60 backdrop-blur-sm rounded-lg border border-yellow-500/30 overflow-hidden text-xs",children:[l.jsxs("div",{className:"grid grid-cols-2 bg-blue-900/80 text-yellow-400 font-bold py-1.5 border-b border-yellow-500/30",children:[l.jsx("div",{children:"SINGLE RECHARGE"}),l.jsx("div",{children:"GET BONUS"})]}),l.jsxs("div",{className:"divide-y divide-yellow-500/20 text-white",children:[l.jsxs("div",{className:"grid grid-cols-2 py-1.5",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[l.jsx("span",{children:""})," ",l.jsx("span",{children:"50.5 - 100.9 U"})]}),l.jsx("div",{className:"font-bold text-white",children:"100"})]}),l.jsxs("div",{className:"grid grid-cols-2 py-1.5",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[l.jsx("span",{children:""})," ",l.jsx("span",{children:"101.0 - 151.4 U"})]}),l.jsx("div",{className:"font-bold text-white",children:"150"})]}),l.jsxs("div",{className:"grid grid-cols-2 py-1.5",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[l.jsx("span",{children:""})," ",l.jsx("span",{children:"151.5 - 201.9 U"})]}),l.jsx("div",{className:"font-bold text-white",children:"200"})]})]})]})]})]}),l.jsxs("section",{className:"bg-white rounded-xl p-4 shadow-card flex items-center justify-between relative overflow-hidden",children:[l.jsxs("div",{className:"z-10",children:[l.jsx("p",{className:"text-gray-500 text-xs font-medium mb-1",children:"USDT rate"}),l.jsxs("p",{className:"text-brand-blue font-bold text-lg mb-3",children:["1 USDT = ",I.toFixed(1)," INR"]}),l.jsx("button",{onClick:B,className:"bg-brand-blue text-white text-xs font-bold py-2 px-6 rounded-full hover:bg-opacity-90 transition shadow-lg",children:"TOP UP"})]}),l.jsx("div",{className:"z-10",children:l.jsx("img",{alt:"USDT Coin",className:"w-16 h-16 object-contain drop-shadow-lg",src:"/ucoin.png"})}),l.jsx("div",{className:"absolute right-0 top-0 w-20 h-full bg-gradient-to-l from-blue-50 to-transparent pointer-events-none"})]}),l.jsxs("section",{onClick:()=>s(!0),className:"bg-orange-400 rounded-full px-4 py-2 flex items-center shadow-sm text-white cursor-pointer hover:bg-orange-500 transition-colors",children:[l.jsx("svg",{className:"h-5 w-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.664A2 2 0 009 13h2.028a2 2 0 002.383-1.44l1-5a2 2 0 00-1.82-2.33l-6.685-.815",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})}),l.jsx("span",{className:"text-sm font-medium truncate",children:"Check out our latest updates!"})]}),l.jsxs("section",{className:"bg-white rounded-xl p-4 shadow-card",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-brand-blue font-semibold text-sm",children:"Daily Total Recharge :"}),l.jsxs("p",{className:"text-gray-500 font-bold text-lg",children:["",j.toLocaleString()]})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"bg-cyan-500 text-white text-xs font-bold py-1 px-1.5 rounded",children:Math.floor(u.hours/10)}),l.jsx("div",{className:"bg-cyan-500 text-white text-xs font-bold py-1 px-1.5 rounded",children:u.hours%10}),l.jsx("span",{className:"text-cyan-500 font-bold",children:":"}),l.jsx("div",{className:"bg-cyan-500 text-white text-xs font-bold py-1 px-1.5 rounded",children:Math.floor(u.minutes/10)}),l.jsx("div",{className:"bg-cyan-500 text-white text-xs font-bold py-1 px-1.5 rounded",children:u.minutes%10})]})]}),l.jsx("div",{className:"relative w-full",children:l.jsx("div",{className:"flex overflow-x-auto no-scrollbar space-x-6 pb-2 items-end",children:b.map(v=>{const E=O.includes(v.threshold),S=j>=v.threshold&&!E;return l.jsxs("div",{className:"flex flex-col items-center min-w-[40px]",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{alt:"Coin",className:`w-10 h-10 object-contain ${E?"grayscale opacity-50":""}`,src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDyLobRMU6KSWH0jM_vmoDU1uzVXnCsS755sd0yWHzTvl0IC4k12Dy8xG7GRAH_omLst0-65R1QdpnZWcj31PYhlW-LwS3pBDGwTGU-T5k51GW56BosqWEdrXzU1v43x6-JVs7SC0HKyTORIfFYm4-kIYYUYbsaX3ASljUBHfBfEsH9tAuSXsF4I5sUmqqz6F8Xn2-crtpJtp_-371U3HrPGamxrJfyiQXa08GNs4nrMrST1xjLGupJK6t37o8xddt8eDaxiDcEtoTg"}),E?l.jsx("span",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-[8px] font-bold px-1 rounded-full border border-white",children:""}):l.jsx("span",{className:`absolute -top-1 -right-1 ${S?"bg-orange-500 animate-pulse":"bg-green-500"} text-white text-[8px] font-bold px-1 rounded-full border border-white`,children:"+"})]}),l.jsx("span",{className:`text-[10px] font-bold mt-1 ${E?"text-gray-400":"text-brand-blue"}`,children:v.bonus})]},v.threshold)})})}),l.jsxs("div",{className:"mt-4 relative",children:[l.jsx("div",{className:"h-1 w-full bg-gray-200 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-500",style:{width:`${T}%`}})}),l.jsx("div",{className:"flex justify-between text-[8px] text-gray-400 mt-1 px-1",children:["10k","20k","30k","40k","50k","60k","70k","80k"].map(v=>l.jsx("span",{children:v},v))}),T>0&&l.jsx("div",{className:"absolute top-[-3px] w-2.5 h-2.5 bg-blue-600 border-2 border-white rounded-full shadow-md transition-all duration-500",style:{left:`${T}%`,transform:"translateX(-50%)"}})]})]}),l.jsxs("section",{className:"rounded-2xl p-5 shadow-lg text-white overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #6B8DD6 100%)"},children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"font-semibold text-base",children:["Withdraw ",t?"(open)":"(closing)"]}),l.jsx("button",{onClick:()=>e(!t),className:`relative w-12 h-6 rounded-full transition-all duration-300 ${t?"bg-green-400":"bg-white/30"}`,children:l.jsx("span",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-all duration-300 ease-out ${t?"left-6":"left-0.5"}`})})]}),l.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-out ${t?"max-h-20 opacity-100 mt-4":"max-h-0 opacity-0"}`,children:l.jsxs("button",{onClick:z,className:"w-full bg-white text-indigo-600 font-bold py-3 px-6 rounded-xl hover:bg-gray-100 transition-all shadow-lg flex items-center justify-center gap-2",children:[l.jsx("span",{className:"material-icons-round text-sm",children:"account_balance_wallet"}),l.jsx("span",{children:"Withdraw Now"})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[l.jsxs("div",{className:"border-r border-white/20",children:[l.jsx("p",{className:"text-xs text-white/70 mb-1",children:"In Transaction"}),l.jsx("p",{className:"text-xl font-bold tracking-wide",children:"0.00"})]}),l.jsxs("div",{className:"pl-2",children:[l.jsx("p",{className:"text-xs text-white/70 mb-1",children:"Today's Withdraw"}),l.jsx("p",{className:"text-xl font-bold tracking-wide",children:"0.00"})]})]})]}),l.jsxs("button",{onClick:()=>c(!0),className:"w-full bg-indigo-500 hover:bg-indigo-600 text-white rounded-full py-3 px-4 flex items-center justify-center shadow-md transition",children:[l.jsx("div",{className:"bg-white rounded-full w-5 h-5 flex items-center justify-center mr-3",children:l.jsx("svg",{className:"h-3 w-3 text-indigo-500 ml-0.5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M6 4l10 6-10 6V4z"})})}),l.jsx("span",{className:"text-sm font-medium",children:"How to use UMoney to make money"})]})]}),a&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-end justify-center bg-black/60 backdrop-blur-sm",onClick:()=>c(!1),children:l.jsxs("div",{className:"bg-white w-full max-w-lg rounded-t-3xl p-4 pb-8 shadow-2xl animate-slide-up",onClick:v=>v.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"How to Use UMoney"}),l.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-gray-100 rounded-full transition",children:l.jsx("span",{className:"material-icons-round text-gray-500",children:"close"})})]}),l.jsx("div",{className:"bg-black rounded-xl overflow-hidden aspect-video",children:l.jsx("iframe",{src:"https://drive.google.com/file/d/1Se34r9SWeE15KrGy2-FmrXTs4XUJdQ9r/preview",className:"w-full h-full",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"How to use UMoney"})}),l.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Watch the video to learn how to earn with UMoney"})]})})]})},$3=()=>{var K;const[t]=dw(),e=t.get("tab"),[n,s]=C.useState(e==="usdt"?"USDT":"INR"),{userProfile:i,systemSettings:r}=Ss(),[a,c]=C.useState("SELECT"),[u,h]=C.useState(null),[f,m]=C.useState(""),[p,y]=C.useState(!1),[R,j]=C.useState(300),[O,b]=C.useState(""),[_,T]=C.useState("INPUT"),[I,z]=C.useState(""),[B,w]=C.useState(!1),[v,E]=C.useState(""),[S,A]=C.useState(!1),D=(r==null?void 0:r.adminUpi)||"pay.umoney@upi",N=(r==null?void 0:r.adminQrCode)||"https://api.qrserver.com/v1/create-qr-code/?size=200x200",we=(r==null?void 0:r.usdtRate)||99,ie=(r==null?void 0:r.usdtTrc20Address)||"TVjsyZ7sWvJgM8p4G8MockTRC20Address7788",F=(r==null?void 0:r.usdtQrCode)||`https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=${ie}`;C.useEffect(()=>{let Q;return a==="PAYMENT"&&R>0&&(Q=setInterval(()=>j(qe=>qe-1),1e3)),()=>clearInterval(Q)},[a,R]);const q=Q=>{const qe=Math.floor(Q/60),Ue=Q%60;return`${qe}:${Ue<10?"0":""}${Ue}`},Z=((r==null?void 0:r.inrQuotas)||[]).map(Q=>({id:Q.id,amount:Q.amount,income:parseFloat((Q.amount*Q.percent/100).toFixed(2)),percent:Q.percent,activity:Q.activity,quota:parseFloat((Q.amount+Q.amount*Q.percent/100+Q.activity).toFixed(2))})),ye=async Q=>{if(!i)return;const qe=i.linkedAccount;if(!qe||qe.verificationStatus!=="VERIFIED"){alert("Please go to 'Tool' tab and link your UPI account first.");return}if(!qe.operateEnabled){alert("Your linked tool is not active. Please click 'Operate' in the Tool tab.");return}h(Q),j(300),c("PAYMENT"),window.scrollTo(0,0)},Re=async()=>{if(!f||f.length<10){alert("Please enter a valid 12-digit UTR / Reference ID.");return}w(!0);try{const Q={userId:i.uid,type:"DEPOSIT_INR",amount:u.amount,status:"PENDING",date:null,description:`Purchase Quota ${u.amount}`,utr:f};await Nm(Q),y(!0),m("")}catch{alert("Error creating transaction. Please try again.")}w(!1)},gn=()=>{y(!1),c("SELECT"),h(null)},yn=()=>{if(!i||!O)return;const Q=parseFloat(O);if(isNaN(Q)||Q<=0){E("Invalid amount");return}E(""),T("PAYMENT")},Rn=async()=>{if(!I){E("Please enter the Transaction Hash (TxID)");return}w(!0);try{const Q=parseFloat(O),qe=Q*we,Ue={userId:i.uid,type:"DEPOSIT_USDT",amount:Q,amountInr:qe,status:"PENDING",date:null,description:`Deposit ${Q} USDT`,utr:I};await Nm(Ue),alert("Deposit Submitted Successfully! Waiting for Admin Approval."),b(""),z(""),T("INPUT"),E("")}catch{E("Error submitting request")}w(!1)},ht=Q=>{navigator.clipboard.writeText(Q),alert("Copied to clipboard!")},P=((parseFloat(O)||0)*we).toFixed(2),oe=N.startsWith("http")?N:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?pa=${D}&am=${u==null?void 0:u.amount}&cu=INR`;return l.jsxs("div",{className:"bg-[#f3f4f8] min-h-screen font-sans",children:[l.jsxs("header",{className:"bg-white sticky top-0 z-40 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-center px-4 py-3",children:[l.jsx("h1",{className:"text-lg font-bold text-gray-800 tracking-tight",children:n==="USDT"?"Deposit USDT":"UMoney Deposit"}),l.jsx("button",{className:"text-[#303f9f] p-1 hover:opacity-80 transition-opacity",children:l.jsx("span",{className:"material-icons-round text-2xl",children:"support_agent"})})]}),l.jsxs("div",{className:"flex border-b border-gray-200 bg-white",children:[l.jsxs("button",{onClick:()=>{s("INR"),c("SELECT")},className:`flex-1 py-3 text-center text-sm font-medium relative focus:outline-none transition-colors ${n==="INR"?"text-app-blue border-b-2 border-app-blue":"text-gray-400 hover:text-gray-600"}`,children:[n==="INR"&&l.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -bottom-[2px] w-full h-[2px] bg-app-blue"}),l.jsxs("span",{className:"flex items-center justify-center gap-1",children:[n==="INR"&&l.jsx("span",{className:"material-icons-outlined text-lg",children:"currency_rupee"}),"INR"]})]}),l.jsx("button",{onClick:()=>{s("USDT"),T("INPUT")},className:`flex-1 py-3 text-center text-sm font-medium focus:outline-none transition-colors ${n==="USDT"?"text-[#2546a3] border-b-2 border-[#2546a3]":"text-gray-400 hover:text-gray-600"}`,children:"USDT"})]})]}),l.jsxs("main",{className:"p-3 pb-24",children:[n==="INR"?l.jsx("div",{className:"bg-white rounded-3xl p-4 shadow-sm min-h-[80vh]",children:a==="SELECT"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gray-500 font-medium",children:"Quota"}),l.jsx("i",{className:"fas fa-info-circle text-gray-300"})]}),l.jsx("button",{onClick:()=>A(!0),className:"text-app-blue text-xs font-medium hover:underline",children:"How To Buy Quota"})]}),l.jsx("div",{className:"text-center mb-6",children:l.jsxs("div",{className:"text-2xl font-bold text-app-blue",children:["",(i==null?void 0:i.inrBalance.toFixed(2))||"0.00"]})}),l.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar mb-4 pb-2",children:[l.jsx("button",{className:"bg-app-blue text-white px-4 py-1.5 rounded-lg text-sm font-medium shrink-0 shadow-md",children:"All"}),[100,200,500,1e3,2e3,5e3].map(Q=>l.jsxs("button",{className:"bg-gray-100 text-gray-500 px-4 py-1.5 rounded-lg text-sm font-medium shrink-0 border border-gray-100",children:[Q,"+"]},Q))]}),l.jsx("div",{className:"flex flex-col gap-0 divide-y divide-gray-100",children:Z.map((Q,qe)=>l.jsxs("div",{className:"flex items-center justify-between py-4",children:[l.jsx("div",{className:"mr-3 shrink-0",children:l.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center text-app-blue font-bold text-lg",children:""})}),l.jsxs("div",{className:"flex-1 mr-2",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsxs("span",{className:"font-bold text-lg text-gray-800",children:[Q.amount.toFixed(2)," INR"]}),l.jsx("span",{className:"bg-badge-bg text-badge-text text-[10px] font-bold px-1 py-0.5 rounded sm:px-1.5",children:"BANK"})]}),l.jsxs("div",{className:"text-[11px] text-gray-500 leading-tight",children:["Income:  ",Q.income.toFixed(2)," (",Q.percent.toFixed(2),"%) +",Q.activity.toFixed(2)]})]}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("button",{onClick:()=>ye(Q),className:"bg-app-blue hover:bg-indigo-800 text-white text-sm font-bold py-1.5 px-6 rounded shadow-sm mb-1",children:"BUY"}),l.jsxs("div",{className:"text-[10px] text-app-green font-medium",children:["Quota: + ",Q.quota.toFixed(2)]})]})]},qe))})]}):l.jsxs("div",{className:"animate-fade-in",children:[l.jsxs("div",{className:"flex items-center mb-4 border-b pb-2",children:[l.jsx("button",{onClick:()=>c("SELECT"),className:"mr-3 text-gray-600",children:l.jsx("span",{className:"material-icons-round",children:"arrow_back"})}),l.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Complete Payment"})]}),l.jsxs("div",{className:"flex justify-between items-center bg-blue-50 p-4 rounded-xl mb-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Payable"}),l.jsxs("p",{className:"text-2xl font-bold text-app-blue",children:["",u==null?void 0:u.amount.toFixed(2)]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Time Remaining"}),l.jsx("p",{className:"text-xl font-mono font-bold text-orange-500",children:q(R)})]})]}),l.jsxs("div",{className:"flex flex-col items-center mb-6",children:[l.jsx("div",{className:"bg-white p-2 rounded-xl shadow-md border border-gray-100 mb-4",children:l.jsx("img",{src:oe,alt:"Payment QR",className:"w-48 h-48"})}),l.jsx("div",{className:"bg-yellow-50 text-yellow-800 px-4 py-2 rounded-full text-xs font-bold mb-4",children:"Scan with any UPI App"}),l.jsxs("div",{className:"w-full bg-gray-50 rounded-lg p-3 flex justify-between items-center mb-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-gray-500 uppercase",children:"Merchant UPI ID"}),l.jsx("p",{className:"text-sm font-medium text-gray-800",children:D})]}),l.jsx("button",{onClick:()=>ht(D),className:"text-app-blue p-2",children:l.jsx("span",{className:"material-icons-outlined text-sm",children:"content_copy"})})]}),l.jsx("div",{className:"w-full bg-red-50 border border-red-100 rounded-lg p-3 mb-6",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"material-icons-outlined text-red-500 text-sm mt-0.5",children:"warning"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-bold text-red-700",children:"Important Requirement:"}),l.jsxs("p",{className:"text-xs text-red-600 leading-tight mt-1",children:["You must pay using your linked UPI ID: ",l.jsx("br",{}),l.jsx("span",{className:"font-mono bg-white px-1 rounded border border-red-200 mt-1 inline-block",children:(K=i==null?void 0:i.linkedAccount)==null?void 0:K.upiId})]}),l.jsx("p",{className:"text-[10px] text-red-500 mt-1",children:"Payments from other IDs will be rejected."})]})]})}),l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"UTR / Reference No. (12 Digits)"}),l.jsx("input",{className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-800 placeholder-gray-400 focus:ring-2 focus:ring-app-blue outline-none text-sm transition-all",placeholder:"Enter 12-digit UTR number",type:"number",value:f,onChange:Q=>m(Q.target.value)}),l.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:"After payment, copy the UTR from your UPI app and paste it here."})]})]}),l.jsx("button",{onClick:Re,disabled:B,className:"w-full bg-app-blue hover:bg-blue-900 text-white font-semibold py-3.5 rounded-lg shadow-md transition-colors active:scale-[0.98] transform duration-100 disabled:opacity-50",children:B?"Verifying...":"Submit Payment"})]})}):l.jsx("div",{className:"bg-white rounded-[15px] p-4 shadow-sm mx-1 min-h-[80vh]",children:_==="INPUT"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center text-gray-800 font-medium",children:[l.jsx("span",{children:"Quota"}),l.jsx("i",{className:"fas fa-eye text-[#999] ml-2 text-sm"})]}),l.jsx("button",{onClick:()=>A(!0),className:"text-xs text-[#2546a3] hover:underline",children:"How To Buy Quota"})]}),l.jsx("div",{className:"text-center py-4",children:l.jsxs("span",{className:"text-[28px] font-bold text-[#1e3a8a]",children:["",(i==null?void 0:i.inrBalance.toFixed(2))||"0.00"]})})]}),l.jsxs("div",{className:"flex gap-3 mb-6",children:[l.jsxs("div",{className:"flex-1 flex items-center bg-[#f5f5f5] rounded-lg px-4 py-3",children:[l.jsx("input",{className:"flex-1 bg-transparent border-none p-0 text-gray-800 placeholder-gray-400 focus:ring-0 focus:outline-none text-base w-full",placeholder:"0.00",type:"number",value:O,onChange:Q=>b(Q.target.value)}),l.jsx("span",{className:"text-sm text-gray-500 ml-2 font-medium",children:"USDT"})]}),l.jsx("div",{className:"w-auto flex-none bg-[#eef2ff] rounded-lg flex items-center justify-center py-3 px-3",children:l.jsxs("span",{className:"text-xs font-bold text-[#2546a3] whitespace-nowrap",children:["1 USDT = ",we.toFixed(1)," INR"]})})]}),l.jsxs("div",{className:"bg-[#f3f4f6] rounded-lg p-4 mb-6 space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[l.jsx("span",{children:"Estimated bonus"}),l.jsx("span",{className:"text-black font-medium",children:"0 INR"})]}),l.jsxs("div",{className:"flex justify-between items-center text-gray-800 font-bold",children:[l.jsx("span",{children:"You will receive"}),l.jsxs("span",{className:"text-[#1e3a8a] font-bold",children:[P," INR"]})]})]}),v&&!v.includes("TxID")&&l.jsx("div",{className:"mb-4 text-center text-sm font-medium text-red-600",children:v}),l.jsx("button",{onClick:yn,disabled:B,className:"w-full bg-[#1e3a8a] hover:bg-blue-900 text-white font-semibold py-3.5 rounded-lg shadow-md transition-colors active:scale-[0.98] transform duration-100 disabled:opacity-50",children:"Confirm Amount"})]}):l.jsxs("div",{className:"animate-fade-in",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("button",{onClick:()=>T("INPUT"),className:"mr-3 text-gray-600",children:l.jsx("span",{className:"material-icons-round",children:"arrow_back"})}),l.jsx("h2",{className:"text-lg font-bold text-[#1e3a8a]",children:"Complete Payment"})]}),l.jsxs("div",{className:"bg-[#eef2ff] rounded-lg p-4 mb-6 flex flex-col items-center",children:[l.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Scan QR to Pay ",l.jsxs("span",{className:"font-bold text-[#1e3a8a]",children:[O," USDT"]})]}),l.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm mb-4",children:l.jsx("img",{src:F,alt:"USDT QR Code",className:"w-40 h-40"})}),l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block ml-1",children:"TRC20 Address (TRON)"}),l.jsxs("div",{className:"flex items-center bg-white border border-blue-100 rounded-lg overflow-hidden",children:[l.jsx("div",{className:"flex-1 py-3 px-3 text-xs font-mono text-gray-700 truncate",children:ie}),l.jsx("button",{onClick:()=>ht(ie),className:"bg-blue-50 hover:bg-blue-100 text-[#1e3a8a] p-3 transition-colors border-l border-blue-100",children:l.jsx("span",{className:"material-icons-outlined text-sm",children:"content_copy"})})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Transaction Hash (TxID)"}),l.jsx("input",{className:"w-full bg-[#f5f5f5] border-none rounded-lg px-4 py-3 text-gray-800 placeholder-gray-400 focus:ring-2 focus:ring-[#1e3a8a]/20 outline-none text-sm",placeholder:"Paste the TxID / Hash here...",type:"text",value:I,onChange:Q=>z(Q.target.value)})]}),v&&l.jsx("div",{className:`mb-4 text-center text-sm font-medium ${v.includes("Error")||v.includes("Please")?"text-red-600":"text-green-600"}`,children:v}),l.jsx("button",{onClick:Rn,disabled:B,className:"w-full bg-[#1e3a8a] hover:bg-blue-900 text-white font-semibold py-3.5 rounded-lg shadow-md transition-colors active:scale-[0.98] transform duration-100 disabled:opacity-50",children:B?"Submitting...":"Submit for Approval"})]})}),p&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl slide-up text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"material-icons-round text-3xl text-green-600",children:"check_circle"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Submitted Successfully"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-6 leading-relaxed",children:["Your UTR ",l.jsx("span",{className:"font-mono font-bold text-gray-800",children:f})," has been recorded. Please wait for admin confirmation. Your quota will be updated shortly."]}),l.jsx("button",{onClick:gn,className:"w-full py-3 bg-app-blue text-white rounded-xl font-semibold shadow-lg",children:"Okay, Got it"})]})}),S&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-end justify-center bg-black/60 backdrop-blur-sm",onClick:()=>A(!1),children:l.jsxs("div",{className:"bg-white w-full max-w-lg rounded-t-3xl p-4 pb-8 shadow-2xl animate-slide-up",onClick:Q=>Q.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"How To Buy Quota"}),l.jsx("button",{onClick:()=>A(!1),className:"p-2 hover:bg-gray-100 rounded-full transition",children:l.jsx("span",{className:"material-icons-round text-gray-500",children:"close"})})]}),l.jsx("div",{className:"bg-black rounded-xl overflow-hidden aspect-video",children:l.jsx("iframe",{src:"https://drive.google.com/file/d/19Nv5pcGhH2YtdzZJ7ifjbA6nyY6yeW-r/preview",className:"w-full h-full",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"How to buy quota"})}),l.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Watch the video to learn how to purchase quota"})]})})]})]})},X3=()=>{const t="abcdefghijklmnopqrstuvwxyz0123456789";let e="";for(let n=0;n<10;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return`${e}@ybl`},Fx=()=>{const t=["7","8","9"];let e=t[Math.floor(Math.random()*t.length)];for(let n=0;n<9;n++)e+=Math.floor(Math.random()*10);return e},ol={PhonePe:l.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-lg",children:""})}),"Google Pay":l.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center border border-gray-200",children:l.jsx("span",{className:"font-bold text-sm",style:{background:"linear-gradient(135deg, #4285F4, #34A853, #FBBC05, #EA4335)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"G"})}),Paytm:l.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-sm",children:"P"})})},W3=()=>{const t=hr(),{userProfile:e,loading:n,currentUser:s}=Ss(),[i,r]=C.useState(!1),[a,c]=C.useState(!1),[u,h]=C.useState(!1),[f,m]=C.useState(""),[p,y]=C.useState("PhonePe"),[R,j]=C.useState(""),[O,b]=C.useState(""),[_,T]=C.useState(!1),I=C.useMemo(()=>e==null?void 0:e.linkedAccount,[e]),z=async()=>{if(!R){m("Please enter a valid UPI ID.");return}h(!0),m("");try{const S={provider:p,upiId:R,phoneNumber:O||Fx(),linkedAt:new Date().toISOString(),operateEnabled:!1,verificationStatus:"VERIFIED"};await Qu(e.uid,{linkedAccount:S}),r(!1)}catch(S){m("Failed to link account. Please try again."),console.error(S)}finally{h(!1)}},B=async()=>{I&&(await Qu(e.uid,{"linkedAccount.operateEnabled":!I.operateEnabled}),c(!1))},w=async()=>{c(!1),I&&!I.operateEnabled&&await B()},v=()=>{c(!1)};if(n)return l.jsx("div",{className:"p-4",children:l.jsx("p",{children:"Loading..."})});const E=async()=>{var S;if(s){T(!0);try{await Og(s.uid,s.email||""),window.location.reload()}catch(A){console.error("Failed to create profile",A);let D="Failed to recover profile.";A.code==="permission-denied"||(S=A.message)!=null&&S.includes("permission")?D="Permission denied. Please check Firestore security rules. See FIRESTORE_SETUP.md for instructions.":A.message&&(D=`Error: ${A.message}`),alert(D)}finally{T(!1)}}};return e?l.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[l.jsxs("header",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm",children:[l.jsx("div",{className:"w-6"}),l.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"Tools"}),l.jsx("button",{"aria-label":"Support",className:"w-6 h-6 text-indigo-600",onClick:()=>t("/assets?view=support"),children:l.jsx("span",{className:"material-icons-round text-2xl",children:"support_agent"})})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[I&&l.jsxs("div",{className:"rounded-2xl p-4 shadow-lg text-white relative overflow-hidden",style:{background:"linear-gradient(135deg, #7c3aed 0%, #8b5cf6 50%, #a78bfa 100%)"},children:[l.jsx("div",{className:"absolute right-4 bottom-2 text-white/20 text-4xl font-bold tracking-widest",children:I.provider==="PhonePe"?"PhonePe":I.provider==="Google Pay"?"GPay":"Paytm"}),l.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[ol[I.provider]||ol.PhonePe,l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-sm",children:I.upiId}),l.jsx("p",{className:"text-white/70 text-xs",children:I.phoneNumber||"9851805067"})]})]}),I.operateEnabled?l.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-1.5 bg-red-500 text-white text-xs font-bold rounded-full shadow-md hover:bg-red-600 transition-all flex items-center gap-1",children:[l.jsx("span",{className:"material-icons-round text-sm",children:"stop"}),"STOP"]}):l.jsx("button",{onClick:()=>c(!0),className:"px-4 py-1.5 bg-gradient-to-r from-orange-400 to-orange-500 text-white text-xs font-bold rounded-full shadow-md hover:from-orange-500 hover:to-orange-600 transition-all",children:"Operate"})]}),l.jsxs("div",{className:"mt-4 bg-white/10 rounded-lg px-3 py-2 flex items-center text-xs text-white/80",children:[l.jsx("span",{className:"material-icons-round text-sm mr-2",children:"info"}),"Please relink tool or modify the upi and relink."]})]}),!I&&l.jsxs("div",{className:"text-center py-16",children:[l.jsx("span",{className:"material-icons-outlined text-6xl text-gray-300 mb-4",children:"account_balance_wallet"}),l.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Wallet Connected"}),l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Tap the + button to connect a wallet"})]})]}),l.jsx("button",{onClick:()=>{j(X3()),b(Fx()),r(!0)},className:"fixed bottom-24 right-4 w-14 h-14 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-full shadow-xl flex items-center justify-center hover:from-indigo-700 hover:to-purple-700 transition-all z-40",children:l.jsx("span",{className:"material-icons-round text-3xl",children:"add"})}),i&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-end justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white w-full max-w-md rounded-t-3xl p-6 shadow-2xl animate-slide-up",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Connect Wallet"}),l.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx("span",{className:"material-icons-round",children:"close"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-2 block",children:"Select Wallet"}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:["PhonePe","Google Pay","Paytm"].map(S=>l.jsxs("button",{onClick:()=>y(S),className:`py-3 px-2 text-xs font-semibold rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${p===S?"bg-indigo-50 border-indigo-500 text-indigo-700":"bg-gray-50 border-gray-200 text-gray-600 hover:border-gray-400"}`,children:[ol[S],l.jsx("span",{children:S})]},S))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-1 block",children:"UPI ID"}),l.jsx("input",{type:"text",value:R,onChange:S=>j(S.target.value),placeholder:"yourname@ybl",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-1 block",children:"Phone Number"}),l.jsx("input",{type:"tel",value:O,onChange:S=>b(S.target.value),placeholder:"9876543210",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),f&&l.jsx("p",{className:"text-xs text-red-600 bg-red-50 p-3 rounded-xl",children:f}),l.jsx("button",{onClick:z,disabled:u,className:"w-full py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl shadow-lg hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 flex items-center justify-center",children:u?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"material-icons-round animate-spin text-lg mr-2",children:"sync"}),"Connecting..."]}):"Connect Wallet"})]})]})}),a&&I&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-end justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white w-full max-w-md rounded-t-3xl p-6 shadow-2xl animate-slide-up",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Select Operation"}),l.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx("span",{className:"material-icons-round",children:"close"})})]}),l.jsx("div",{className:"rounded-xl p-4 mb-6",style:{background:"linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%)"},children:l.jsxs("div",{className:"flex items-center space-x-3 text-white",children:[ol[I.provider]||ol.PhonePe,l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-sm",children:I.upiId}),l.jsxs("p",{className:"text-white/70 text-xs",children:["Phone: ",I.phoneNumber||"9851805067"]})]})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:w,className:"w-full p-4 bg-gray-50 rounded-xl flex items-center gap-4 hover:bg-gray-100 transition-all",children:[l.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"material-icons-round text-indigo-600",children:"link"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-semibold text-gray-800",children:"Connect"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Reconnect wallet automatically"})]})]}),l.jsxs("button",{onClick:v,className:"w-full p-4 bg-gray-50 rounded-xl flex items-center gap-4 hover:bg-gray-100 transition-all",children:[l.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"material-icons-round text-orange-600",children:"verified_user"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-semibold text-gray-800",children:"Authorize"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Manual authorization process"})]})]}),l.jsx("button",{onClick:B,className:`w-full py-3 mt-4 text-white font-semibold rounded-xl shadow-md transition-all ${I.operateEnabled?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"}`,children:I.operateEnabled?"Stop Operation":"Start Operation"})]})]})}),l.jsx("style",{children:`
                @keyframes slide-up {
                    from {
                        transform: translateY(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateY(0);
                        opacity: 1;
                    }
                }
                .animate-slide-up {
                    animation: slide-up 0.3s ease-out;
                }
            `})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[l.jsx("span",{className:"material-icons-round text-5xl text-gray-300 mb-4",children:"account_circle"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Profile Not Found"}),l.jsx("p",{className:"text-gray-500 mb-6 max-w-xs",children:"We couldn't load your user profile. This might happen if your account setup was interrupted."}),l.jsx("button",{onClick:E,disabled:_,className:"bg-indigo-600 text-white px-6 py-2 rounded-full font-medium shadow-lg hover:bg-indigo-700 transition-all disabled:opacity-50",children:_?"Creating Profile...":"Create Profile & Retry"})]})},Hx={"Account & Registration":[{question:"Is this platform safe and trustworthy?",shortAnswer:"Yes. Our platform is well recognized in the market.",fullAnswer:"Yes. Our platform is well recognized in the market, and many users have successfully received their earnings."},{question:"How do I get started?",shortAnswer:"Simply register an account and follow the guidance.",fullAnswer:"Simply register an account and follow the guidance from our support team. We'll walk you through every step."},{question:"Do I need real-name verification to register?",shortAnswer:"No, but you need to link your Telegram account.",fullAnswer:"No, but you need to link your Telegram account to protect your funds and ensure the security of your withdrawals."},{question:"Can one phone number register multiple accounts?",shortAnswer:"No. One phone number can only register one account.",fullAnswer:"No. One phone number can only be used to register and bind one UMONEY account. The system does not support using the same number for multiple accounts. Please avoid duplicate registrations to prevent account issues."}],"Orders & Earnings":[{question:"What happens if an order fails?",shortAnswer:"Check wallet connection, payment amount, and operation steps.",fullAnswer:`If an order fails, it is usually due to one of the following reasons:

 The user canceled the order manually
 The order was not completed according to our platform's step-by-step instructions
 There was a payment shortfall in the wallet
 The wrong wallet payment method was used
 The TOOLS is not linked to Umoney / Not Online

 Any of the above will result in a failed order. If none of these apply to your case, please contact our customer service team for further assistance.`},{question:"Order doesn't show as successful after payment?",shortAnswer:"Contact Telegram support with order details and payment proof.",fullAnswer:`Please contact our Telegram support immediately and provide the following:

1. Your Umoney ID
2. Photo Of The Order  Must clearly show: Order number, Date/Time, Recipient Account, IFSC, and UTR
3. Video Proof Of Payment Invoice  Must clearly show: UPI ID, Payment History, Payment Status, Recipient Account, IFSC, and UTR`},{question:"How much can I earn?",shortAnswer:"Earnings depend on your activity and referrals.",fullAnswer:"Your earnings depend on your activity and how many people you invite who join and deposit. The more active you are, the more you can earn."},{question:"How can I upgrade my account level?",shortAnswer:"Complete orders, stay active, and invite friends.",fullAnswer:"Completing orders regularly, staying active, and inviting friends can help you increase your level."},{question:"When will the commission be credited?",shortAnswer:"Usually issued automatically after order completion.",fullAnswer:"Commission is usually issued automatically shortly after the order is completed. If there is any delay, please contact customer support."}],Withdrawals:[{question:"My withdrawal is not working. What should I do?",shortAnswer:"Check withdrawal button, tools running, and place 2 orders.",fullAnswer:`Follow these steps:

 Make sure your withdrawal button is ON
 Keep all tools running
 Restart your phone and open the app again
 Use the wallet already linked and activated in Umoney to place TWO orders

If withdrawal shows "Expired / Offline", the payment failed  follow the diagnosis steps:

 Diagnosis Steps:
 Restart your phone
 Check tool status in the app
 Turn OFF the withdrawal button for 2 minutes, then turn it ON
 Ask a friend to send 3 to each of your UPI IDs (to verify they're active)
 Change to a new UPI if it hasn't been updated for a long time
 After diagnosing, place 2 orders to reactivate withdrawal`},{question:"What is the minimum withdrawal amount?",shortAnswer:"Minimum withdrawal threshold must remain above 500.",fullAnswer:"The minimum withdrawal threshold must remain above 500."},{question:"How long does a withdrawal take?",shortAnswer:"System processes withdrawals every minute for 24 hours.",fullAnswer:"Withdrawal takes time. The system processes withdrawals every minute for 24 hours. If you have completed all the required steps, please keep the tool online and stay active  the system will automatically detect and process it."},{question:"What if my withdrawal fails?",shortAnswer:"Check UPI status and follow diagnosis steps.",fullAnswer:"Check if your UPI is working properly and follow the diagnosis steps. If the issue persists, contact customer support."},{question:"Can I bind multiple UPI accounts?",shortAnswer:"Yes, we recommend binding multiple active UPI accounts.",fullAnswer:"Yes, our platform allows you to bind multiple UPI accounts. We recommend linking multiple active and valid UPI accounts that can receive transfers properly, to avoid withdrawal failures or delays."}],"Account Issues & Security":[{question:"I forgot my password. How do I reset it?",shortAnswer:'Use the "Forgot Password" option on the login screen.',fullAnswer:'Use the "Forgot Password" option on the login screen and follow the steps to reset your password via your registered email or phone.'},{question:"How do I protect my account?",shortAnswer:"Use a strong password and never share your login details.",fullAnswer:"Use a strong password, enable two-factor authentication if available, and never share your login details with anyone. Always verify you're on the official app before entering credentials."},{question:"Can I change my registered phone number?",shortAnswer:"Contact support to request a phone number change.",fullAnswer:"Please contact our customer support team via Telegram to request a phone number change. You may need to verify your identity."}],Recharge:[{question:"How do I recharge my account?",shortAnswer:"Go to Deposit tab and follow the USDT or INR deposit process.",fullAnswer:"Navigate to the Deposit tab from the bottom menu. You can choose to deposit via USDT or purchase quota with INR. Follow the on-screen instructions to complete your recharge."},{question:"My recharge is pending. What should I do?",shortAnswer:"Do not cancel. Contact support immediately.",fullAnswer:"If your recharge is pending, please do not cancel the order. Contact APP Customer Service immediately to process the order. You will lose all your money if you cancel your trading order."},{question:"What is the minimum recharge amount?",shortAnswer:"Minimum depends on your selected quota package.",fullAnswer:"The minimum recharge amount depends on the quota package you select. Check the Deposit screen for available options and their requirements."}]},J3=({question:t,shortAnswer:e,fullAnswer:n})=>{const[s,i]=C.useState(!1);return l.jsxs("div",{className:"border-b border-gray-100 last:border-none",children:[l.jsxs("button",{onClick:()=>i(!s),className:"w-full py-4 px-4 flex items-start justify-between text-left hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex-1 pr-4",children:[l.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:t}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e})]}),l.jsx("span",{className:`material-icons-round text-gray-400 transition-transform ${s?"rotate-180":""}`,children:"expand_more"})]}),s&&l.jsx("div",{className:"px-4 pb-4 text-sm text-gray-600 whitespace-pre-line bg-gray-50 mx-4 mb-4 rounded-lg p-4",children:n})]})},Z3=({onBack:t,systemSettings:e})=>{var r;const n=Object.keys(Hx),[s,i]=C.useState(n[0]);return l.jsxs("div",{className:"fixed inset-0 bg-gray-50 z-[60] overflow-y-auto",children:[l.jsx("div",{className:"bg-indigo-800 pt-12 pb-6 px-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:t,className:"mr-3 p-1 rounded-full hover:bg-white/10 transition-colors",children:l.jsx("span",{className:"material-icons-round text-white",children:"arrow_back"})}),l.jsx("h1",{className:"text-lg font-bold text-white",children:"Support Center"})]})}),l.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:l.jsx("div",{className:"flex overflow-x-auto no-scrollbar px-2 py-3 gap-2",children:n.map(a=>l.jsx("button",{onClick:()=>i(a),className:`px-4 py-2 text-xs font-semibold rounded-full whitespace-nowrap transition-all ${s===a?"bg-indigo-800 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a},a))})}),l.jsx("div",{className:"px-4 py-4 pb-32",children:l.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:(r=Hx[s])==null?void 0:r.map((a,c)=>l.jsx(J3,{question:a.question,shortAnswer:a.shortAnswer,fullAnswer:a.fullAnswer},c))})}),l.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-4 z-[70]",children:[l.jsx("p",{className:"text-xs text-gray-600 font-semibold mb-3",children:"Customer Service"}),l.jsxs("div",{className:"flex justify-around",children:[l.jsxs("a",{href:(e==null?void 0:e.telegramSupportLink)||"https://t.me/umoney_support",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-2",children:l.jsx("span",{className:"material-icons-round text-blue-600",children:"send"})}),l.jsx("span",{className:"text-xs text-gray-600",children:"Telegram"})]}),l.jsxs("a",{href:(e==null?void 0:e.telegramSupportLink)||"https://t.me/umoney_support",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-2",children:l.jsx("span",{className:"material-icons-round text-indigo-600",children:"support_agent"})}),l.jsx("span",{className:"text-xs text-gray-600",children:"Contact Support"})]}),l.jsxs("a",{href:(e==null?void 0:e.telegramGroupLink)||"https://t.me/umoney_group",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-2",children:l.jsx("span",{className:"material-icons-round text-purple-600",children:"groups"})}),l.jsx("span",{className:"text-xs text-gray-600",children:"Join Group"})]})]})]})]})},ek=()=>{var we;const{userProfile:t,currentUser:e,systemSettings:n}=Ss(),[s,i]=dw(),[r,a]=C.useState("MAIN"),[c,u]=C.useState(!1);C.useEffect(()=>{s.get("view")==="support"&&(a("SUPPORT"),i({}))},[s,i]);const[h,f]=C.useState([]),[m,p]=C.useState(!1),[y,R]=C.useState({new:"",confirm:""}),[j,O]=C.useState(""),[b,_]=C.useState(!1),[T,I]=C.useState(!1),[z,B]=C.useState(""),w=async ie=>{var F;if(t){p(!0),B("");try{const q=await j3(t.uid,ie);f(q)}catch(q){console.error("History fetch error:",q),(F=q.message)!=null&&F.includes("index")?B("Database index required. Please check Firebase console."):B("Failed to load history. Please try again.")}p(!1)}},v=ie=>{a(ie),f([]),B(""),ie==="QUOTA_HISTORY"&&w("DEPOSIT_INR"),ie==="DEPOSIT_HISTORY"&&w("DEPOSIT_USDT"),ie==="WITHDRAW_HISTORY"&&w("WITHDRAW")},E=ie=>l.jsxs("div",{className:"flex items-center mb-6 px-4 pt-12",children:[l.jsx("button",{onClick:()=>a("MAIN"),className:"mr-3 p-1 rounded-full hover:bg-gray-200 transition-colors",children:l.jsx("span",{className:"material-icons-round text-gray-700",children:"arrow_back"})}),l.jsx("h1",{className:"text-xl font-bold text-gray-800",children:ie})]}),S=(ie,F)=>l.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mx-4",children:m?l.jsx("div",{className:"p-8 flex justify-center",children:l.jsx("span",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}):z?l.jsxs("div",{className:"p-8 text-center flex flex-col items-center text-red-400",children:[l.jsx("span",{className:"material-icons-outlined text-4xl mb-2",children:"error"}),l.jsx("p",{className:"text-sm text-red-500",children:z})]}):ie.length===0?l.jsxs("div",{className:"p-12 text-center flex flex-col items-center text-gray-400",children:[l.jsx("span",{className:"material-icons-outlined text-4xl mb-2 opacity-30",children:"history"}),l.jsx("p",{className:"text-sm",children:F})]}):l.jsx("div",{className:"divide-y divide-gray-50",children:ie.map(q=>l.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`mt-1 w-8 h-8 rounded-full flex items-center justify-center ${q.type==="WITHDRAW"?"bg-red-50 text-red-500":"bg-green-50 text-green-500"}`,children:l.jsx("span",{className:"material-icons-round text-sm",children:q.type==="WITHDRAW"?"arrow_upward":"arrow_downward"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-sm text-gray-800",children:q.description||(q.type==="DEPOSIT_INR"?"Quota Purchase":q.type==="DEPOSIT_USDT"?"USDT Deposit":"Withdrawal")}),l.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5",children:q.date&&q.date.seconds?new Date(q.date.seconds*1e3).toLocaleString():"Just now"}),q.utr&&l.jsxs("div",{className:"text-[10px] text-gray-500 mt-0.5 font-mono",children:["Ref: ",q.utr]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:`font-bold text-sm ${q.type==="WITHDRAW"?"text-red-600":"text-green-600"}`,children:[q.type==="WITHDRAW"?"-":"+",q.amountInr?`${q.amountInr}`:`${q.amount} ${q.type.includes("USDT")?"USDT":"INR"}`]}),l.jsx("div",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full inline-block mt-1 uppercase tracking-wide
                                  ${q.status==="APPROVED"?"bg-green-100 text-green-700":q.status==="REJECTED"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:q.status})]})]},q.id))})}),A=()=>{const ie=async()=>{if(y.new.length<6){O("Password must be at least 6 characters");return}if(y.new!==y.confirm){O("Passwords do not match");return}_(!0);try{await R3(y.new),O("Password updated successfully!"),R({new:"",confirm:""})}catch(F){O(F.message||"Error updating password. Please re-login and try again.")}_(!1)};return l.jsx("div",{className:"px-4",children:l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"New Password"}),l.jsx("input",{type:"password",className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:y.new,onChange:F=>R({...y,new:F.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Confirm Password"}),l.jsx("input",{type:"password",className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:y.confirm,onChange:F=>R({...y,confirm:F.target.value})})]}),j&&l.jsx("div",{className:`text-xs text-center p-2 rounded ${j.includes("success")?"bg-green-50 text-green-600":"bg-red-50 text-red-500"}`,children:j}),l.jsx("button",{onClick:ie,disabled:b,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-lg shadow-lg hover:bg-blue-700 transition-colors disabled:opacity-70",children:b?"Updating...":"Update Password"})]})})};if(r!=="MAIN")return l.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen pb-24 font-sans",children:[r==="QUOTA_HISTORY"&&l.jsxs(l.Fragment,{children:[" ",E("Quota History")," ",S(h,"No quota purchases found.")," "]}),r==="DEPOSIT_HISTORY"&&l.jsxs(l.Fragment,{children:[" ",E("Deposit History")," ",S(h,"No USDT deposits found.")," "]}),r==="WITHDRAW_HISTORY"&&l.jsxs(l.Fragment,{children:[" ",E("Withdrawal History")," ",S(h,"No withdrawals found.")," "]}),r==="SUPPORT"&&l.jsx(Z3,{onBack:()=>a("MAIN"),systemSettings:n}),r==="CHANGE_PASSWORD"&&l.jsxs(l.Fragment,{children:[" ",E("Change Password")," ",A()," "]}),r==="VERSION"&&l.jsxs(l.Fragment,{children:[E("Version Update"),l.jsxs("div",{className:"px-4 text-center mt-12",children:[l.jsx("div",{className:"w-24 h-24 bg-white rounded-2xl shadow-sm mx-auto flex items-center justify-center mb-6",children:l.jsx("span",{className:"material-icons-round text-5xl text-blue-600",children:"system_update"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:"UMoney App"}),l.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Current Version 1.0.0 (Beta)"}),l.jsx("div",{className:"bg-blue-50 text-blue-700 p-4 rounded-xl text-sm font-medium mb-8 mx-auto max-w-xs",children:"You are using the latest version."}),l.jsx("button",{className:"px-8 py-3 bg-white border border-gray-200 text-gray-600 rounded-lg text-sm font-semibold shadow-sm hover:bg-gray-50",children:"Check for Updates"})]})]})]});const D=async()=>{var ie;if(e){I(!0);try{await Og(e.uid,e.email||""),window.location.reload()}catch(F){console.error("Failed to create profile",F);let q="Failed to recover profile.";F.code==="permission-denied"||(ie=F.message)!=null&&ie.includes("permission")?q="Permission denied. Please check Firestore security rules. See FIRESTORE_SETUP.md for instructions.":F.message&&(q=`Error: ${F.message}`),alert(q)}finally{I(!1)}}};if(!t)return l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center bg-[#f3f4f6]",children:[l.jsx("span",{className:"material-icons-round text-6xl text-gray-300 mb-4",children:"account_circle"}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Profile Not Found"}),l.jsx("p",{className:"text-gray-500 mb-8 max-w-sm",children:"We couldn't load your user profile. Click the button below to create your profile and access all features."}),l.jsx("button",{onClick:D,disabled:T,className:"bg-blue-600 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:T?"Creating Profile...":"Create Profile Now"})]});const N=[{icon:"description",label:"Quota History",bg:"bg-purple-50",text:"text-purple-600",action:()=>v("QUOTA_HISTORY")},{icon:"move_to_inbox",label:"Deposit History",bg:"bg-green-50",text:"text-green-600",action:()=>v("DEPOSIT_HISTORY")},{icon:"upload",label:"Withdrawal History",bg:"bg-red-50",text:"text-red-600",action:()=>v("WITHDRAW_HISTORY")},{icon:"help_outline",label:"Support Center",bg:"bg-orange-50",text:"text-orange-600",action:()=>v("SUPPORT")},{icon:"lock",label:"Change Password",bg:"bg-blue-50",text:"text-blue-600",action:()=>v("CHANGE_PASSWORD")},{icon:"system_update",label:"Version Update",bg:"bg-sky-50",text:"text-sky-600",action:()=>v("VERSION")},{icon:"logout",label:"Logout",bg:"bg-rose-50",text:"text-rose-600",action:()=>u(!0)}];return l.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen pb-24 font-sans",children:[l.jsxs("div",{className:"bg-assets-primary pt-12 pb-6 px-5 rounded-b-[2rem] shadow-lg relative z-10",children:[l.jsx("div",{className:"text-center mb-6",children:l.jsx("h1",{className:"text-white text-lg font-medium tracking-wide",children:"Assets"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"relative",children:l.jsx("div",{className:"w-14 h-14 rounded-full bg-yellow-100 border-2 border-yellow-300 overflow-hidden flex items-center justify-center",children:l.jsx("img",{alt:"User Avatar",className:"w-full h-full object-cover",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDGYEaYgs7vLQ6u5zH4n8cX8fcDukR-VLVoTKr3Xav3OQtz5VyrIDTXfEK-MsG3uH7w3h1LX9DfED9pufWvMx5FL4tiZXnkww0YCfccgG__iAZWZakbUkKiV4ZPjVdYDYsSMo5Sp-0vEk6pLcdweXg1rZKHuslNWRJI1Gg8YdYly2zFMWYbX9f6DTzXCYJnFqz0bdvwpL7VXBkR_-IWeFnx4K4YC0zKVUg_82rfo-OkYRtdOWMvISjWeGPjIeea2pt1Ky0CzN7wbl2R"})})}),l.jsxs("div",{className:"text-white",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"text-lg font-semibold tracking-wide",children:(t==null?void 0:t.phone)||((we=t==null?void 0:t.email)==null?void 0:we.split("@")[0])||"User"}),l.jsx("button",{className:"opacity-80 hover:opacity-100 transition-opacity",children:l.jsx("span",{className:"material-icons-round text-sm",children:"content_copy"})})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm opacity-90",children:[l.jsxs("span",{children:["ID: ",t==null?void 0:t.referralCode]}),l.jsx("button",{className:"opacity-80 hover:opacity-100 transition-opacity",children:l.jsx("span",{className:"material-icons-round text-xs",children:"content_copy"})})]})]})]}),l.jsx("div",{className:"bg-white px-3 py-1 rounded-full shadow-sm",children:l.jsx("span",{className:"text-assets-primary text-xs font-bold",children:"Reward Ratio: 3"})})]})]}),l.jsxs("div",{className:"px-4 -mt-4 relative z-20 space-y-4",children:[l.jsxs("div",{className:"bg-assets-primary text-white rounded-2xl shadow-lg p-6 flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-baseline space-x-1",children:[l.jsx("span",{className:"text-xl font-medium",children:""}),l.jsx("span",{className:"text-2xl font-bold",children:(t==null?void 0:t.inrBalance.toFixed(2))||"0.00"})]}),l.jsx("div",{className:"text-sm opacity-80 mt-1 font-light",children:"Quota"})]}),l.jsx("div",{className:"w-px h-10 bg-white/20 mx-4"}),l.jsxs("div",{className:"flex-1 pl-4",children:[l.jsx("div",{className:"text-2xl font-bold",children:"0.00"}),l.jsx("div",{className:"text-sm opacity-80 mt-1 font-light",children:"Today's Earning"})]})]}),l.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden mb-6",children:N.map((ie,F)=>l.jsxs("button",{onClick:q=>{q.preventDefault(),ie.action()},className:"flex w-full items-center justify-between p-4 border-b border-gray-50 last:border-none hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl ${ie.bg} flex items-center justify-center ${ie.text}`,children:l.jsx("span",{className:"material-icons-round text-xl",children:ie.icon})}),l.jsx("span",{className:"text-gray-700 font-semibold text-sm",children:ie.label})]}),l.jsx("span",{className:"material-icons-round text-gray-300 text-xl",children:"chevron_right"})]},F))})]}),c&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white w-full max-w-xs rounded-2xl p-6 shadow-2xl slide-up text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"material-icons-round text-3xl text-red-600",children:"logout"})}),l.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Sign Out?"}),l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Are you sure you want to log out of your account?"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-2.5 bg-gray-100 text-gray-700 rounded-lg font-semibold text-sm hover:bg-gray-200 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:()=>Gu(),className:"flex-1 py-2.5 bg-red-600 text-white rounded-lg font-semibold text-sm hover:bg-red-700 transition-colors shadow-lg",children:"Log Out"})]})]})})]})},tk=()=>{const{systemSettings:t}=Ss(),[e,n]=C.useState("DASHBOARD"),[s,i]=C.useState(!1),[r,a]=C.useState([]),[c,u]=C.useState([]),[h,f]=C.useState(!1),[m,p]=C.useState({totalUsers:0,pendingDep:0,pendingWd:0,totalDep:0}),[y,R]=C.useState({usdtRate:0,maintenanceMode:!1,adminUpi:"",adminQrCode:"",usdtTrc20Address:"",usdtQrCode:"",inrPaymentEnabled:!0,usdtPaymentEnabled:!0,adminEmail:"",adminPassword:""}),[j,O]=C.useState(""),[b,_]=C.useState(""),[T,I]=C.useState([]),[z,B]=C.useState(!1),[w,v]=C.useState(null),[E,S]=C.useState({amount:"",percent:3,activity:6});C.useEffect(()=>{A(),t&&(R(t),I(t.inrQuotas||[]))},[t,e]);const A=async()=>{f(!0);try{const[P,oe]=await Promise.all([O3(),D3()]);a(P),u(oe);const K=oe.filter(Ue=>Ue.status==="PENDING"&&Ue.type.includes("DEPOSIT")).length,Q=oe.filter(Ue=>Ue.status==="PENDING"&&Ue.type==="WITHDRAW").length,qe=oe.filter(Ue=>Ue.status==="APPROVED"&&Ue.type.includes("DEPOSIT")).reduce((Ue,Ai)=>Ue+(Ai.amountInr||Ai.amount),0);p({totalUsers:P.length,pendingDep:K,pendingWd:Q,totalDep:qe})}catch(P){console.error(P)}f(!1)},D=async(P,oe)=>{if(confirm(`Are you sure you want to ${oe} this transaction?`))try{await k3(P,oe),alert(`Transaction ${oe}D successfully!`),A()}catch(K){console.error("Processing error:",K),alert(`Failed to ${oe} transaction: ${K.message}`)}},N=async(P,oe)=>{const K=oe===-1?-1:oe*24*60*60;await M3(P,K),A()},we=async()=>{await xc(y),alert("System Settings Updated!")},ie=()=>{v(null),S({amount:"",percent:3,activity:6}),B(!0)},F=P=>{v(P),S({amount:P.amount,percent:P.percent,activity:P.activity}),B(!0)},q=async()=>{if(!E.amount||E.amount<=0){alert("Please enter a valid amount");return}let P;if(w)P=T.map(oe=>oe.id===w.id?{...oe,amount:parseFloat(E.amount),percent:parseFloat(E.percent),activity:parseFloat(E.activity)}:oe);else{const oe={id:"q"+Date.now(),amount:parseFloat(E.amount),percent:parseFloat(E.percent),activity:parseFloat(E.activity)};P=[...T,oe]}P.sort((oe,K)=>oe.amount-K.amount),await xc({inrQuotas:P}),I(P),B(!1),alert(w?"Quota updated!":"Quota added!")},Z=async P=>{if(!confirm("Are you sure you want to delete this quota?"))return;const oe=T.filter(K=>K.id!==P);await xc({inrQuotas:oe}),I(oe),alert("Quota deleted!")},ye=()=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase",children:"Total Users"}),l.jsx("p",{className:"text-2xl font-bold text-gray-800",children:m.totalUsers})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase",children:"Pending Deposits"}),l.jsx("p",{className:"text-2xl font-bold text-orange-500",children:m.pendingDep})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase",children:"Pending Withdrawals"}),l.jsx("p",{className:"text-2xl font-bold text-red-500",children:m.pendingWd})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase",children:"Total Deposit Value"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",m.totalDep.toLocaleString()]})]})]}),Re=P=>{const oe=c.filter(K=>P==="DEPOSIT"?K.type.includes("DEPOSIT"):K.type==="WITHDRAW");return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:"Date"}),l.jsx("th",{className:"p-4",children:"User"}),l.jsx("th",{className:"p-4",children:"Amount"}),l.jsx("th",{className:"p-4",children:"Method/UTR"}),l.jsx("th",{className:"p-4",children:"Status"}),l.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-50",children:oe.map(K=>{var qe;const Q=r.find(Ue=>Ue.uid===K.userId);return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 text-gray-500 text-xs",children:(qe=K.date)!=null&&qe.seconds?new Date(K.date.seconds*1e3).toLocaleString():"Just now"}),l.jsxs("td",{className:"p-4",children:[l.jsx("div",{className:"font-medium text-gray-900",children:(Q==null?void 0:Q.email)||K.userId}),l.jsx("div",{className:"text-xs text-gray-400",children:(Q==null?void 0:Q.phone)||"No phone"})]}),l.jsxs("td",{className:"p-4 font-bold",children:[P==="WITHDRAW"?l.jsx("span",{className:"text-red-600",children:"-"}):l.jsx("span",{className:"text-green-600",children:"+"}),K.type.includes("USDT")?l.jsxs("span",{children:[K.amount," USDT ",l.jsxs("span",{className:"text-xs text-gray-400",children:["(",K.amountInr,")"]})]}):l.jsxs("span",{children:["",K.amount," INR"]})]}),l.jsxs("td",{className:"p-4 text-xs font-mono text-gray-500",children:[K.type,l.jsx("br",{}),K.utr||"N/A"]}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${K.status==="APPROVED"?"bg-green-100 text-green-700":K.status==="REJECTED"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:K.status})}),l.jsx("td",{className:"p-4 text-right space-x-2",children:K.status==="PENDING"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>D(K.id,"APPROVE"),className:"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 text-xs font-bold",children:"Approve"}),l.jsx("button",{onClick:()=>D(K.id,"REJECT"),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-xs font-bold",children:"Reject"})]})})]},K.id)})})]})})}),l.jsxs("div",{className:"md:hidden space-y-3",children:[oe.length===0&&l.jsxs("div",{className:"bg-white rounded-xl p-8 text-center text-gray-400",children:["No ",P.toLowerCase(),"s found"]}),oe.map(K=>{var qe,Ue;const Q=r.find(Ai=>Ai.uid===K.userId);return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[l.jsx("div",{className:"font-bold text-gray-900 text-sm truncate",children:(Q==null?void 0:Q.email)||K.userId}),l.jsx("div",{className:"text-xs text-gray-400",children:(Q==null?void 0:Q.phone)||"No phone"})]}),l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold flex-shrink-0 ${K.status==="APPROVED"?"bg-green-100 text-green-700":K.status==="REJECTED"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:K.status})]}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 text-xs",children:"Amount"}),l.jsxs("div",{className:"font-bold text-lg",children:[P==="WITHDRAW"?l.jsx("span",{className:"text-red-600",children:"-"}):l.jsx("span",{className:"text-green-600",children:"+"}),K.type.includes("USDT")?l.jsxs("span",{children:[K.amount," USDT"]}):l.jsxs("span",{children:["",K.amount]})]}),K.type.includes("USDT")&&l.jsxs("div",{className:"text-xs text-gray-400",children:[" ",K.amountInr]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-gray-500 text-xs",children:"Date"}),l.jsx("div",{className:"text-xs text-gray-600",children:(qe=K.date)!=null&&qe.seconds?new Date(K.date.seconds*1e3).toLocaleDateString():"Just now"}),l.jsx("div",{className:"text-xs text-gray-400",children:(Ue=K.date)!=null&&Ue.seconds?new Date(K.date.seconds*1e3).toLocaleTimeString():""})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 mb-3 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Method:"}),l.jsx("span",{className:"font-medium text-gray-700",children:K.type})]}),l.jsxs("div",{className:"flex justify-between mt-1",children:[l.jsx("span",{className:"text-gray-500",children:"UTR:"}),l.jsx("span",{className:"font-mono text-gray-600",children:K.utr||"N/A"})]})]}),K.status==="PENDING"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>D(K.id,"APPROVE"),className:"flex-1 bg-green-500 text-white px-4 py-3 rounded-lg hover:bg-green-600 text-sm font-bold",children:" Approve"}),l.jsx("button",{onClick:()=>D(K.id,"REJECT"),className:"flex-1 bg-red-500 text-white px-4 py-3 rounded-lg hover:bg-red-600 text-sm font-bold",children:" Reject"})]})]},K.id)})]})]})},gn=()=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:"User"}),l.jsx("th",{className:"p-4",children:"Balance"}),l.jsx("th",{className:"p-4",children:"Location (IP)"}),l.jsx("th",{className:"p-4",children:"Status"}),l.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map(P=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"p-4",children:[l.jsx("div",{className:"font-bold text-gray-900",children:P.email}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Code: ",P.referralCode]})]}),l.jsxs("td",{className:"p-4",children:[l.jsxs("div",{className:"text-green-600 font-medium",children:["",P.inrBalance.toFixed(2)]}),l.jsxs("div",{className:"text-blue-600 text-xs",children:[P.usdtBalance.toFixed(2)," USDT"]})]}),l.jsx("td",{className:"p-4 text-xs",children:P.lastLocation?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"font-semibold",children:[P.lastLocation.city,", ",P.lastLocation.country]}),l.jsx("div",{className:"text-gray-400",children:P.lastLocation.ip})]}):"Unknown"}),l.jsx("td",{className:"p-4",children:P.isBanned?l.jsx("span",{className:"text-red-600 font-bold bg-red-50 px-2 py-1 rounded",children:"BANNED"}):l.jsx("span",{className:"text-green-600 font-bold bg-green-50 px-2 py-1 rounded",children:"ACTIVE"})}),l.jsx("td",{className:"p-4 text-right space-x-1",children:P.isBanned?l.jsx("button",{onClick:()=>zx(P.uid).then(A),className:"bg-gray-500 text-white px-3 py-1 rounded text-xs",children:"Unban"}):l.jsxs("div",{className:"flex justify-end gap-1",children:[l.jsx("button",{onClick:()=>N(P.uid,1),className:"bg-red-100 text-red-600 px-2 py-1 rounded text-xs hover:bg-red-200",children:"1 Day"}),l.jsx("button",{onClick:()=>N(P.uid,-1),className:"bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700",children:"Perm"})]})})]},P.uid))})]})})}),l.jsx("div",{className:"md:hidden space-y-3",children:r.map(P=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[l.jsx("div",{className:"font-bold text-gray-900 text-sm truncate",children:P.email}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Code: ",P.referralCode]})]}),l.jsx("div",{className:"flex-shrink-0",children:P.isBanned?l.jsx("span",{className:"text-red-600 font-bold bg-red-50 px-2 py-1 rounded text-xs",children:"BANNED"}):l.jsx("span",{className:"text-green-600 font-bold bg-green-50 px-2 py-1 rounded text-xs",children:"ACTIVE"})})]}),l.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 text-xs",children:"Balance"}),l.jsxs("div",{className:"text-green-600 font-bold",children:["",P.inrBalance.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 text-xs",children:"USDT"}),l.jsx("div",{className:"text-blue-600 font-bold",children:P.usdtBalance.toFixed(2)})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 mb-3 text-xs",children:[l.jsx("span",{className:"text-gray-500",children:"Location: "}),P.lastLocation?l.jsxs("span",{className:"font-medium text-gray-700",children:[P.lastLocation.city,", ",P.lastLocation.country,"  ",P.lastLocation.ip]}):l.jsx("span",{className:"text-gray-400",children:"Unknown"})]}),l.jsx("div",{className:"flex justify-end gap-2",children:P.isBanned?l.jsx("button",{onClick:()=>zx(P.uid).then(A),className:"bg-gray-500 text-white px-4 py-2 rounded-lg text-xs font-bold flex-1",children:"Unban User"}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>N(P.uid,1),className:"bg-red-100 text-red-600 px-4 py-2 rounded-lg text-xs font-bold flex-1 hover:bg-red-200",children:"Ban 1 Day"}),l.jsx("button",{onClick:()=>N(P.uid,-1),className:"bg-red-600 text-white px-4 py-2 rounded-lg text-xs font-bold flex-1 hover:bg-red-700",children:"Ban Perm"})]})})]},P.uid))})]}),yn=()=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-800",children:"INR Deposit Quotas"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Manage deposit packages visible to users"})]}),l.jsxs("button",{onClick:ie,className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-blue-700 flex items-center gap-1",children:[l.jsx("span",{className:"material-icons-round text-sm",children:"add"}),"Add Quota"]})]}),l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:"Amount (INR)"}),l.jsx("th",{className:"p-4",children:"Income %"}),l.jsx("th",{className:"p-4",children:"Activity Bonus"}),l.jsx("th",{className:"p-4",children:"Calculated Income"}),l.jsx("th",{className:"p-4",children:"Total Quota"}),l.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-50",children:[T.map(P=>{const oe=P.amount*P.percent/100,K=P.amount+oe+P.activity;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4",children:l.jsxs("span",{className:"font-bold text-gray-800",children:["",P.amount.toFixed(2)]})}),l.jsx("td",{className:"p-4",children:l.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-bold",children:[P.percent,"%"]})}),l.jsxs("td",{className:"p-4 text-gray-600",children:["",P.activity.toFixed(2)]}),l.jsxs("td",{className:"p-4 text-green-600 font-medium",children:["",oe.toFixed(2)]}),l.jsx("td",{className:"p-4",children:l.jsxs("span",{className:"font-bold text-blue-600",children:["",K.toFixed(2)]})}),l.jsxs("td",{className:"p-4 text-right space-x-2",children:[l.jsx("button",{onClick:()=>F(P),className:"bg-blue-100 text-blue-600 px-3 py-1 rounded text-xs font-bold hover:bg-blue-200",children:"Edit"}),l.jsx("button",{onClick:()=>Z(P.id),className:"bg-red-100 text-red-600 px-3 py-1 rounded text-xs font-bold hover:bg-red-200",children:"Delete"})]})]},P.id)}),T.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-400",children:'No quotas configured. Click "Add Quota" to create one.'})})]})]})]}),z&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:w?"Edit Quota":"Add New Quota"}),l.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx("span",{className:"material-icons-round",children:"close"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Amount (INR)"}),l.jsx("input",{type:"number",value:E.amount,onChange:P=>S({...E,amount:P.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Income Percentage (%)"}),l.jsx("input",{type:"number",step:"0.01",value:E.percent,onChange:P=>S({...E,percent:P.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 3.00"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Activity Bonus (INR)"}),l.jsx("input",{type:"number",step:"0.01",value:E.activity,onChange:P=>S({...E,activity:P.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 6.00"})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Income:"}),l.jsxs("span",{className:"font-bold text-green-600",children:["",((parseFloat(E.amount)||0)*(parseFloat(E.percent)||0)/100).toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[l.jsx("span",{children:"Total Quota:"}),l.jsxs("span",{className:"font-bold text-blue-600",children:["",((parseFloat(E.amount)||0)+(parseFloat(E.amount)||0)*(parseFloat(E.percent)||0)/100+(parseFloat(E.activity)||0)).toFixed(2)]})]})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>B(!1),className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded-lg font-bold hover:bg-gray-200",children:"Cancel"}),l.jsx("button",{onClick:q,className:"flex-1 bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700",children:w?"Save Changes":"Add Quota"})]})]})})]}),Rn=async()=>{if(confirm(" WARNING: This will clear ALL transactions (deposits, withdrawals). Users will NOT be affected. Are you absolutely sure?")&&confirm("This action cannot be undone. Type your mouse to confirm."))try{const P=await P3();alert(`Successfully cleared ${P.clearedCount} transactions!`),A()}catch(P){console.error("Clear data error:",P),alert("Failed to clear data: "+P.message)}},ht=()=>l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:"System Configuration"}),l.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-bold text-gray-800 block",children:"Maintenance Mode"}),l.jsx("span",{className:"text-xs text-gray-500",children:"When active, users cannot access the app."})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:y.maintenanceMode,onChange:P=>R({...y,maintenanceMode:P.target.checked}),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsx("div",{className:"space-y-4 mb-6",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Global USDT Rate (INR)"}),l.jsx("input",{type:"number",value:y.usdtRate,onChange:P=>R({...y,usdtRate:parseFloat(P.target.value)}),className:"w-full border-gray-300 rounded-lg"})]})}),l.jsxs("div",{className:"border-t pt-6 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"material-icons-round text-green-600",children:"currency_rupee"}),l.jsx("h4",{className:"text-md font-bold text-gray-800",children:"INR Deposit Settings"}),l.jsx("span",{className:"bg-green-100 text-green-700 text-xs font-bold px-2 py-0.5 rounded",children:"For INR Deposits"})]}),l.jsxs("div",{className:"space-y-4 bg-green-50 p-4 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Admin UPI ID (Deposit)"}),l.jsx("input",{type:"text",value:y.adminUpi,onChange:P=>R({...y,adminUpi:P.target.value}),className:"w-full border-gray-300 rounded-lg",placeholder:"example@upi"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"QR Code Data/URL"}),l.jsx("input",{type:"text",value:y.adminQrCode,onChange:P=>R({...y,adminQrCode:P.target.value}),className:"w-full border-gray-300 rounded-lg",placeholder:"https://..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Direct image URL or QR generator URL for INR payments"})]})]})]}),l.jsxs("div",{className:"border-t pt-6 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"material-icons-round text-blue-600",children:"currency_bitcoin"}),l.jsx("h4",{className:"text-md font-bold text-gray-800",children:"USDT Deposit Settings"}),l.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs font-bold px-2 py-0.5 rounded",children:"For USDT Deposits"})]}),l.jsxs("div",{className:"space-y-4 bg-blue-50 p-4 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"TRC20 Address (TRON)"}),l.jsx("input",{type:"text",value:y.usdtTrc20Address,onChange:P=>R({...y,usdtTrc20Address:P.target.value}),className:"w-full border-gray-300 rounded-lg font-mono text-sm",placeholder:"T..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your TRON TRC20 wallet address for receiving USDT"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"USDT QR Code URL (Optional)"}),l.jsx("input",{type:"text",value:y.usdtQrCode,onChange:P=>R({...y,usdtQrCode:P.target.value}),className:"w-full border-gray-300 rounded-lg",placeholder:"https://..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to auto-generate from TRC20 address"})]})]})]}),l.jsxs("div",{className:"border-t pt-6 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"material-icons-round text-orange-600",children:"support_agent"}),l.jsx("h4",{className:"text-md font-bold text-gray-800",children:"Customer Support"}),l.jsx("span",{className:"bg-orange-100 text-orange-700 text-xs font-bold px-2 py-0.5 rounded",children:"Support Settings"})]}),l.jsx("div",{className:"space-y-4 bg-orange-50 p-4 rounded-lg",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Telegram Support Link"}),l.jsx("input",{type:"text",value:y.telegramSupportLink||"",onChange:P=>R({...y,telegramSupportLink:P.target.value}),className:"w-full border-gray-300 rounded-lg",placeholder:"https://t.me/your_support"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Link to your Telegram support channel or bot"})]})})]}),l.jsx("div",{className:"mt-6",children:l.jsx("button",{onClick:we,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700",children:"Save System Settings"})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border-2 border-purple-200",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"material-icons-round text-purple-600",children:"admin_panel_settings"}),l.jsx("h3",{className:"text-lg font-bold text-purple-700",children:"Admin Account"})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Update admin login credentials. After changing, you will need to log in with new credentials."}),l.jsxs("div",{className:"space-y-4 bg-purple-50 p-4 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Admin Email"}),l.jsx("input",{type:"email",value:y.adminEmail,onChange:P=>R({...y,adminEmail:P.target.value}),className:"w-full border-gray-300 rounded-lg",placeholder:"admin@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"New Password"}),l.jsx("input",{type:"password",value:j,onChange:P=>O(P.target.value),className:"w-full border-gray-300 rounded-lg",placeholder:"Enter new password"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Confirm Password"}),l.jsx("input",{type:"password",value:b,onChange:P=>_(P.target.value),className:"w-full border-gray-300 rounded-lg",placeholder:"Confirm new password"})]}),l.jsxs("button",{onClick:async()=>{if(j&&j!==b){alert("Passwords do not match!");return}const P={adminEmail:y.adminEmail};j&&(P.adminPassword=j),await xc(P),alert("Admin credentials updated! Please log out and log in with new credentials."),O(""),_("")},className:"w-full bg-purple-600 text-white font-bold py-3 rounded-lg hover:bg-purple-700 flex items-center justify-center gap-2",children:[l.jsx("span",{className:"material-icons-round text-sm",children:"save"}),"Update Admin Credentials"]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border-2 border-red-200",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"material-icons-round text-red-600",children:"warning"}),l.jsx("h3",{className:"text-lg font-bold text-red-700",children:"Danger Zone"})]}),l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Clear all admin panel data including deposit requests, withdrawal requests, and transaction history.",l.jsx("strong",{className:"text-red-600",children:" User accounts will NOT be deleted."})]}),l.jsxs("button",{onClick:Rn,className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 flex items-center justify-center gap-2",children:[l.jsx("span",{className:"material-icons-round text-sm",children:"delete_forever"}),"Clear All Transaction Data"]})]})]}),en=[{id:"DASHBOARD",icon:"dashboard",label:"Overview"},{id:"DEPOSITS",icon:"payments",label:"Deposits (INR)"},{id:"WITHDRAWALS",icon:"account_balance_wallet",label:"Withdrawals"},{id:"USERS",icon:"people",label:"User Management"},{id:"QUOTAS",icon:"price_change",label:"INR Quotas"},{id:"SETTINGS",icon:"settings",label:"System Settings"}];return l.jsxs("div",{className:"min-h-screen flex bg-gray-100 font-sans",children:[l.jsxs("div",{className:"w-64 bg-slate-900 text-white flex-shrink-0 hidden md:flex md:flex-col",children:[l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-xl font-bold tracking-wider",children:"ADMIN PANEL"}),l.jsx("p",{className:"text-xs text-slate-400",children:"UMoney Management"})]}),l.jsx("nav",{className:"px-2 space-y-1 flex-1",children:en.map(P=>l.jsxs("button",{onClick:()=>n(P.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${e===P.id?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-800"}`,children:[l.jsx("span",{className:"material-icons-round",children:P.icon}),l.jsx("span",{className:"font-medium",children:P.label})]},P.id))}),l.jsx("div",{className:"p-4",children:l.jsxs("button",{onClick:()=>Gu(),className:"w-full flex items-center justify-center space-x-2 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg text-sm font-bold",children:[l.jsx("span",{className:"material-icons-round text-sm",children:"logout"}),l.jsx("span",{children:"Sign Out"})]})})]}),s&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>i(!1)}),l.jsxs("div",{className:`fixed inset-y-0 left-0 w-72 bg-slate-900 text-white z-50 transform transition-transform duration-300 ease-in-out md:hidden ${s?"translate-x-0":"-translate-x-full"}`,children:[l.jsxs("div",{className:"p-6 flex justify-between items-center border-b border-slate-800",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-bold tracking-wider",children:"ADMIN PANEL"}),l.jsx("p",{className:"text-xs text-slate-400",children:"UMoney Management"})]}),l.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-slate-800 rounded-lg",children:l.jsx("span",{className:"material-icons-round",children:"close"})})]}),l.jsx("nav",{className:"px-2 py-4 space-y-1",children:en.map(P=>l.jsxs("button",{onClick:()=>{n(P.id),i(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${e===P.id?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-800"}`,children:[l.jsx("span",{className:"material-icons-round",children:P.icon}),l.jsx("span",{className:"font-medium",children:P.label})]},P.id))}),l.jsx("div",{className:"p-4 absolute bottom-0 left-0 right-0 border-t border-slate-800",children:l.jsxs("button",{onClick:()=>Gu(),className:"w-full flex items-center justify-center space-x-2 bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg text-sm font-bold",children:[l.jsx("span",{className:"material-icons-round text-sm",children:"logout"}),l.jsx("span",{children:"Sign Out"})]})})]}),l.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[l.jsxs("header",{className:"bg-white shadow-sm z-10 p-4 flex justify-between items-center md:hidden",children:[l.jsx("button",{onClick:()=>i(!0),className:"p-2 hover:bg-gray-100 rounded-lg",children:l.jsx("span",{className:"material-icons-round text-gray-700",children:"menu"})}),l.jsx("span",{className:"font-bold text-gray-800",children:"Admin Panel"}),l.jsx("button",{onClick:A,className:"p-2 hover:bg-gray-100 rounded-lg",children:l.jsx("span",{className:`material-icons-round text-blue-600 ${h?"animate-spin":""}`,children:"refresh"})})]}),l.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 capitalize",children:e==="USERS"?"User Management":e==="QUOTAS"?"INR Quotas":e.replace("_"," ").toLowerCase()}),l.jsx("button",{onClick:A,className:"p-2 bg-white rounded-full shadow-sm hover:bg-gray-50 hidden md:block",children:l.jsx("span",{className:`material-icons-round text-blue-600 ${h?"animate-spin":""}`,children:"refresh"})})]}),e==="DASHBOARD"&&ye(),e==="DEPOSITS"&&Re("DEPOSIT"),e==="WITHDRAWALS"&&Re("WITHDRAW"),e==="USERS"&&gn(),e==="QUOTAS"&&yn(),e==="SETTINGS"&&ht()]})]})]})},nk=()=>{const{userProfile:t}=Ss(),e=hr(),[n,s]=C.useState({accountHolder:"",bankName:"",accountNumber:"",ifscCode:""}),[i,r]=C.useState(""),[a,c]=C.useState(!1),[u,h]=C.useState(""),[f,m]=C.useState(!1),p=(t==null?void 0:t.inrBalance)||0,y=100,R=5e4,j=[100,500,1e3,2e3,5e3,1e4],O=async b=>{if(b.preventDefault(),h(""),!t){h("You must be logged in to make a withdrawal.");return}const _=parseFloat(i);if(!_||_<=0){h("Please enter a valid amount.");return}if(_<y){h(`Minimum withdrawal is ${y}`);return}if(_>R){h(`Maximum withdrawal is ${R}`);return}if(_>p){h("Insufficient balance in your wallet.");return}if(!n.accountHolder||!n.bankName||!n.accountNumber||!n.ifscCode){h("Please fill in all bank details.");return}c(!0);try{const T={userId:t.uid,type:"WITHDRAW",amount:_,status:"PENDING",date:null,description:`Withdrawal to ${n.bankName} - ${n.accountNumber.slice(-4)}`,bankDetails:n};await Nm(T),m(!0),r(""),s({accountHolder:"",bankName:"",accountNumber:"",ifscCode:""})}catch(T){console.error("Withdrawal error:",T),h("Error processing withdrawal. Please try again.")}finally{c(!1)}};return t?l.jsxs("div",{className:"min-h-screen bg-[#f3f4f8] font-sans pb-24",children:[l.jsxs("header",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 pt-12 pb-8 px-5 rounded-b-[2rem] shadow-lg",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("button",{onClick:()=>e(-1),className:"mr-4 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:l.jsx("span",{className:"material-icons-round text-white",children:"arrow_back"})}),l.jsx("h1",{className:"text-white text-xl font-bold tracking-wide",children:"Withdraw Funds"})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-5 border border-white/20",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide mb-1",children:"Available Balance"}),l.jsxs("p",{className:"text-white text-3xl font-bold",children:["",p.toFixed(2)]})]}),l.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"material-icons-round text-white text-2xl",children:"account_balance_wallet"})})]}),l.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-white/10 text-xs text-white/70",children:[l.jsxs("span",{children:["Min: ",y]}),l.jsx("span",{children:""}),l.jsxs("span",{children:["Max: ",R]}),l.jsx("span",{children:""}),l.jsx("span",{children:"Fee: 0%"})]})]})]}),l.jsxs("main",{className:"px-4 -mt-4",children:[u&&l.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl mb-4 flex items-center gap-2 animate-shake",children:[l.jsx("span",{className:"material-icons-round text-sm",children:"error"}),l.jsx("span",{className:"text-sm font-medium",children:u})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-5 mb-4",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-3",children:"Withdrawal Amount"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-gray-400",children:""}),l.jsx("input",{type:"number",value:i,onChange:b=>r(b.target.value),className:"w-full bg-gray-50 border-2 border-gray-100 rounded-xl py-4 pl-12 pr-4 text-2xl font-bold text-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"0.00"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[j.map(b=>l.jsxs("button",{onClick:()=>r(b.toString()),disabled:b>p,className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${parseFloat(i)===b?"bg-blue-600 text-white shadow-md":b>p?"bg-gray-100 text-gray-300 cursor-not-allowed":"bg-gray-100 text-gray-600 hover:bg-blue-50 hover:text-blue-600"}`,children:["",b.toLocaleString()]},b)),l.jsx("button",{onClick:()=>r(p.toString()),disabled:p<y,className:"px-4 py-2 rounded-lg text-sm font-bold bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:shadow-md transition-all disabled:opacity-50",children:"MAX"})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-5 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"material-icons-round text-blue-600",children:"account_balance"}),l.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Bank Account Details"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Account Holder Name"}),l.jsx("input",{type:"text",value:n.accountHolder,onChange:b=>s({...n,accountHolder:b.target.value}),className:"w-full bg-gray-50 border-2 border-gray-100 rounded-xl px-4 py-3 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Enter full name as per bank"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Bank Name"}),l.jsx("input",{type:"text",value:n.bankName,onChange:b=>s({...n,bankName:b.target.value}),className:"w-full bg-gray-50 border-2 border-gray-100 rounded-xl px-4 py-3 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"e.g. State Bank of India"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Account Number"}),l.jsx("input",{type:"text",value:n.accountNumber,onChange:b=>s({...n,accountNumber:b.target.value}),className:"w-full bg-gray-50 border-2 border-gray-100 rounded-xl px-4 py-3 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Account number"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"IFSC Code"}),l.jsx("input",{type:"text",value:n.ifscCode,onChange:b=>s({...n,ifscCode:b.target.value.toUpperCase()}),className:"w-full bg-gray-50 border-2 border-gray-100 rounded-xl px-4 py-3 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all font-mono",placeholder:"SBIN0001234"})]})]})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-2xl p-4 mb-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"material-icons-round text-amber-500 mt-0.5",children:"info"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-bold text-amber-800 mb-1",children:"Processing Time"}),l.jsx("p",{className:"text-xs text-amber-700 leading-relaxed",children:"Withdrawal requests are processed within 24-48 hours after admin approval. Ensure your bank details are correct to avoid delays."})]})]})}),l.jsx("button",{onClick:O,disabled:a||!i||parseFloat(i)<=0,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white font-bold py-4 rounded-2xl shadow-lg hover:shadow-xl transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),l.jsx("span",{children:"Processing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"material-icons-round",children:"send"}),l.jsx("span",{children:"Submit Withdrawal Request"})]})})]}),f&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:l.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl p-8 shadow-2xl text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("span",{className:"material-icons-round text-4xl text-green-600",children:"check_circle"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Request Submitted!"}),l.jsx("p",{className:"text-gray-500 mb-6 leading-relaxed",children:"Your withdrawal request has been submitted successfully. Admin will review and process it within 24-48 hours."}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 text-left",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{className:"text-gray-500",children:"Amount"}),l.jsxs("span",{className:"font-bold text-gray-800",children:["",parseFloat(i||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:"Status"}),l.jsx("span",{className:"text-orange-500 font-bold",children:"Pending Approval"})]})]}),l.jsx("button",{onClick:()=>{m(!1),e("/")},className:"w-full py-3.5 bg-blue-600 text-white rounded-xl font-bold shadow-lg hover:bg-blue-700 transition-colors",children:"Done"})]})})]}):l.jsx("div",{className:"min-h-screen bg-[#f3f4f8] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("span",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin inline-block mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading..."})]})})},sk=()=>l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-4xl w-full bg-white rounded-2xl shadow-2xl overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-8 text-white",children:l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("span",{className:"material-icons-round text-5xl mr-4",children:"settings"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Firebase Setup Required"}),l.jsx("p",{className:"text-blue-100 mt-1",children:"Configure your Firebase project to get started"})]})]})}),l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3",children:"1"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Create Firebase Project"})]}),l.jsxs("div",{className:"ml-11 space-y-2 text-gray-600",children:[l.jsxs("p",{children:[" Go to ",l.jsx("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Firebase Console"})]}),l.jsx("p",{children:' Click "Add project" and follow the setup wizard'}),l.jsx("p",{children:' Give your project a name (e.g., "UMoney")'})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3",children:"2"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Enable Required Services"})]}),l.jsxs("div",{className:"ml-11 space-y-3",children:[l.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded",children:[l.jsx("p",{className:"font-semibold text-amber-800 mb-2",children:" Authentication"}),l.jsx("p",{className:"text-sm text-amber-700",children:'Go to Authentication  Sign-in method  Enable "Email/Password"'})]}),l.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded",children:[l.jsx("p",{className:"font-semibold text-green-800 mb-2",children:" Firestore Database"}),l.jsx("p",{className:"text-sm text-green-700",children:"Go to Firestore Database  Create database  Start in production mode"})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3",children:"3"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Get Configuration"})]}),l.jsxs("div",{className:"ml-11 space-y-2 text-gray-600",children:[l.jsx("p",{children:" Go to Project Settings ( icon)  General"}),l.jsx("p",{children:' Scroll to "Your apps" section'}),l.jsx("p",{children:" Click the Web icon (</>) to add a web app"}),l.jsx("p",{children:" Copy the firebaseConfig object"})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3",children:"4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Update .env File"})]}),l.jsxs("div",{className:"ml-11",children:[l.jsxs("p",{className:"text-gray-600 mb-3",children:["Open the ",l.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm font-mono",children:".env"})," file in your project root and update with your values:"]}),l.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-sm overflow-x-auto",children:[l.jsx("div",{className:"text-gray-400",children:"# Replace these with your actual Firebase config"}),l.jsx("div",{className:"text-green-400",children:"VITE_FIREBASE_API_KEY="}),l.jsx("div",{className:"text-green-400",children:"VITE_FIREBASE_AUTH_DOMAIN="}),l.jsx("div",{className:"text-green-400",children:"VITE_FIREBASE_PROJECT_ID="}),l.jsx("div",{className:"text-green-400",children:"VITE_FIREBASE_STORAGE_BUCKET="}),l.jsx("div",{className:"text-green-400",children:"VITE_FIREBASE_MESSAGING_SENDER_ID="}),l.jsx("div",{className:"text-green-400",children:"VITE_FIREBASE_APP_ID="})]})]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("span",{className:"material-icons-round text-blue-600 mr-3",children:"info"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"After Configuration"}),l.jsx("p",{className:"text-blue-800 text-sm",children:"Save the .env file and the development server will automatically reload. The white screen will be replaced with the login page."})]})]})})]}),l.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["Need help? Check the ",l.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded text-xs",children:"README.md"})," file"]}),l.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:[l.jsx("span",{className:"material-icons-round text-sm",children:"refresh"}),"Reload Page"]})]})})]})});class ik extends eb.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n),this.state={hasError:!0,error:e,errorInfo:n}}render(){var e;if(this.state.hasError){const n=((e=this.state.error)==null?void 0:e.toString())||"";return n.includes("Firebase")||n.includes("auth")||n.includes("firestore")||n.includes("apiKey")||!1||!1?l.jsx(sk,{}):l.jsx("div",{className:"min-h-screen bg-brand-bg flex flex-col items-center justify-center p-6",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-2xl w-full",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("span",{className:"material-icons-round text-5xl text-red-500 mr-4",children:"error"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Application Error"})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-4 mb-4",children:[l.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Error Details:"}),l.jsx("pre",{className:"text-sm text-red-700 overflow-auto whitespace-pre-wrap",children:this.state.error&&this.state.error.toString()})]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Reload Application"})]})})}return this.props.children}}const rk=()=>{const e=qn().pathname.split("/")[1]||"home";return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pb-20",children:l.jsx(pC,{})}),l.jsx(z3,{currentTab:e})]})},ak=()=>{const{currentUser:t,loading:e,isAdmin:n,systemSettings:s}=Ss(),[i,r]=C.useState({todayDeposit:0,totalDeposit:0,totalCommission:0,commissionYesterday:0,teamCount:0,commissionToday:0,todayNewTeam:0}),[a,c]=C.useState([]);return C.useEffect(()=>{t&&!n&&(async()=>{if(!(!t||n))try{const h=await V3(t.uid);r(h.stats),c(h.members)}catch(h){console.error("Error fetching team data",h)}})()},[t,n]),e?l.jsx("div",{className:"flex h-screen items-center justify-center bg-[#f3f4f8]",children:"Loading..."}):s!=null&&s.maintenanceMode&&!n?l.jsxs("div",{className:"min-h-screen bg-brand-bg flex flex-col items-center justify-center p-6 text-center",children:[l.jsx("span",{className:"material-icons-round text-6xl text-orange-500 mb-4",children:"engineering"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Under Maintenance"}),l.jsx("p",{className:"text-gray-600",children:"We are currently upgrading our systems. Please check back later."})]}):l.jsx(yC,{children:t?n?l.jsx(zt,{path:"*",element:l.jsx(tk,{})}):l.jsxs(zt,{element:l.jsx(rk,{}),children:[l.jsx(zt,{index:!0,element:l.jsx(Fd,{to:"/home"})}),l.jsx(zt,{path:"home",element:l.jsx(K3,{})}),l.jsx(zt,{path:"deposit",element:l.jsx($3,{})}),l.jsx(zt,{path:"tool",element:l.jsx(W3,{})}),l.jsx(zt,{path:"teams",element:l.jsx(Y3,{stats:i,members:a})}),l.jsx(zt,{path:"assets",element:l.jsx(ek,{})}),l.jsx(zt,{path:"withdraw",element:l.jsx(nk,{})}),l.jsx(zt,{path:"*",element:l.jsx(Fd,{to:"/home"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(zt,{path:"/login",element:l.jsx(L3,{})}),l.jsx(zt,{path:"*",element:l.jsx(Fd,{to:"/login"})})]})})},lk=()=>l.jsx(ik,{children:l.jsx(FC,{children:l.jsx(U3,{children:l.jsx(ak,{})})})}),QS=document.getElementById("root");if(!QS)throw new Error("Could not find root element to mount to");const ok=yR.createRoot(QS);ok.render(l.jsx(eb.StrictMode,{children:l.jsx(lk,{})}));
