(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function P_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U_={exports:{}},Hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1=Symbol.for("react.transitional.element"),m1=Symbol.for("react.fragment");function L_(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:f1,type:t,key:s,ref:e!==void 0?e:null,props:n}}Hu.Fragment=m1;Hu.jsx=L_;Hu.jsxs=L_;U_.exports=Hu;var c=U_.exports,z_={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=Symbol.for("react.transitional.element"),p1=Symbol.for("react.portal"),g1=Symbol.for("react.fragment"),y1=Symbol.for("react.strict_mode"),v1=Symbol.for("react.profiler"),_1=Symbol.for("react.consumer"),b1=Symbol.for("react.context"),x1=Symbol.for("react.forward_ref"),E1=Symbol.for("react.suspense"),T1=Symbol.for("react.memo"),B_=Symbol.for("react.lazy"),w1=Symbol.for("react.activity"),Sy=Symbol.iterator;function S1(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var H_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q_=Object.assign,F_={};function pa(t,e,n){this.props=t,this.context=e,this.refs=F_,this.updater=n||H_}pa.prototype.isReactComponent={};pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function G_(){}G_.prototype=pa.prototype;function Tm(t,e,n){this.props=t,this.context=e,this.refs=F_,this.updater=n||H_}var wm=Tm.prototype=new G_;wm.constructor=Tm;q_(wm,pa.prototype);wm.isPureReactComponent=!0;var Ay=Array.isArray;function Wd(){}var Ce={H:null,A:null,T:null,S:null},Y_=Object.prototype.hasOwnProperty;function Sm(t,e,n){var s=n.ref;return{$$typeof:Em,type:t,key:e,ref:s!==void 0?s:null,props:n}}function A1(t,e){return Sm(t.type,e,t.props)}function Am(t){return typeof t=="object"&&t!==null&&t.$$typeof===Em}function N1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ny=/\/+/g;function Jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?N1(""+t.key):e.toString(36)}function R1(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Wd,Wd):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function gr(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Em:case p1:a=!0;break;case B_:return a=t._init,gr(a(t._payload),e,n,s,i)}}if(a)return i=i(t),a=s===""?"."+Jh(t,0):s,Ay(i)?(n="",a!=null&&(n=a.replace(Ny,"$&/")+"/"),gr(i,e,n,"",function(h){return h})):i!=null&&(Am(i)&&(i=A1(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(Ny,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=s===""?".":s+":";if(Ay(t))for(var u=0;u<t.length;u++)s=t[u],r=o+Jh(s,u),a+=gr(s,e,n,r,i);else if(u=S1(t),typeof u=="function")for(t=u.call(t),u=0;!(s=t.next()).done;)s=s.value,r=o+Jh(s,u++),a+=gr(s,e,n,r,i);else if(r==="object"){if(typeof t.then=="function")return gr(R1(t),e,n,s,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Yo(t,e,n){if(t==null)return t;var s=[],i=0;return gr(t,s,"","",function(r){return e.call(n,r,i++)}),s}function C1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ry=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},I1={map:Yo,forEach:function(t,e,n){Yo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yo(t,function(){e++}),e},toArray:function(t){return Yo(t,function(e){return e})||[]},only:function(t){if(!Am(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Activity=w1;Z.Children=I1;Z.Component=pa;Z.Fragment=g1;Z.Profiler=v1;Z.PureComponent=Tm;Z.StrictMode=y1;Z.Suspense=E1;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ce;Z.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ce.H.useMemoCache(t)}};Z.cache=function(t){return function(){return t.apply(null,arguments)}};Z.cacheSignal=function(){return null};Z.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=q_({},t.props),i=t.key;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)!Y_.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(s[r]=e[r]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var a=Array(r),o=0;o<r;o++)a[o]=arguments[o+2];s.children=a}return Sm(t.type,i,s)};Z.createContext=function(t){return t={$$typeof:b1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:_1,_context:t},t};Z.createElement=function(t,e,n){var s,i={},r=null;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)Y_.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];i.children=o}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return Sm(t,r,i)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:x1,render:t}};Z.isValidElement=Am;Z.lazy=function(t){return{$$typeof:B_,_payload:{_status:-1,_result:t},_init:C1}};Z.memo=function(t,e){return{$$typeof:T1,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Ce.T,n={};Ce.T=n;try{var s=t(),i=Ce.S;i!==null&&i(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(Wd,Ry)}catch(r){Ry(r)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ce.T=e}};Z.unstable_useCacheRefresh=function(){return Ce.H.useCacheRefresh()};Z.use=function(t){return Ce.H.use(t)};Z.useActionState=function(t,e,n){return Ce.H.useActionState(t,e,n)};Z.useCallback=function(t,e){return Ce.H.useCallback(t,e)};Z.useContext=function(t){return Ce.H.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t,e){return Ce.H.useDeferredValue(t,e)};Z.useEffect=function(t,e){return Ce.H.useEffect(t,e)};Z.useEffectEvent=function(t){return Ce.H.useEffectEvent(t)};Z.useId=function(){return Ce.H.useId()};Z.useImperativeHandle=function(t,e,n){return Ce.H.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return Ce.H.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return Ce.H.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return Ce.H.useMemo(t,e)};Z.useOptimistic=function(t,e){return Ce.H.useOptimistic(t,e)};Z.useReducer=function(t,e,n){return Ce.H.useReducer(t,e,n)};Z.useRef=function(t){return Ce.H.useRef(t)};Z.useState=function(t){return Ce.H.useState(t)};Z.useSyncExternalStore=function(t,e,n){return Ce.H.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return Ce.H.useTransition()};Z.version="19.2.3";z_.exports=Z;var I=z_.exports;const Q_=P_(I);var K_={exports:{}},qu={},$_={exports:{}},X_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,te){var X=H.length;H.push(te);e:for(;0<X;){var ye=X-1>>>1,Me=H[ye];if(0<i(Me,te))H[ye]=te,H[X]=Me,X=ye;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var te=H[0],X=H.pop();if(X!==te){H[0]=X;e:for(var ye=0,Me=H.length,zn=Me>>>1;ye<zn;){var bn=2*(ye+1)-1,Ei=H[bn],St=bn+1,xn=H[St];if(0>i(Ei,X))St<Me&&0>i(xn,Ei)?(H[ye]=xn,H[St]=X,ye=St):(H[ye]=Ei,H[bn]=X,ye=bn);else if(St<Me&&0>i(xn,X))H[ye]=xn,H[St]=X,ye=St;else break e}}return te}function i(H,te){var X=H.sortIndex-te.sortIndex;return X!==0?X:H.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],h=[],f=1,m=null,g=3,y=!1,C=!1,D=!1,O=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function j(H){for(var te=n(h);te!==null;){if(te.callback===null)s(h);else if(te.startTime<=H)s(h),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(h)}}function U(H){if(D=!1,j(H),!C)if(n(u)!==null)C=!0,z||(z=!0,R());else{var te=n(h);te!==null&&Ee(U,te.startTime-H)}}var z=!1,w=-1,x=5,S=-1;function E(){return O?!0:!(t.unstable_now()-S<x)}function N(){if(O=!1,z){var H=t.unstable_now();S=H;var te=!0;try{e:{C=!1,D&&(D=!1,b(w),w=-1),y=!0;var X=g;try{t:{for(j(H),m=n(u);m!==null&&!(m.expirationTime>H&&E());){var ye=m.callback;if(typeof ye=="function"){m.callback=null,g=m.priorityLevel;var Me=ye(m.expirationTime<=H);if(H=t.unstable_now(),typeof Me=="function"){m.callback=Me,j(H),te=!0;break t}m===n(u)&&s(u),j(H)}else s(u);m=n(u)}if(m!==null)te=!0;else{var zn=n(h);zn!==null&&Ee(U,zn.startTime-H),te=!1}}break e}finally{m=null,g=X,y=!1}te=void 0}}finally{te?R():z=!1}}}var R;if(typeof T=="function")R=function(){T(N)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,G=A.port2;A.port1.onmessage=N,R=function(){G.postMessage(null)}}else R=function(){_(N,0)};function Ee(H,te){w=_(function(){H(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var X=g;g=te;try{return H()}finally{g=X}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=g;g=H;try{return te()}finally{g=X}},t.unstable_scheduleCallback=function(H,te,X){var ye=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ye+X:ye):X=ye,H){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=X+Me,H={id:f++,callback:te,priorityLevel:H,startTime:X,expirationTime:Me,sortIndex:-1},X>ye?(H.sortIndex=X,e(h,H),n(u)===null&&H===n(h)&&(D?(b(w),w=-1):D=!0,Ee(U,X-ye))):(H.sortIndex=Me,e(u,H),C||y||(C=!0,z||(z=!0,R()))),H},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(H){var te=g;return function(){var X=g;g=te;try{return H.apply(this,arguments)}finally{g=X}}}})(X_);$_.exports=X_;var D1=$_.exports,W_={exports:{}},wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1=I;function J_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function As(){}var Tt={d:{f:As,r:function(){throw Error(J_(522))},D:As,C:As,L:As,m:As,X:As,S:As,M:As},p:0,findDOMNode:null},O1=Symbol.for("react.portal");function M1(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O1,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var gl=j1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Fu(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt;wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(J_(299));return M1(t,e,null,n)};wt.flushSync=function(t){var e=gl.T,n=Tt.p;try{if(gl.T=null,Tt.p=2,t)return t()}finally{gl.T=e,Tt.p=n,Tt.d.f()}};wt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Tt.d.C(t,e))};wt.prefetchDNS=function(t){typeof t=="string"&&Tt.d.D(t)};wt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=Fu(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Tt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:i,fetchPriority:r}):n==="script"&&Tt.d.X(t,{crossOrigin:s,integrity:i,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};wt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Fu(e.as,e.crossOrigin);Tt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Tt.d.M(t)};wt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=Fu(n,e.crossOrigin);Tt.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};wt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Fu(e.as,e.crossOrigin);Tt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Tt.d.m(t)};wt.requestFormReset=function(t){Tt.d.r(t)};wt.unstable_batchedUpdates=function(t,e){return t(e)};wt.useFormState=function(t,e,n){return gl.H.useFormState(t,e,n)};wt.useFormStatus=function(){return gl.H.useHostTransitionStatus()};wt.version="19.2.3";function Z_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z_)}catch(t){console.error(t)}}Z_(),W_.exports=wt;var V1=W_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var et=D1,eb=I,k1=V1;function P(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function tb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sb(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cy(t){if(lo(t)!==t)throw Error(P(188))}function P1(t){var e=t.alternate;if(!e){if(e=lo(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Cy(i),t;if(r===s)return Cy(i),e;r=r.sibling}throw Error(P(188))}if(n.return!==s.return)n=i,s=r;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,s=r;break}if(o===s){a=!0,s=i,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,s=i;break}if(o===s){a=!0,s=r,n=i;break}o=o.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==s)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function ib(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=ib(t),e!==null)return e;t=t.sibling}return null}var Ie=Object.assign,U1=Symbol.for("react.element"),Qo=Symbol.for("react.transitional.element"),rl=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),rb=Symbol.for("react.strict_mode"),Jd=Symbol.for("react.profiler"),ab=Symbol.for("react.consumer"),Kn=Symbol.for("react.context"),Nm=Symbol.for("react.forward_ref"),Zd=Symbol.for("react.suspense"),ef=Symbol.for("react.suspense_list"),Rm=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),tf=Symbol.for("react.activity"),L1=Symbol.for("react.memo_cache_sentinel"),Iy=Symbol.iterator;function Xa(t){return t===null||typeof t!="object"?null:(t=Iy&&t[Iy]||t["@@iterator"],typeof t=="function"?t:null)}var z1=Symbol.for("react.client.reference");function nf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===z1?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tr:return"Fragment";case Jd:return"Profiler";case rb:return"StrictMode";case Zd:return"Suspense";case ef:return"SuspenseList";case tf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case rl:return"Portal";case Kn:return t.displayName||"Context";case ab:return(t._context.displayName||"Context")+".Consumer";case Nm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rm:return e=t.displayName||null,e!==null?e:nf(t.type)||"Memo";case Rs:e=t._payload,t=t._init;try{return nf(t(e))}catch{}}return null}var al=Array.isArray,$=eb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=k1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ki={pending:!1,data:null,method:null,action:null},sf=[],wr=-1;function kn(t){return{current:t}}function rt(t){0>wr||(t.current=sf[wr],sf[wr]=null,wr--)}function we(t,e){wr++,sf[wr]=t.current,t.current=e}var Rn=kn(null),kl=kn(null),Fs=kn(null),Hc=kn(null);function qc(t,e){switch(we(Fs,e),we(kl,t),we(Rn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?k0(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=k0(e),t=AE(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}rt(Rn),we(Rn,t)}function Xr(){rt(Rn),rt(kl),rt(Fs)}function rf(t){t.memoizedState!==null&&we(Hc,t);var e=Rn.current,n=AE(e,t.type);e!==n&&(we(kl,t),we(Rn,n))}function Fc(t){kl.current===t&&(rt(Rn),rt(kl)),Hc.current===t&&(rt(Hc),Ql._currentValue=ki)}var Zh,Dy;function Ii(t){if(Zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zh=e&&e[1]||"",Dy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zh+t+Dy}var ed=!1;function td(t,e){if(!t||ed)return"";ed=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(y){var g=y}Reflect.construct(t,[],m)}else{try{m.call()}catch(y){g=y}t.call(m.prototype)}}else{try{throw Error()}catch(y){g=y}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(y){if(y&&g&&typeof y.stack=="string")return[y.stack,g.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var u=a.split(`
`),h=o.split(`
`);for(i=s=0;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;for(;i<h.length&&!h[i].includes("DetermineComponentFrameRoot");)i++;if(s===u.length||i===h.length)for(s=u.length-1,i=h.length-1;1<=s&&0<=i&&u[s]!==h[i];)i--;for(;1<=s&&0<=i;s--,i--)if(u[s]!==h[i]){if(s!==1||i!==1)do if(s--,i--,0>i||u[s]!==h[i]){var f=`
`+u[s].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=s&&0<=i);break}}}finally{ed=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ii(n):""}function B1(t,e){switch(t.tag){case 26:case 27:case 5:return Ii(t.type);case 16:return Ii("Lazy");case 13:return t.child!==e&&e!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return td(t.type,!1);case 11:return td(t.type.render,!1);case 1:return td(t.type,!0);case 31:return Ii("Activity");default:return""}}function jy(t){try{var e="",n=null;do e+=B1(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var af=Object.prototype.hasOwnProperty,Cm=et.unstable_scheduleCallback,nd=et.unstable_cancelCallback,H1=et.unstable_shouldYield,q1=et.unstable_requestPaint,Ht=et.unstable_now,F1=et.unstable_getCurrentPriorityLevel,lb=et.unstable_ImmediatePriority,ob=et.unstable_UserBlockingPriority,Gc=et.unstable_NormalPriority,G1=et.unstable_LowPriority,cb=et.unstable_IdlePriority,Y1=et.log,Q1=et.unstable_setDisableYieldValue,oo=null,qt=null;function Us(t){if(typeof Y1=="function"&&Q1(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(oo,t)}catch{}}var Ft=Math.clz32?Math.clz32:X1,K1=Math.log,$1=Math.LN2;function X1(t){return t>>>=0,t===0?32:31-(K1(t)/$1|0)|0}var Ko=256,$o=262144,Xo=4194304;function Di(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gu(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var i=0,r=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=s&134217727;return o!==0?(s=o&~r,s!==0?i=Di(s):(a&=o,a!==0?i=Di(a):n||(n=o&~t,n!==0&&(i=Di(n))))):(o=s&~r,o!==0?i=Di(o):a!==0?i=Di(a):n||(n=s&~t,n!==0&&(i=Di(n)))),i===0?0:e!==0&&e!==i&&!(e&r)&&(r=i&-i,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:i}function co(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function W1(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ub(){var t=Xo;return Xo<<=1,!(Xo&62914560)&&(Xo=4194304),t}function sd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uo(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function J1(t,e,n,s,i,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-Ft(n),m=1<<f;o[f]=0,u[f]=-1;var g=h[f];if(g!==null)for(h[f]=null,f=0;f<g.length;f++){var y=g[f];y!==null&&(y.lane&=-536870913)}n&=~m}s!==0&&hb(t,s,0),r!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=r&~(a&~e))}function hb(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Ft(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function db(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Ft(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}function fb(t,e){var n=e&-e;return n=n&42?1:Im(n),n&(t.suspendedLanes|e)?0:n}function Im(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Dm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function mb(){var t=fe.p;return t!==0?t:(t=window.event,t===void 0?32:PE(t.type))}function Oy(t,e){var n=fe.p;try{return fe.p=t,e()}finally{fe.p=n}}var gi=Math.random().toString(36).slice(2),ot="__reactFiber$"+gi,Ot="__reactProps$"+gi,ga="__reactContainer$"+gi,lf="__reactEvents$"+gi,Z1="__reactListeners$"+gi,eA="__reactHandles$"+gi,My="__reactResources$"+gi,ho="__reactMarker$"+gi;function jm(t){delete t[ot],delete t[Ot],delete t[lf],delete t[Z1],delete t[eA]}function Sr(t){var e=t[ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ga]||n[ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=B0(t);t!==null;){if(n=t[ot])return n;t=B0(t)}return e}t=n,n=t.parentNode}return null}function ya(t){if(t=t[ot]||t[ga]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function ll(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(P(33))}function kr(t){var e=t[My];return e||(e=t[My]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function it(t){t[ho]=!0}var pb=new Set,gb={};function nr(t,e){Wr(t,e),Wr(t+"Capture",e)}function Wr(t,e){for(gb[t]=e,t=0;t<e.length;t++)pb.add(e[t])}var tA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vy={},ky={};function nA(t){return af.call(ky,t)?!0:af.call(Vy,t)?!1:tA.test(t)?ky[t]=!0:(Vy[t]=!0,!1)}function pc(t,e,n){if(nA(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Wo(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Bn(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sA(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,r=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function of(t){if(!t._valueTracker){var e=yb(t)?"checked":"value";t._valueTracker=sA(t,e,""+t[e])}}function vb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=yb(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Yc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var iA=/[\n"\\]/g;function en(t){return t.replace(iA,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function cf(t,e,n,s,i,r,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Wt(e)):t.value!==""+Wt(e)&&(t.value=""+Wt(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?uf(t,a,Wt(e)):n!=null?uf(t,a,Wt(n)):s!=null&&t.removeAttribute("value"),i==null&&r!=null&&(t.defaultChecked=!!r),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Wt(o):t.removeAttribute("name")}function _b(t,e,n,s,i,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null)){of(t);return}n=n!=null?""+Wt(n):"",e=e!=null?""+Wt(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}s=s??i,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=o?t.checked:!!s,t.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),of(t)}function uf(t,e,n){e==="number"&&Yc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Pr(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Wt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bb(t,e,n){if(e!=null&&(e=""+Wt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Wt(n):""}function xb(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(P(92));if(al(s)){if(1<s.length)throw Error(P(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Wt(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),of(t)}function Jr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Py(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||rA.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Eb(t,e,n){if(e!=null&&typeof e!="object")throw Error(P(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var i in e)s=e[i],e.hasOwnProperty(i)&&n[i]!==s&&Py(t,i,s)}else for(var r in e)e.hasOwnProperty(r)&&Py(t,r,e[r])}function Om(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gc(t){return lA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var hf=null;function Mm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ar=null,Ur=null;function Uy(t){var e=ya(t);if(e&&(t=e.stateNode)){var n=t[Ot]||null;e:switch(t=e.stateNode,e.type){case"input":if(cf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+en(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=s[Ot]||null;if(!i)throw Error(P(90));cf(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&vb(s)}break e;case"textarea":bb(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Pr(t,!!n.multiple,e,!1)}}}var id=!1;function Tb(t,e,n){if(id)return t(e,n);id=!0;try{var s=t(e);return s}finally{if(id=!1,(Ar!==null||Ur!==null)&&(sh(),Ar&&(e=Ar,t=Ur,Ur=Ar=null,Uy(e),t)))for(e=0;e<t.length;e++)Uy(t[e])}}function Pl(t,e){var n=t.stateNode;if(n===null)return null;var s=n[Ot]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),df=!1;if(as)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){df=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{df=!1}var Ls=null,Vm=null,yc=null;function wb(){if(yc)return yc;var t,e=Vm,n=e.length,s,i="value"in Ls?Ls.value:Ls.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===i[r-s];s++);return yc=i.slice(t,1<s?1-s:void 0)}function vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jo(){return!0}function Ly(){return!1}function Mt(t){function e(n,s,i,r,a){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Jo:Ly,this.isPropagationStopped=Ly,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),e}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=Mt(sr),fo=Ie({},sr,{view:0,detail:0}),oA=Mt(fo),rd,ad,Ja,Qu=Ie({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:km,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ja&&(Ja&&t.type==="mousemove"?(rd=t.screenX-Ja.screenX,ad=t.screenY-Ja.screenY):ad=rd=0,Ja=t),rd)},movementY:function(t){return"movementY"in t?t.movementY:ad}}),zy=Mt(Qu),cA=Ie({},Qu,{dataTransfer:0}),uA=Mt(cA),hA=Ie({},fo,{relatedTarget:0}),ld=Mt(hA),dA=Ie({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),fA=Mt(dA),mA=Ie({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pA=Mt(mA),gA=Ie({},sr,{data:0}),By=Mt(gA),yA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_A={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_A[t])?!!e[t]:!1}function km(){return bA}var xA=Ie({},fo,{key:function(t){if(t.key){var e=yA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:km,charCode:function(t){return t.type==="keypress"?vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EA=Mt(xA),TA=Ie({},Qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hy=Mt(TA),wA=Ie({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:km}),SA=Mt(wA),AA=Ie({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),NA=Mt(AA),RA=Ie({},Qu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CA=Mt(RA),IA=Ie({},sr,{newState:0,oldState:0}),DA=Mt(IA),jA=[9,13,27,32],Pm=as&&"CompositionEvent"in window,yl=null;as&&"documentMode"in document&&(yl=document.documentMode);var OA=as&&"TextEvent"in window&&!yl,Sb=as&&(!Pm||yl&&8<yl&&11>=yl),qy=" ",Fy=!1;function Ab(t,e){switch(t){case"keyup":return jA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nr=!1;function MA(t,e){switch(t){case"compositionend":return Nb(e);case"keypress":return e.which!==32?null:(Fy=!0,qy);case"textInput":return t=e.data,t===qy&&Fy?null:t;default:return null}}function VA(t,e){if(Nr)return t==="compositionend"||!Pm&&Ab(t,e)?(t=wb(),yc=Vm=Ls=null,Nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sb&&e.locale!=="ko"?null:e.data;default:return null}}var kA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kA[t.type]:e==="textarea"}function Rb(t,e,n,s){Ar?Ur?Ur.push(s):Ur=[s]:Ar=s,e=uu(e,"onChange"),0<e.length&&(n=new Yu("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var vl=null,Ul=null;function PA(t){TE(t,0)}function Ku(t){var e=ll(t);if(vb(e))return t}function Yy(t,e){if(t==="change")return e}var Cb=!1;if(as){var od;if(as){var cd="oninput"in document;if(!cd){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),cd=typeof Qy.oninput=="function"}od=cd}else od=!1;Cb=od&&(!document.documentMode||9<document.documentMode)}function Ky(){vl&&(vl.detachEvent("onpropertychange",Ib),Ul=vl=null)}function Ib(t){if(t.propertyName==="value"&&Ku(Ul)){var e=[];Rb(e,Ul,t,Mm(t)),Tb(PA,e)}}function UA(t,e,n){t==="focusin"?(Ky(),vl=e,Ul=n,vl.attachEvent("onpropertychange",Ib)):t==="focusout"&&Ky()}function LA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(Ul)}function zA(t,e){if(t==="click")return Ku(e)}function BA(t,e){if(t==="input"||t==="change")return Ku(e)}function HA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qt=typeof Object.is=="function"?Object.is:HA;function Ll(t,e){if(Qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!af.call(e,i)||!Qt(t[i],e[i]))return!1}return!0}function $y(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xy(t,e){var n=$y(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$y(n)}}function Db(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Db(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jb(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Yc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yc(t.document)}return e}function Um(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var qA=as&&"documentMode"in document&&11>=document.documentMode,Rr=null,ff=null,_l=null,mf=!1;function Wy(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||Rr==null||Rr!==Yc(s)||(s=Rr,"selectionStart"in s&&Um(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_l&&Ll(_l,s)||(_l=s,s=uu(ff,"onSelect"),0<s.length&&(e=new Yu("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Rr)))}function Ci(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cr={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},ud={},Ob={};as&&(Ob=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function ir(t){if(ud[t])return ud[t];if(!Cr[t])return t;var e=Cr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ob)return ud[t]=e[n];return t}var Mb=ir("animationend"),Vb=ir("animationiteration"),kb=ir("animationstart"),FA=ir("transitionrun"),GA=ir("transitionstart"),YA=ir("transitioncancel"),Pb=ir("transitionend"),Ub=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function vn(t,e){Ub.set(t,e),nr(e,[t])}var Qc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xt=[],Ir=0,Lm=0;function $u(){for(var t=Ir,e=Lm=Ir=0;e<t;){var n=Xt[e];Xt[e++]=null;var s=Xt[e];Xt[e++]=null;var i=Xt[e];Xt[e++]=null;var r=Xt[e];if(Xt[e++]=null,s!==null&&i!==null){var a=s.pending;a===null?i.next=i:(i.next=a.next,a.next=i),s.pending=i}r!==0&&Lb(n,i,r)}}function Xu(t,e,n,s){Xt[Ir++]=t,Xt[Ir++]=e,Xt[Ir++]=n,Xt[Ir++]=s,Lm|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function zm(t,e,n,s){return Xu(t,e,n,s),Kc(t)}function rr(t,e){return Xu(t,null,null,e),Kc(t)}function Lb(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var i=!1,r=t.return;r!==null;)r.childLanes|=n,s=r.alternate,s!==null&&(s.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(i=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,i&&e!==null&&(i=31-Ft(n),t=r.hiddenUpdates,s=t[i],s===null?t[i]=[e]:s.push(e),e.lane=n|536870912),r):null}function Kc(t){if(50<Rl)throw Rl=0,kf=null,Error(P(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Dr={};function QA(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,e,n,s){return new QA(t,e,n,s)}function Bm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zn(t,e){var n=t.alternate;return n===null?(n=Lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function zb(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function _c(t,e,n,s,i,r){var a=0;if(s=t,typeof t=="function")Bm(t)&&(a=1);else if(typeof t=="string")a=JN(t,n,Rn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case tf:return t=Lt(31,n,e,i),t.elementType=tf,t.lanes=r,t;case Tr:return Pi(n.children,i,r,e);case rb:a=8,i|=24;break;case Jd:return t=Lt(12,n,e,i|2),t.elementType=Jd,t.lanes=r,t;case Zd:return t=Lt(13,n,e,i),t.elementType=Zd,t.lanes=r,t;case ef:return t=Lt(19,n,e,i),t.elementType=ef,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kn:a=10;break e;case ab:a=9;break e;case Nm:a=11;break e;case Rm:a=14;break e;case Rs:a=16,s=null;break e}a=29,n=Error(P(130,t===null?"null":typeof t,"")),s=null}return e=Lt(a,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Pi(t,e,n,s){return t=Lt(7,t,s,e),t.lanes=n,t}function hd(t,e,n){return t=Lt(6,t,null,e),t.lanes=n,t}function Bb(t){var e=Lt(18,null,null,0);return e.stateNode=t,e}function dd(t,e,n){return e=Lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Jy=new WeakMap;function tn(t,e){if(typeof t=="object"&&t!==null){var n=Jy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:jy(e)},Jy.set(t,e),e)}return{value:t,source:e,stack:jy(e)}}var jr=[],Or=0,$c=null,zl=0,Jt=[],Zt=0,ri=null,Sn=1,An="";function Yn(t,e){jr[Or++]=zl,jr[Or++]=$c,$c=t,zl=e}function Hb(t,e,n){Jt[Zt++]=Sn,Jt[Zt++]=An,Jt[Zt++]=ri,ri=t;var s=Sn;t=An;var i=32-Ft(s)-1;s&=~(1<<i),n+=1;var r=32-Ft(e)+i;if(30<r){var a=i-i%5;r=(s&(1<<a)-1).toString(32),s>>=a,i-=a,Sn=1<<32-Ft(e)+i|n<<i|s,An=r+t}else Sn=1<<r|n<<i|s,An=t}function Hm(t){t.return!==null&&(Yn(t,1),Hb(t,1,0))}function qm(t){for(;t===$c;)$c=jr[--Or],jr[Or]=null,zl=jr[--Or],jr[Or]=null;for(;t===ri;)ri=Jt[--Zt],Jt[Zt]=null,An=Jt[--Zt],Jt[Zt]=null,Sn=Jt[--Zt],Jt[Zt]=null}function qb(t,e){Jt[Zt++]=Sn,Jt[Zt++]=An,Jt[Zt++]=ri,Sn=e.id,An=e.overflow,ri=t}var ct=null,Ne=null,ue=!1,Gs=null,nn=!1,gf=Error(P(519));function ai(t){var e=Error(P(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(tn(e,t)),gf}function Zy(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[ot]=t,e[Ot]=s,n){case"dialog":ie("cancel",e),ie("close",e);break;case"iframe":case"object":case"embed":ie("load",e);break;case"video":case"audio":for(n=0;n<Gl.length;n++)ie(Gl[n],e);break;case"source":ie("error",e);break;case"img":case"image":case"link":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"input":ie("invalid",e),_b(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ie("invalid",e);break;case"textarea":ie("invalid",e),xb(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||SE(e.textContent,n)?(s.popover!=null&&(ie("beforetoggle",e),ie("toggle",e)),s.onScroll!=null&&ie("scroll",e),s.onScrollEnd!=null&&ie("scrollend",e),s.onClick!=null&&(e.onclick=$n),e=!0):e=!1,e||ai(t,!0)}function e0(t){for(ct=t.return;ct;)switch(ct.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:ct=ct.return}}function mr(t){if(t!==ct)return!1;if(!ue)return e0(t),ue=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Bf(t.type,t.memoizedProps)),n=!n),n&&Ne&&ai(t),e0(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));Ne=z0(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));Ne=z0(t)}else e===27?(e=Ne,yi(t.type)?(t=Gf,Gf=null,Ne=t):Ne=e):Ne=ct?ln(t.stateNode.nextSibling):null;return!0}function qi(){Ne=ct=null,ue=!1}function fd(){var t=Gs;return t!==null&&(Ct===null?Ct=t:Ct.push.apply(Ct,t),Gs=null),t}function Bl(t){Gs===null?Gs=[t]:Gs.push(t)}var yf=kn(null),ar=null,Xn=null;function Is(t,e,n){we(yf,e._currentValue),e._currentValue=n}function es(t){t._currentValue=yf.current,rt(yf)}function vf(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function _f(t,e,n,s){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var r=i.dependencies;if(r!==null){var a=i.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=i;for(var u=0;u<e.length;u++)if(o.context===e[u]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),vf(r.return,n,t),s||(a=null);break e}r=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(P(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),vf(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function va(t,e,n,s){t=null;for(var i=e,r=!1;i!==null;){if(!r){if(i.flags&524288)r=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var o=i.type;Qt(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===Hc.current){if(a=i.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}i=i.return}t!==null&&_f(e,t,n,s),e.flags|=262144}function Xc(t){for(t=t.firstContext;t!==null;){if(!Qt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fi(t){ar=t,Xn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ht(t){return Fb(ar,t)}function Zo(t,e){return ar===null&&Fi(t),Fb(t,e)}function Fb(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Xn===null){if(t===null)throw Error(P(308));Xn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Xn=Xn.next=e;return n}var KA=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},$A=et.unstable_scheduleCallback,XA=et.unstable_NormalPriority,Ye={$$typeof:Kn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fm(){return{controller:new KA,data:new Map,refCount:0}}function mo(t){t.refCount--,t.refCount===0&&$A(XA,function(){t.controller.abort()})}var bl=null,bf=0,Zr=0,Lr=null;function WA(t,e){if(bl===null){var n=bl=[];bf=0,Zr=pp(),Lr={status:"pending",value:void 0,then:function(s){n.push(s)}}}return bf++,e.then(t0,t0),e}function t0(){if(--bf===0&&bl!==null){Lr!==null&&(Lr.status="fulfilled");var t=bl;bl=null,Zr=0,Lr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function JA(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(s.status="rejected",s.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),s}var n0=$.S;$.S=function(t,e){iE=Ht(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&WA(t,e),n0!==null&&n0(t,e)};var Ui=kn(null);function Gm(){var t=Ui.current;return t!==null?t:xe.pooledCache}function bc(t,e){e===null?we(Ui,Ui.current):we(Ui,e.pool)}function Gb(){var t=Gm();return t===null?null:{parent:Ye._currentValue,pool:t}}var _a=Error(P(460)),Ym=Error(P(474)),Wu=Error(P(542)),Wc={then:function(){}};function s0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yb(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then($n,$n),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,r0(t),t;default:if(typeof e.status=="string")e.then($n,$n);else{if(t=xe,t!==null&&100<t.shellSuspendCounter)throw Error(P(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=s}},function(s){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,r0(t),t}throw Li=e,_a}}function ji(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Li=n,_a):n}}var Li=null;function i0(){if(Li===null)throw Error(P(459));var t=Li;return Li=null,t}function r0(t){if(t===_a||t===Wu)throw Error(P(483))}var zr=null,Hl=0;function ec(t){var e=Hl;return Hl+=1,zr===null&&(zr=[]),Yb(zr,t,e)}function Za(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function tc(t,e){throw e.$$typeof===U1?Error(P(525)):(t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Qb(t){function e(_,b){if(t){var T=_.deletions;T===null?(_.deletions=[b],_.flags|=16):T.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function s(_){for(var b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(_,b){return _=Zn(_,b),_.index=0,_.sibling=null,_}function r(_,b,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<b?(_.flags|=67108866,b):T):(_.flags|=67108866,b)):(_.flags|=1048576,b)}function a(_){return t&&_.alternate===null&&(_.flags|=67108866),_}function o(_,b,T,j){return b===null||b.tag!==6?(b=hd(T,_.mode,j),b.return=_,b):(b=i(b,T),b.return=_,b)}function u(_,b,T,j){var U=T.type;return U===Tr?f(_,b,T.props.children,j,T.key):b!==null&&(b.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Rs&&ji(U)===b.type)?(b=i(b,T.props),Za(b,T),b.return=_,b):(b=_c(T.type,T.key,T.props,null,_.mode,j),Za(b,T),b.return=_,b)}function h(_,b,T,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=dd(T,_.mode,j),b.return=_,b):(b=i(b,T.children||[]),b.return=_,b)}function f(_,b,T,j,U){return b===null||b.tag!==7?(b=Pi(T,_.mode,j,U),b.return=_,b):(b=i(b,T),b.return=_,b)}function m(_,b,T){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=hd(""+b,_.mode,T),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qo:return T=_c(b.type,b.key,b.props,null,_.mode,T),Za(T,b),T.return=_,T;case rl:return b=dd(b,_.mode,T),b.return=_,b;case Rs:return b=ji(b),m(_,b,T)}if(al(b)||Xa(b))return b=Pi(b,_.mode,T,null),b.return=_,b;if(typeof b.then=="function")return m(_,ec(b),T);if(b.$$typeof===Kn)return m(_,Zo(_,b),T);tc(_,b)}return null}function g(_,b,T,j){var U=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return U!==null?null:o(_,b,""+T,j);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Qo:return T.key===U?u(_,b,T,j):null;case rl:return T.key===U?h(_,b,T,j):null;case Rs:return T=ji(T),g(_,b,T,j)}if(al(T)||Xa(T))return U!==null?null:f(_,b,T,j,null);if(typeof T.then=="function")return g(_,b,ec(T),j);if(T.$$typeof===Kn)return g(_,b,Zo(_,T),j);tc(_,T)}return null}function y(_,b,T,j,U){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _=_.get(T)||null,o(b,_,""+j,U);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Qo:return _=_.get(j.key===null?T:j.key)||null,u(b,_,j,U);case rl:return _=_.get(j.key===null?T:j.key)||null,h(b,_,j,U);case Rs:return j=ji(j),y(_,b,T,j,U)}if(al(j)||Xa(j))return _=_.get(T)||null,f(b,_,j,U,null);if(typeof j.then=="function")return y(_,b,T,ec(j),U);if(j.$$typeof===Kn)return y(_,b,T,Zo(b,j),U);tc(b,j)}return null}function C(_,b,T,j){for(var U=null,z=null,w=b,x=b=0,S=null;w!==null&&x<T.length;x++){w.index>x?(S=w,w=null):S=w.sibling;var E=g(_,w,T[x],j);if(E===null){w===null&&(w=S);break}t&&w&&E.alternate===null&&e(_,w),b=r(E,b,x),z===null?U=E:z.sibling=E,z=E,w=S}if(x===T.length)return n(_,w),ue&&Yn(_,x),U;if(w===null){for(;x<T.length;x++)w=m(_,T[x],j),w!==null&&(b=r(w,b,x),z===null?U=w:z.sibling=w,z=w);return ue&&Yn(_,x),U}for(w=s(w);x<T.length;x++)S=y(w,_,x,T[x],j),S!==null&&(t&&S.alternate!==null&&w.delete(S.key===null?x:S.key),b=r(S,b,x),z===null?U=S:z.sibling=S,z=S);return t&&w.forEach(function(N){return e(_,N)}),ue&&Yn(_,x),U}function D(_,b,T,j){if(T==null)throw Error(P(151));for(var U=null,z=null,w=b,x=b=0,S=null,E=T.next();w!==null&&!E.done;x++,E=T.next()){w.index>x?(S=w,w=null):S=w.sibling;var N=g(_,w,E.value,j);if(N===null){w===null&&(w=S);break}t&&w&&N.alternate===null&&e(_,w),b=r(N,b,x),z===null?U=N:z.sibling=N,z=N,w=S}if(E.done)return n(_,w),ue&&Yn(_,x),U;if(w===null){for(;!E.done;x++,E=T.next())E=m(_,E.value,j),E!==null&&(b=r(E,b,x),z===null?U=E:z.sibling=E,z=E);return ue&&Yn(_,x),U}for(w=s(w);!E.done;x++,E=T.next())E=y(w,_,x,E.value,j),E!==null&&(t&&E.alternate!==null&&w.delete(E.key===null?x:E.key),b=r(E,b,x),z===null?U=E:z.sibling=E,z=E);return t&&w.forEach(function(R){return e(_,R)}),ue&&Yn(_,x),U}function O(_,b,T,j){if(typeof T=="object"&&T!==null&&T.type===Tr&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Qo:e:{for(var U=T.key;b!==null;){if(b.key===U){if(U=T.type,U===Tr){if(b.tag===7){n(_,b.sibling),j=i(b,T.props.children),j.return=_,_=j;break e}}else if(b.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Rs&&ji(U)===b.type){n(_,b.sibling),j=i(b,T.props),Za(j,T),j.return=_,_=j;break e}n(_,b);break}else e(_,b);b=b.sibling}T.type===Tr?(j=Pi(T.props.children,_.mode,j,T.key),j.return=_,_=j):(j=_c(T.type,T.key,T.props,null,_.mode,j),Za(j,T),j.return=_,_=j)}return a(_);case rl:e:{for(U=T.key;b!==null;){if(b.key===U)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(_,b.sibling),j=i(b,T.children||[]),j.return=_,_=j;break e}else{n(_,b);break}else e(_,b);b=b.sibling}j=dd(T,_.mode,j),j.return=_,_=j}return a(_);case Rs:return T=ji(T),O(_,b,T,j)}if(al(T))return C(_,b,T,j);if(Xa(T)){if(U=Xa(T),typeof U!="function")throw Error(P(150));return T=U.call(T),D(_,b,T,j)}if(typeof T.then=="function")return O(_,b,ec(T),j);if(T.$$typeof===Kn)return O(_,b,Zo(_,T),j);tc(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,b!==null&&b.tag===6?(n(_,b.sibling),j=i(b,T),j.return=_,_=j):(n(_,b),j=hd(T,_.mode,j),j.return=_,_=j),a(_)):n(_,b)}return function(_,b,T,j){try{Hl=0;var U=O(_,b,T,j);return zr=null,U}catch(w){if(w===_a||w===Wu)throw w;var z=Lt(29,w,null,_.mode);return z.lanes=j,z.return=_,z}finally{}}}var Gi=Qb(!0),Kb=Qb(!1),Cs=!1;function Qm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ys(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,de&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,e=Kc(t),Lb(t,null,n),e}return Xu(t,s,e,n),Kc(t)}function xl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,db(t,n)}}function md(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Ef=!1;function El(){if(Ef){var t=Lr;if(t!==null)throw t}}function Tl(t,e,n,s){Ef=!1;var i=t.updateQueue;Cs=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,h=u.next;u.next=null,a===null?r=h:a.next=h,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=h:o.next=h,f.lastBaseUpdate=u))}if(r!==null){var m=i.baseState;a=0,f=h=u=null,o=r;do{var g=o.lane&-536870913,y=g!==o.lane;if(y?(ce&g)===g:(s&g)===g){g!==0&&g===Zr&&(Ef=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var C=t,D=o;g=e;var O=n;switch(D.tag){case 1:if(C=D.payload,typeof C=="function"){m=C.call(O,m,g);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=D.payload,g=typeof C=="function"?C.call(O,m,g):C,g==null)break e;m=Ie({},m,g);break e;case 2:Cs=!0}}g=o.callback,g!==null&&(t.flags|=64,y&&(t.flags|=8192),y=i.callbacks,y===null?i.callbacks=[g]:y.push(g))}else y={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(h=f=y,u=m):f=f.next=y,a|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,r===null&&(i.shared.lanes=0),oi|=a,t.lanes=a,t.memoizedState=m}}function $b(t,e){if(typeof t!="function")throw Error(P(191,t));t.call(e)}function Xb(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)$b(n[t],e)}var ea=kn(null),Jc=kn(0);function a0(t,e){t=us,we(Jc,t),we(ea,e),us=t|e.baseLanes}function Tf(){we(Jc,us),we(ea,ea.current)}function Km(){us=Jc.current,rt(ea),rt(Jc)}var Kt=kn(null),an=null;function Ds(t){var e=t.alternate;we(ze,ze.current&1),we(Kt,t),an===null&&(e===null||ea.current!==null||e.memoizedState!==null)&&(an=t)}function wf(t){we(ze,ze.current),we(Kt,t),an===null&&(an=t)}function Wb(t){t.tag===22?(we(ze,ze.current),we(Kt,t),an===null&&(an=t)):js()}function js(){we(ze,ze.current),we(Kt,Kt.current)}function Ut(t){rt(Kt),an===t&&(an=null),rt(ze)}var ze=kn(0);function Zc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||qf(n)||Ff(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ls=0,ee=null,_e=null,Fe=null,eu=!1,Br=!1,Yi=!1,tu=0,ql=0,Hr=null,ZA=0;function ke(){throw Error(P(321))}function $m(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qt(t[n],e[n]))return!1;return!0}function Xm(t,e,n,s,i,r){return ls=r,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$.H=t===null||t.memoizedState===null?Rx:lp,Yi=!1,r=n(s,i),Yi=!1,Br&&(r=Zb(e,n,s,i)),Jb(t),r}function Jb(t){$.H=Fl;var e=_e!==null&&_e.next!==null;if(ls=0,Fe=_e=ee=null,eu=!1,ql=0,Hr=null,e)throw Error(P(300));t===null||Ke||(t=t.dependencies,t!==null&&Xc(t)&&(Ke=!0))}function Zb(t,e,n,s){ee=t;var i=0;do{if(Br&&(Hr=null),ql=0,Br=!1,25<=i)throw Error(P(301));if(i+=1,Fe=_e=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}$.H=Cx,r=e(n,s)}while(Br);return r}function eN(){var t=$.H,e=t.useState()[0];return e=typeof e.then=="function"?po(e):e,t=t.useState()[0],(_e!==null?_e.memoizedState:null)!==t&&(ee.flags|=1024),e}function Wm(){var t=tu!==0;return tu=0,t}function Jm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Zm(t){if(eu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}eu=!1}ls=0,Fe=_e=ee=null,Br=!1,ql=tu=0,Hr=null}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ee.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Be(){if(_e===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=_e.next;var e=Fe===null?ee.memoizedState:Fe.next;if(e!==null)Fe=e,_e=t;else{if(t===null)throw ee.alternate===null?Error(P(467)):Error(P(310));_e=t,t={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Fe===null?ee.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function po(t){var e=ql;return ql+=1,Hr===null&&(Hr=[]),t=Yb(Hr,t,e),e=ee,(Fe===null?e.memoizedState:Fe.next)===null&&(e=e.alternate,$.H=e===null||e.memoizedState===null?Rx:lp),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return po(t);if(t.$$typeof===Kn)return ht(t)}throw Error(P(438,String(t)))}function ep(t){var e=null,n=ee.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=ee.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Ju(),ee.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=L1;return e.index++,n}function os(t,e){return typeof e=="function"?e(t):e}function xc(t){var e=Be();return tp(e,_e,t)}function tp(t,e,n){var s=t.queue;if(s===null)throw Error(P(311));s.lastRenderedReducer=n;var i=t.baseQueue,r=s.pending;if(r!==null){if(i!==null){var a=i.next;i.next=r.next,r.next=a}e.baseQueue=i=r,s.pending=null}if(r=t.baseState,i===null)t.memoizedState=r;else{e=i.next;var o=a=null,u=null,h=e,f=!1;do{var m=h.lane&-536870913;if(m!==h.lane?(ce&m)===m:(ls&m)===m){var g=h.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),m===Zr&&(f=!0);else if((ls&g)===g){h=h.next,g===Zr&&(f=!0);continue}else m={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=m,a=r):u=u.next=m,ee.lanes|=g,oi|=g;m=h.action,Yi&&n(r,m),r=h.hasEagerState?h.eagerState:n(r,m)}else g={lane:m,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=g,a=r):u=u.next=g,ee.lanes|=m,oi|=m;h=h.next}while(h!==null&&h!==e);if(u===null?a=r:u.next=o,!Qt(r,t.memoizedState)&&(Ke=!0,f&&(n=Lr,n!==null)))throw n;t.memoizedState=r,t.baseState=a,t.baseQueue=u,s.lastRenderedState=r}return i===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function pd(t){var e=Be(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do r=t(r,a.action),a=a.next;while(a!==i);Qt(r,e.memoizedState)||(Ke=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function ex(t,e,n){var s=ee,i=Be(),r=ue;if(r){if(n===void 0)throw Error(P(407));n=n()}else n=e();var a=!Qt((_e||i).memoizedState,n);if(a&&(i.memoizedState=n,Ke=!0),i=i.queue,np(sx.bind(null,s,i,t),[t]),i.getSnapshot!==e||a||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,ta(9,{destroy:void 0},nx.bind(null,s,i,n,e),null),xe===null)throw Error(P(349));r||ls&127||tx(s,e,n)}return n}function tx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ee.updateQueue,e===null?(e=Ju(),ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nx(t,e,n,s){e.value=n,e.getSnapshot=s,ix(e)&&rx(t)}function sx(t,e,n){return n(function(){ix(e)&&rx(t)})}function ix(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qt(t,n)}catch{return!0}}function rx(t){var e=rr(t,2);e!==null&&jt(e,t,2)}function Sf(t){var e=Et();if(typeof t=="function"){var n=t;if(t=n(),Yi){Us(!0);try{n()}finally{Us(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},e}function ax(t,e,n,s){return t.baseState=n,tp(t,_e,typeof s=="function"?s:os)}function tN(t,e,n,s,i){if(th(t))throw Error(P(485));if(t=e.action,t!==null){var r={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};$.T!==null?n(!0):r.isTransition=!1,s(r),n=e.pending,n===null?(r.next=e.pending=r,lx(e,r)):(r.next=n.next,e.pending=n.next=r)}}function lx(t,e){var n=e.action,s=e.payload,i=t.state;if(e.isTransition){var r=$.T,a={};$.T=a;try{var o=n(i,s),u=$.S;u!==null&&u(a,o),l0(t,e,o)}catch(h){Af(t,e,h)}finally{r!==null&&a.types!==null&&(r.types=a.types),$.T=r}}else try{r=n(i,s),l0(t,e,r)}catch(h){Af(t,e,h)}}function l0(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){o0(t,e,s)},function(s){return Af(t,e,s)}):o0(t,e,n)}function o0(t,e,n){e.status="fulfilled",e.value=n,ox(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,lx(t,n)))}function Af(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,ox(e),e=e.next;while(e!==s)}t.action=null}function ox(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function cx(t,e){return e}function c0(t,e){if(ue){var n=xe.formState;if(n!==null){e:{var s=ee;if(ue){if(Ne){t:{for(var i=Ne,r=nn;i.nodeType!==8;){if(!r){i=null;break t}if(i=ln(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Ne=ln(i.nextSibling),s=i.data==="F!";break e}}ai(s)}s=!1}s&&(e=n[0])}}return n=Et(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cx,lastRenderedState:e},n.queue=s,n=Sx.bind(null,ee,s),s.dispatch=n,s=Sf(!1),r=ap.bind(null,ee,!1,s.queue),s=Et(),i={state:e,dispatch:null,action:t,pending:null},s.queue=i,n=tN.bind(null,ee,i,r,n),i.dispatch=n,s.memoizedState=t,[e,n,!1]}function u0(t){var e=Be();return ux(e,_e,t)}function ux(t,e,n){if(e=tp(t,e,cx)[0],t=xc(os)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=po(e)}catch(a){throw a===_a?Wu:a}else s=e;e=Be();var i=e.queue,r=i.dispatch;return n!==e.memoizedState&&(ee.flags|=2048,ta(9,{destroy:void 0},nN.bind(null,i,n),null)),[s,r,t]}function nN(t,e){t.action=e}function h0(t){var e=Be(),n=_e;if(n!==null)return ux(e,n,t);Be(),e=e.memoizedState,n=Be();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function ta(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=ee.updateQueue,e===null&&(e=Ju(),ee.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function hx(){return Be().memoizedState}function Ec(t,e,n,s){var i=Et();ee.flags|=t,i.memoizedState=ta(1|e,{destroy:void 0},n,s===void 0?null:s)}function eh(t,e,n,s){var i=Be();s=s===void 0?null:s;var r=i.memoizedState.inst;_e!==null&&s!==null&&$m(s,_e.memoizedState.deps)?i.memoizedState=ta(e,r,n,s):(ee.flags|=t,i.memoizedState=ta(1|e,r,n,s))}function d0(t,e){Ec(8390656,8,t,e)}function np(t,e){eh(2048,8,t,e)}function sN(t){ee.flags|=4;var e=ee.updateQueue;if(e===null)e=Ju(),ee.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function dx(t){var e=Be().memoizedState;return sN({ref:e,nextImpl:t}),function(){if(de&2)throw Error(P(440));return e.impl.apply(void 0,arguments)}}function fx(t,e){return eh(4,2,t,e)}function mx(t,e){return eh(4,4,t,e)}function px(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gx(t,e,n){n=n!=null?n.concat([t]):null,eh(4,4,px.bind(null,e,t),n)}function sp(){}function yx(t,e){var n=Be();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&$m(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function vx(t,e){var n=Be();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&$m(e,s[1]))return s[0];if(s=t(),Yi){Us(!0);try{t()}finally{Us(!1)}}return n.memoizedState=[s,e],s}function ip(t,e,n){return n===void 0||ls&1073741824&&!(ce&261930)?t.memoizedState=e:(t.memoizedState=n,t=aE(),ee.lanes|=t,oi|=t,n)}function _x(t,e,n,s){return Qt(n,e)?n:ea.current!==null?(t=ip(t,n,s),Qt(t,e)||(Ke=!0),t):!(ls&42)||ls&1073741824&&!(ce&261930)?(Ke=!0,t.memoizedState=n):(t=aE(),ee.lanes|=t,oi|=t,e)}function bx(t,e,n,s,i){var r=fe.p;fe.p=r!==0&&8>r?r:8;var a=$.T,o={};$.T=o,ap(t,!1,e,n);try{var u=i(),h=$.S;if(h!==null&&h(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=JA(u,s);wl(t,e,f,Gt(t))}else wl(t,e,s,Gt(t))}catch(m){wl(t,e,{then:function(){},status:"rejected",reason:m},Gt())}finally{fe.p=r,a!==null&&o.types!==null&&(a.types=o.types),$.T=a}}function iN(){}function Nf(t,e,n,s){if(t.tag!==5)throw Error(P(476));var i=xx(t).queue;bx(t,i,e,ki,n===null?iN:function(){return Ex(t),n(s)})}function xx(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ki,baseState:ki,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:ki},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Ex(t){var e=xx(t);e.next===null&&(e=t.alternate.memoizedState),wl(t,e.next.queue,{},Gt())}function rp(){return ht(Ql)}function Tx(){return Be().memoizedState}function wx(){return Be().memoizedState}function rN(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Gt();t=Ys(n);var s=Qs(e,t,n);s!==null&&(jt(s,e,n),xl(s,e,n)),e={cache:Fm()},t.payload=e;return}e=e.return}}function aN(t,e,n){var s=Gt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},th(t)?Ax(e,n):(n=zm(t,e,n,s),n!==null&&(jt(n,t,s),Nx(n,e,s)))}function Sx(t,e,n){var s=Gt();wl(t,e,n,s)}function wl(t,e,n,s){var i={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(th(t))Ax(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,o=r(a,n);if(i.hasEagerState=!0,i.eagerState=o,Qt(o,a))return Xu(t,e,i,0),xe===null&&$u(),!1}catch{}finally{}if(n=zm(t,e,i,s),n!==null)return jt(n,t,s),Nx(n,e,s),!0}return!1}function ap(t,e,n,s){if(s={lane:2,revertLane:pp(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},th(t)){if(e)throw Error(P(479))}else e=zm(t,n,s,2),e!==null&&jt(e,t,2)}function th(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function Ax(t,e){Br=eu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Nx(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,db(t,n)}}var Fl={readContext:ht,use:Zu,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke};Fl.useEffectEvent=ke;var Rx={readContext:ht,use:Zu,useCallback:function(t,e){return Et().memoizedState=[t,e===void 0?null:e],t},useContext:ht,useEffect:d0,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ec(4194308,4,px.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ec(4194308,4,t,e)},useInsertionEffect:function(t,e){Ec(4,2,t,e)},useMemo:function(t,e){var n=Et();e=e===void 0?null:e;var s=t();if(Yi){Us(!0);try{t()}finally{Us(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Et();if(n!==void 0){var i=n(e);if(Yi){Us(!0);try{n(e)}finally{Us(!1)}}}else i=e;return s.memoizedState=s.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},s.queue=t,t=t.dispatch=aN.bind(null,ee,t),[s.memoizedState,t]},useRef:function(t){var e=Et();return t={current:t},e.memoizedState=t},useState:function(t){t=Sf(t);var e=t.queue,n=Sx.bind(null,ee,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:sp,useDeferredValue:function(t,e){var n=Et();return ip(n,t,e)},useTransition:function(){var t=Sf(!1);return t=bx.bind(null,ee,t.queue,!0,!1),Et().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=ee,i=Et();if(ue){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),xe===null)throw Error(P(349));ce&127||tx(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,d0(sx.bind(null,s,r,t),[t]),s.flags|=2048,ta(9,{destroy:void 0},nx.bind(null,s,r,n,e),null),n},useId:function(){var t=Et(),e=xe.identifierPrefix;if(ue){var n=An,s=Sn;n=(s&~(1<<32-Ft(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=tu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=ZA++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:rp,useFormState:c0,useActionState:c0,useOptimistic:function(t){var e=Et();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=ap.bind(null,ee,!0,n),n.dispatch=e,[t,e]},useMemoCache:ep,useCacheRefresh:function(){return Et().memoizedState=rN.bind(null,ee)},useEffectEvent:function(t){var e=Et(),n={impl:t};return e.memoizedState=n,function(){if(de&2)throw Error(P(440));return n.impl.apply(void 0,arguments)}}},lp={readContext:ht,use:Zu,useCallback:yx,useContext:ht,useEffect:np,useImperativeHandle:gx,useInsertionEffect:fx,useLayoutEffect:mx,useMemo:vx,useReducer:xc,useRef:hx,useState:function(){return xc(os)},useDebugValue:sp,useDeferredValue:function(t,e){var n=Be();return _x(n,_e.memoizedState,t,e)},useTransition:function(){var t=xc(os)[0],e=Be().memoizedState;return[typeof t=="boolean"?t:po(t),e]},useSyncExternalStore:ex,useId:Tx,useHostTransitionStatus:rp,useFormState:u0,useActionState:u0,useOptimistic:function(t,e){var n=Be();return ax(n,_e,t,e)},useMemoCache:ep,useCacheRefresh:wx};lp.useEffectEvent=dx;var Cx={readContext:ht,use:Zu,useCallback:yx,useContext:ht,useEffect:np,useImperativeHandle:gx,useInsertionEffect:fx,useLayoutEffect:mx,useMemo:vx,useReducer:pd,useRef:hx,useState:function(){return pd(os)},useDebugValue:sp,useDeferredValue:function(t,e){var n=Be();return _e===null?ip(n,t,e):_x(n,_e.memoizedState,t,e)},useTransition:function(){var t=pd(os)[0],e=Be().memoizedState;return[typeof t=="boolean"?t:po(t),e]},useSyncExternalStore:ex,useId:Tx,useHostTransitionStatus:rp,useFormState:h0,useActionState:h0,useOptimistic:function(t,e){var n=Be();return _e!==null?ax(n,_e,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ep,useCacheRefresh:wx};Cx.useEffectEvent=dx;function gd(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rf={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Gt(),i=Ys(s);i.payload=e,n!=null&&(i.callback=n),e=Qs(t,i,s),e!==null&&(jt(e,t,s),xl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Gt(),i=Ys(s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Qs(t,i,s),e!==null&&(jt(e,t,s),xl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),s=Ys(n);s.tag=2,e!=null&&(s.callback=e),e=Qs(t,s,n),e!==null&&(jt(e,t,n),xl(e,t,n))}};function f0(t,e,n,s,i,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,a):e.prototype&&e.prototype.isPureReactComponent?!Ll(n,s)||!Ll(i,r):!0}function m0(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Rf.enqueueReplaceState(e,e.state,null)}function Qi(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=Ie({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function Ix(t){Qc(t)}function Dx(t){console.error(t)}function jx(t){Qc(t)}function nu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function p0(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Cf(t,e,n){return n=Ys(n),n.tag=3,n.payload={element:null},n.callback=function(){nu(t,e)},n}function Ox(t){return t=Ys(t),t.tag=3,t}function Mx(t,e,n,s){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=s.value;t.payload=function(){return i(r)},t.callback=function(){p0(e,n,s)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){p0(e,n,s),typeof i!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function lN(t,e,n,s,i){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&va(e,n,i,!0),n=Kt.current,n!==null){switch(n.tag){case 31:case 13:return an===null?lu():n.alternate===null&&Pe===0&&(Pe=3),n.flags&=-257,n.flags|=65536,n.lanes=i,s===Wc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),Nd(t,s,i)),!1;case 22:return n.flags|=65536,s===Wc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),Nd(t,s,i)),!1}throw Error(P(435,n.tag))}return Nd(t,s,i),lu(),!1}if(ue)return e=Kt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,s!==gf&&(t=Error(P(422),{cause:s}),Bl(tn(t,n)))):(s!==gf&&(e=Error(P(423),{cause:s}),Bl(tn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,s=tn(s,n),i=Cf(t.stateNode,s,i),md(t,i),Pe!==4&&(Pe=2)),!1;var r=Error(P(520),{cause:s});if(r=tn(r,n),Nl===null?Nl=[r]:Nl.push(r),Pe!==4&&(Pe=2),e===null)return!0;s=tn(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Cf(n.stateNode,s,t),md(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ks===null||!Ks.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Ox(i),Mx(i,t,n,s),md(n,i),!1}n=n.return}while(n!==null);return!1}var op=Error(P(461)),Ke=!1;function at(t,e,n,s){e.child=t===null?Kb(e,null,n,s):Gi(e,t.child,n,s)}function g0(t,e,n,s,i){n=n.render;var r=e.ref;if("ref"in s){var a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}else a=s;return Fi(e),s=Xm(t,e,n,a,r,i),o=Wm(),t!==null&&!Ke?(Jm(t,e,i),cs(t,e,i)):(ue&&o&&Hm(e),e.flags|=1,at(t,e,s,i),e.child)}function y0(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!Bm(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,Vx(t,e,r,s,i)):(t=_c(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!cp(t,i)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Ll,n(a,s)&&t.ref===e.ref)return cs(t,e,i)}return e.flags|=1,t=Zn(r,s),t.ref=e.ref,t.return=e,e.child=t}function Vx(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(Ll(r,s)&&t.ref===e.ref)if(Ke=!1,e.pendingProps=s=r,cp(t,i))t.flags&131072&&(Ke=!0);else return e.lanes=t.lanes,cs(t,e,i)}return If(t,e,n,s,i)}function kx(t,e,n,s){var i=s.children,r=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(r=r!==null?r.baseLanes|n:n,t!==null){for(s=e.child=t.child,i=0;s!==null;)i=i|s.lanes|s.childLanes,s=s.sibling;s=i&~r}else s=0,e.child=null;return v0(t,e,r,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&bc(e,r!==null?r.cachePool:null),r!==null?a0(e,r):Tf(),Wb(e);else return s=e.lanes=536870912,v0(t,e,r!==null?r.baseLanes|n:n,n,s)}else r!==null?(bc(e,r.cachePool),a0(e,r),js(),e.memoizedState=null):(t!==null&&bc(e,null),Tf(),js());return at(t,e,i,n),e.child}function ol(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function v0(t,e,n,s,i){var r=Gm();return r=r===null?null:{parent:Ye._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&bc(e,null),Tf(),Wb(e),t!==null&&va(t,e,s,!0),e.childLanes=i,null}function Tc(t,e){return e=su({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function _0(t,e,n){return Gi(e,t.child,null,n),t=Tc(e,e.pendingProps),t.flags|=2,Ut(e),e.memoizedState=null,t}function oN(t,e,n){var s=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ue){if(s.mode==="hidden")return t=Tc(e,s),e.lanes=536870912,ol(null,t);if(wf(e),(t=Ne)?(t=RE(t,nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ri!==null?{id:Sn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},n=Bb(t),n.return=e,e.child=n,ct=e,Ne=null)):t=null,t===null)throw ai(e);return e.lanes=536870912,null}return Tc(e,s)}var r=t.memoizedState;if(r!==null){var a=r.dehydrated;if(wf(e),i)if(e.flags&256)e.flags&=-257,e=_0(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(P(558));else if(Ke||va(t,e,n,!1),i=(n&t.childLanes)!==0,Ke||i){if(s=xe,s!==null&&(a=fb(s,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,rr(t,a),jt(s,t,a),op;lu(),e=_0(t,e,n)}else t=r.treeContext,Ne=ln(a.nextSibling),ct=e,ue=!0,Gs=null,nn=!1,t!==null&&qb(e,t),e=Tc(e,s),e.flags|=4096;return e}return t=Zn(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function wc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function If(t,e,n,s,i){return Fi(e),n=Xm(t,e,n,s,void 0,i),s=Wm(),t!==null&&!Ke?(Jm(t,e,i),cs(t,e,i)):(ue&&s&&Hm(e),e.flags|=1,at(t,e,n,i),e.child)}function b0(t,e,n,s,i,r){return Fi(e),e.updateQueue=null,n=Zb(e,s,n,i),Jb(t),s=Wm(),t!==null&&!Ke?(Jm(t,e,r),cs(t,e,r)):(ue&&s&&Hm(e),e.flags|=1,at(t,e,n,r),e.child)}function x0(t,e,n,s,i){if(Fi(e),e.stateNode===null){var r=Dr,a=n.contextType;typeof a=="object"&&a!==null&&(r=ht(a)),r=new n(s,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Rf,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=s,r.state=e.memoizedState,r.refs={},Qm(e),a=n.contextType,r.context=typeof a=="object"&&a!==null?ht(a):Dr,r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(gd(e,n,a,s),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Rf.enqueueReplaceState(r,r.state,null),Tl(e,s,r,i),El(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){r=e.stateNode;var o=e.memoizedProps,u=Qi(n,o);r.props=u;var h=r.context,f=n.contextType;a=Dr,typeof f=="object"&&f!==null&&(a=ht(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||h!==a)&&m0(e,r,s,a),Cs=!1;var g=e.memoizedState;r.state=g,Tl(e,s,r,i),El(),h=e.memoizedState,o||g!==h||Cs?(typeof m=="function"&&(gd(e,n,m,s),h=e.memoizedState),(u=Cs||f0(e,n,u,s,g,h,a))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=h),r.props=s,r.state=h,r.context=a,s=u):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{r=e.stateNode,xf(t,e),a=e.memoizedProps,f=Qi(n,a),r.props=f,m=e.pendingProps,g=r.context,h=n.contextType,u=Dr,typeof h=="object"&&h!==null&&(u=ht(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==m||g!==u)&&m0(e,r,s,u),Cs=!1,g=e.memoizedState,r.state=g,Tl(e,s,r,i),El();var y=e.memoizedState;a!==m||g!==y||Cs||t!==null&&t.dependencies!==null&&Xc(t.dependencies)?(typeof o=="function"&&(gd(e,n,o,s),y=e.memoizedState),(f=Cs||f0(e,n,f,s,g,y,u)||t!==null&&t.dependencies!==null&&Xc(t.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,y,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,y,u)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),r.props=s,r.state=y,r.context=u,s=f):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),s=!1)}return r=s,wc(t,e),s=(e.flags&128)!==0,r||s?(r=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&s?(e.child=Gi(e,t.child,null,i),e.child=Gi(e,null,n,i)):at(t,e,n,i),e.memoizedState=r.state,t=e.child):t=cs(t,e,i),t}function E0(t,e,n,s){return qi(),e.flags|=256,at(t,e,n,s),e.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:Gb()}}function _d(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=zt),t}function Px(t,e,n){var s=e.pendingProps,i=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=t!==null&&t.memoizedState===null?!1:(ze.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(ue){if(i?Ds(e):js(),(t=Ne)?(t=RE(t,nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ri!==null?{id:Sn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},n=Bb(t),n.return=e,e.child=n,ct=e,Ne=null)):t=null,t===null)throw ai(e);return Ff(t)?e.lanes=32:e.lanes=536870912,null}var o=s.children;return s=s.fallback,i?(js(),i=e.mode,o=su({mode:"hidden",children:o},i),s=Pi(s,i,n,null),o.return=e,s.return=e,o.sibling=s,e.child=o,s=e.child,s.memoizedState=vd(n),s.childLanes=_d(t,a,n),e.memoizedState=yd,ol(null,s)):(Ds(e),Df(e,o))}var u=t.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(r)e.flags&256?(Ds(e),e.flags&=-257,e=bd(t,e,n)):e.memoizedState!==null?(js(),e.child=t.child,e.flags|=128,e=null):(js(),o=s.fallback,i=e.mode,s=su({mode:"visible",children:s.children},i),o=Pi(o,i,n,null),o.flags|=2,s.return=e,o.return=e,s.sibling=o,e.child=s,Gi(e,t.child,null,n),s=e.child,s.memoizedState=vd(n),s.childLanes=_d(t,a,n),e.memoizedState=yd,e=ol(null,s));else if(Ds(e),Ff(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var h=a.dgst;a=h,s=Error(P(419)),s.stack="",s.digest=a,Bl({value:s,source:null,stack:null}),e=bd(t,e,n)}else if(Ke||va(t,e,n,!1),a=(n&t.childLanes)!==0,Ke||a){if(a=xe,a!==null&&(s=fb(a,n),s!==0&&s!==u.retryLane))throw u.retryLane=s,rr(t,s),jt(a,t,s),op;qf(o)||lu(),e=bd(t,e,n)}else qf(o)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Ne=ln(o.nextSibling),ct=e,ue=!0,Gs=null,nn=!1,t!==null&&qb(e,t),e=Df(e,s.children),e.flags|=4096);return e}return i?(js(),o=s.fallback,i=e.mode,u=t.child,h=u.sibling,s=Zn(u,{mode:"hidden",children:s.children}),s.subtreeFlags=u.subtreeFlags&65011712,h!==null?o=Zn(h,o):(o=Pi(o,i,n,null),o.flags|=2),o.return=e,s.return=e,s.sibling=o,e.child=s,ol(null,s),s=e.child,o=t.child.memoizedState,o===null?o=vd(n):(i=o.cachePool,i!==null?(u=Ye._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=Gb(),o={baseLanes:o.baseLanes|n,cachePool:i}),s.memoizedState=o,s.childLanes=_d(t,a,n),e.memoizedState=yd,ol(t.child,s)):(Ds(e),n=t.child,t=n.sibling,n=Zn(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Df(t,e){return e=su({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function su(t,e){return t=Lt(22,t,null,e),t.lanes=0,t}function bd(t,e,n){return Gi(e,t.child,null,n),t=Df(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),vf(t.return,e,n)}function xd(t,e,n,s,i,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i,treeForkCount:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i,a.treeForkCount=r)}function Ux(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;s=s.children;var a=ze.current,o=(a&2)!==0;if(o?(a=a&1|2,e.flags|=128):a&=1,we(ze,a),at(t,e,s,n),s=ue?zl:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T0(t,n,e);else if(t.tag===19)T0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xd(e,!1,i,n,r,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xd(e,!0,n,null,r,s);break;case"together":xd(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oi|=e.lanes,!(n&e.childLanes))if(t!==null){if(va(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cp(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Xc(t)))}function cN(t,e,n){switch(e.tag){case 3:qc(e,e.stateNode.containerInfo),Is(e,Ye,t.memoizedState.cache),qi();break;case 27:case 5:rf(e);break;case 4:qc(e,e.stateNode.containerInfo);break;case 10:Is(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,wf(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(Ds(e),e.flags|=128,null):n&e.child.childLanes?Px(t,e,n):(Ds(e),t=cs(t,e,n),t!==null?t.sibling:null);Ds(e);break;case 19:var i=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(va(t,e,n,!1),s=(n&e.childLanes)!==0),i){if(s)return Ux(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(ze,ze.current),s)break;return null;case 22:return e.lanes=0,kx(t,e,n,e.pendingProps);case 24:Is(e,Ye,t.memoizedState.cache)}return cs(t,e,n)}function Lx(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ke=!0;else{if(!cp(t,n)&&!(e.flags&128))return Ke=!1,cN(t,e,n);Ke=!!(t.flags&131072)}else Ke=!1,ue&&e.flags&1048576&&Hb(e,zl,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=ji(e.elementType),e.type=t,typeof t=="function")Bm(t)?(s=Qi(t,s),e.tag=1,e=x0(null,e,t,s,n)):(e.tag=0,e=If(null,e,t,s,n));else{if(t!=null){var i=t.$$typeof;if(i===Nm){e.tag=11,e=g0(null,e,t,s,n);break e}else if(i===Rm){e.tag=14,e=y0(null,e,t,s,n);break e}}throw e=nf(t)||t,Error(P(306,e,""))}}return e;case 0:return If(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,i=Qi(s,e.pendingProps),x0(t,e,s,i,n);case 3:e:{if(qc(e,e.stateNode.containerInfo),t===null)throw Error(P(387));s=e.pendingProps;var r=e.memoizedState;i=r.element,xf(t,e),Tl(e,s,null,n);var a=e.memoizedState;if(s=a.cache,Is(e,Ye,s),s!==r.cache&&_f(e,[Ye],n,!0),El(),s=a.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=E0(t,e,s,n);break e}else if(s!==i){i=tn(Error(P(424)),e),Bl(i),e=E0(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ne=ln(t.firstChild),ct=e,ue=!0,Gs=null,nn=!0,n=Kb(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(qi(),s===i){e=cs(t,e,n);break e}at(t,e,s,n)}e=e.child}return e;case 26:return wc(t,e),t===null?(n=q0(e.type,null,e.pendingProps,null))?e.memoizedState=n:ue||(n=e.type,t=e.pendingProps,s=hu(Fs.current).createElement(n),s[ot]=e,s[Ot]=t,dt(s,n,t),it(s),e.stateNode=s):e.memoizedState=q0(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return rf(e),t===null&&ue&&(s=e.stateNode=CE(e.type,e.pendingProps,Fs.current),ct=e,nn=!0,i=Ne,yi(e.type)?(Gf=i,Ne=ln(s.firstChild)):Ne=i),at(t,e,e.pendingProps.children,n),wc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ue&&((i=s=Ne)&&(s=LN(s,e.type,e.pendingProps,nn),s!==null?(e.stateNode=s,ct=e,Ne=ln(s.firstChild),nn=!1,i=!0):i=!1),i||ai(e)),rf(e),i=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,s=r.children,Bf(i,r)?s=null:a!==null&&Bf(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=Xm(t,e,eN,null,null,n),Ql._currentValue=i),wc(t,e),at(t,e,s,n),e.child;case 6:return t===null&&ue&&((t=n=Ne)&&(n=zN(n,e.pendingProps,nn),n!==null?(e.stateNode=n,ct=e,Ne=null,t=!0):t=!1),t||ai(e)),null;case 13:return Px(t,e,n);case 4:return qc(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Gi(e,null,s,n):at(t,e,s,n),e.child;case 11:return g0(t,e,e.type,e.pendingProps,n);case 7:return at(t,e,e.pendingProps,n),e.child;case 8:return at(t,e,e.pendingProps.children,n),e.child;case 12:return at(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,Is(e,e.type,s.value),at(t,e,s.children,n),e.child;case 9:return i=e.type._context,s=e.pendingProps.children,Fi(e),i=ht(i),s=s(i),e.flags|=1,at(t,e,s,n),e.child;case 14:return y0(t,e,e.type,e.pendingProps,n);case 15:return Vx(t,e,e.type,e.pendingProps,n);case 19:return Ux(t,e,n);case 31:return oN(t,e,n);case 22:return kx(t,e,n,e.pendingProps);case 24:return Fi(e),s=ht(Ye),t===null?(i=Gm(),i===null&&(i=xe,r=Fm(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),e.memoizedState={parent:s,cache:i},Qm(e),Is(e,Ye,i)):(t.lanes&n&&(xf(t,e),Tl(e,null,null,n),El()),i=t.memoizedState,r=e.memoizedState,i.parent!==s?(i={parent:s,cache:s},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Is(e,Ye,s)):(s=r.cache,Is(e,Ye,s),s!==i.cache&&_f(e,[Ye],n,!0))),at(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(P(156,e.tag))}function Hn(t){t.flags|=4}function Ed(t,e,n,s,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(cE())t.flags|=8192;else throw Li=Wc,Ym}else t.flags&=-16777217}function w0(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!jE(e))if(cE())t.flags|=8192;else throw Li=Wc,Ym}function nc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?ub():536870912,t.lanes|=e,na|=e)}function el(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&65011712,s|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function uN(t,e,n){var s=e.pendingProps;switch(qm(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return Ae(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),es(Ye),Xr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(mr(e)?Hn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fd())),Ae(e),null;case 26:var i=e.type,r=e.memoizedState;return t===null?(Hn(e),r!==null?(Ae(e),w0(e,r)):(Ae(e),Ed(e,i,null,s,n))):r?r!==t.memoizedState?(Hn(e),Ae(e),w0(e,r)):(Ae(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Hn(e),Ae(e),Ed(e,i,t,s,n)),null;case 27:if(Fc(e),n=Fs.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Hn(e);else{if(!s){if(e.stateNode===null)throw Error(P(166));return Ae(e),null}t=Rn.current,mr(e)?Zy(e):(t=CE(i,s,n),e.stateNode=t,Hn(e))}return Ae(e),null;case 5:if(Fc(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Hn(e);else{if(!s){if(e.stateNode===null)throw Error(P(166));return Ae(e),null}if(r=Rn.current,mr(e))Zy(e);else{var a=hu(Fs.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof s.is=="string"?a.createElement("select",{is:s.is}):a.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r=typeof s.is=="string"?a.createElement(i,{is:s.is}):a.createElement(i)}}r[ot]=e,r[Ot]=s;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=r;e:switch(dt(r,i,s),i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Hn(e)}}return Ae(e),Ed(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Hn(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(P(166));if(t=Fs.current,mr(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,i=ct,i!==null)switch(i.tag){case 27:case 5:s=i.memoizedProps}t[ot]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||SE(t.nodeValue,n)),t||ai(e,!0)}else t=hu(t).createTextNode(s),t[ot]=e,e.stateNode=t}return Ae(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=mr(e),n!==null){if(t===null){if(!s)throw Error(P(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(557));t[ot]=e}else qi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),t=!1}else n=fd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Ut(e),e):(Ut(e),null);if(e.flags&128)throw Error(P(558))}return Ae(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=mr(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[ot]=e}else qi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),i=!1}else i=fd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Ut(e),e):(Ut(e),null)}return Ut(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,i=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(i=s.alternate.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==i&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),nc(e,e.updateQueue),Ae(e),null);case 4:return Xr(),t===null&&gp(e.stateNode.containerInfo),Ae(e),null;case 10:return es(e.type),Ae(e),null;case 19:if(rt(ze),s=e.memoizedState,s===null)return Ae(e),null;if(i=(e.flags&128)!==0,r=s.rendering,r===null)if(i)el(s,!1);else{if(Pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=Zc(t),r!==null){for(e.flags|=128,el(s,!1),t=r.updateQueue,e.updateQueue=t,nc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)zb(n,t),n=n.sibling;return we(ze,ze.current&1|2),ue&&Yn(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&Ht()>ru&&(e.flags|=128,i=!0,el(s,!1),e.lanes=4194304)}else{if(!i)if(t=Zc(r),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,nc(e,t),el(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!ue)return Ae(e),null}else 2*Ht()-s.renderingStartTime>ru&&n!==536870912&&(e.flags|=128,i=!0,el(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(t=s.last,t!==null?t.sibling=r:e.child=r,s.last=r)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ht(),t.sibling=null,n=ze.current,we(ze,i?n&1|2:n&1),ue&&Yn(e,s.treeForkCount),t):(Ae(e),null);case 22:case 23:return Ut(e),Km(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),n=e.updateQueue,n!==null&&nc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&rt(Ui),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),es(Ye),Ae(e),null;case 25:return null;case 30:return null}throw Error(P(156,e.tag))}function hN(t,e){switch(qm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return es(Ye),Xr(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Fc(e),null;case 31:if(e.memoizedState!==null){if(Ut(e),e.alternate===null)throw Error(P(340));qi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ut(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));qi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rt(ze),null;case 4:return Xr(),null;case 10:return es(e.type),null;case 22:case 23:return Ut(e),Km(),t!==null&&rt(Ui),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return es(Ye),null;case 25:return null;default:return null}}function zx(t,e){switch(qm(e),e.tag){case 3:es(Ye),Xr();break;case 26:case 27:case 5:Fc(e);break;case 4:Xr();break;case 31:e.memoizedState!==null&&Ut(e);break;case 13:Ut(e);break;case 19:rt(ze);break;case 10:es(e.type);break;case 22:case 23:Ut(e),Km(),t!==null&&rt(Ui);break;case 24:es(Ye)}}function go(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&t)===t){s=void 0;var r=n.create,a=n.inst;s=r(),a.destroy=s}n=n.next}while(n!==i)}}catch(o){ge(e,e.return,o)}}function li(t,e,n){try{var s=e.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var r=i.next;s=r;do{if((s.tag&t)===t){var a=s.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var u=n,h=o;try{h()}catch(f){ge(i,u,f)}}}s=s.next}while(s!==r)}}catch(f){ge(e,e.return,f)}}function Bx(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Xb(e,n)}catch(s){ge(t,t.return,s)}}}function Hx(t,e,n){n.props=Qi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){ge(t,e,s)}}function Sl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(i){ge(t,e,i)}}function Nn(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(i){ge(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){ge(t,e,i)}else n.current=null}function qx(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(i){ge(t,t.return,i)}}function Td(t,e,n){try{var s=t.stateNode;ON(s,t.type,n,e),s[Ot]=e}catch(i){ge(t,t.return,i)}}function Fx(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&yi(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jf(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$n));else if(s!==4&&(s===27&&yi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(jf(t,e,n),t=t.sibling;t!==null;)jf(t,e,n),t=t.sibling}function iu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&yi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(iu(t,e,n),t=t.sibling;t!==null;)iu(t,e,n),t=t.sibling}function Gx(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);dt(e,s,n),e[ot]=t,e[Ot]=n}catch(r){ge(t,t.return,r)}}var Qn=!1,Ge=!1,Sd=!1,S0=typeof WeakSet=="function"?WeakSet:Set,st=null;function dN(t,e){if(t=t.containerInfo,Lf=pu,t=jb(t),Um(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,h=0,f=0,m=t,g=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(o=a+i),m!==r||s!==0&&m.nodeType!==3||(u=a+s),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)g=m,m=y;for(;;){if(m===t)break t;if(g===n&&++h===i&&(o=a),g===r&&++f===s&&(u=a),(y=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=y}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:t,selectionRange:n},pu=!1,st=e;st!==null;)if(e=st,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,st=t;else for(;st!==null;){switch(e=st,r=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,i=r.memoizedProps,r=r.memoizedState,s=n.stateNode;try{var C=Qi(n.type,i);t=s.getSnapshotBeforeUpdate(C,r),s.__reactInternalSnapshotBeforeUpdate=t}catch(D){ge(n,n.return,D)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Hf(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(P(163))}if(t=e.sibling,t!==null){t.return=e.return,st=t;break}st=e.return}}function Yx(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n),s&4&&go(5,n);break;case 1:if(Fn(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){ge(n,n.return,a)}else{var i=Qi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){ge(n,n.return,a)}}s&64&&Bx(n),s&512&&Sl(n,n.return);break;case 3:if(Fn(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Xb(t,e)}catch(a){ge(n,n.return,a)}}break;case 27:e===null&&s&4&&Gx(n);case 26:case 5:Fn(t,n),e===null&&s&4&&qx(n),s&512&&Sl(n,n.return);break;case 12:Fn(t,n);break;case 31:Fn(t,n),s&4&&$x(t,n);break;case 13:Fn(t,n),s&4&&Xx(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=xN.bind(null,n),BN(t,n))));break;case 22:if(s=n.memoizedState!==null||Qn,!s){e=e!==null&&e.memoizedState!==null||Ge,i=Qn;var r=Ge;Qn=s,(Ge=e)&&!r?Gn(t,n,(n.subtreeFlags&8772)!==0):Fn(t,n),Qn=i,Ge=r}break;case 30:break;default:Fn(t,n)}}function Qx(t){var e=t.alternate;e!==null&&(t.alternate=null,Qx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&jm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var De=null,Rt=!1;function qn(t,e,n){for(n=n.child;n!==null;)Kx(t,e,n),n=n.sibling}function Kx(t,e,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(oo,n)}catch{}switch(n.tag){case 26:Ge||Nn(n,e),qn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ge||Nn(n,e);var s=De,i=Rt;yi(n.type)&&(De=n.stateNode,Rt=!1),qn(t,e,n),Cl(n.stateNode),De=s,Rt=i;break;case 5:Ge||Nn(n,e);case 6:if(s=De,i=Rt,De=null,qn(t,e,n),De=s,Rt=i,De!==null)if(Rt)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(n.stateNode)}catch(r){ge(n,e,r)}else try{De.removeChild(n.stateNode)}catch(r){ge(n,e,r)}break;case 18:De!==null&&(Rt?(t=De,U0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),aa(t)):U0(De,n.stateNode));break;case 4:s=De,i=Rt,De=n.stateNode.containerInfo,Rt=!0,qn(t,e,n),De=s,Rt=i;break;case 0:case 11:case 14:case 15:li(2,n,e),Ge||li(4,n,e),qn(t,e,n);break;case 1:Ge||(Nn(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Hx(n,e,s)),qn(t,e,n);break;case 21:qn(t,e,n);break;case 22:Ge=(s=Ge)||n.memoizedState!==null,qn(t,e,n),Ge=s;break;default:qn(t,e,n)}}function $x(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{aa(t)}catch(n){ge(e,e.return,n)}}}function Xx(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{aa(t)}catch(n){ge(e,e.return,n)}}function fN(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new S0),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new S0),e;default:throw Error(P(435,t.tag))}}function sc(t,e){var n=fN(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var i=EN.bind(null,t,s);s.then(i,i)}})}function At(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s],r=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(yi(o.type)){De=o.stateNode,Rt=!1;break e}break;case 5:De=o.stateNode,Rt=!1;break e;case 3:case 4:De=o.stateNode.containerInfo,Rt=!0;break e}o=o.return}if(De===null)throw Error(P(160));Kx(r,a,i),De=null,Rt=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Wx(e,t),e=e.sibling}var dn=null;function Wx(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:At(e,t),Nt(t),s&4&&(li(3,t,t.return),go(3,t),li(5,t,t.return));break;case 1:At(e,t),Nt(t),s&512&&(Ge||n===null||Nn(n,n.return)),s&64&&Qn&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var i=dn;if(At(e,t),Nt(t),s&512&&(Ge||n===null||Nn(n,n.return)),s&4){var r=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":r=i.getElementsByTagName("title")[0],(!r||r[ho]||r[ot]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(s),i.head.insertBefore(r,i.querySelector("head > title"))),dt(r,s,n),r[ot]=t,it(r),s=r;break e;case"link":var a=G0("link","href",i).get(s+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}r=i.createElement(s),dt(r,s,n),i.head.appendChild(r);break;case"meta":if(a=G0("meta","content",i).get(s+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}r=i.createElement(s),dt(r,s,n),i.head.appendChild(r);break;default:throw Error(P(468,s))}r[ot]=t,it(r),s=r}t.stateNode=s}else Y0(i,t.type,t.stateNode);else t.stateNode=F0(i,s,t.memoizedProps);else r!==s?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,s===null?Y0(i,t.type,t.stateNode):F0(i,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Td(t,t.memoizedProps,n.memoizedProps)}break;case 27:At(e,t),Nt(t),s&512&&(Ge||n===null||Nn(n,n.return)),n!==null&&s&4&&Td(t,t.memoizedProps,n.memoizedProps);break;case 5:if(At(e,t),Nt(t),s&512&&(Ge||n===null||Nn(n,n.return)),t.flags&32){i=t.stateNode;try{Jr(i,"")}catch(C){ge(t,t.return,C)}}s&4&&t.stateNode!=null&&(i=t.memoizedProps,Td(t,i,n!==null?n.memoizedProps:i)),s&1024&&(Sd=!0);break;case 6:if(At(e,t),Nt(t),s&4){if(t.stateNode===null)throw Error(P(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(C){ge(t,t.return,C)}}break;case 3:if(Nc=null,i=dn,dn=du(e.containerInfo),At(e,t),dn=i,Nt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{aa(e.containerInfo)}catch(C){ge(t,t.return,C)}Sd&&(Sd=!1,Jx(t));break;case 4:s=dn,dn=du(t.stateNode.containerInfo),At(e,t),Nt(t),dn=s;break;case 12:At(e,t),Nt(t);break;case 31:At(e,t),Nt(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,sc(t,s)));break;case 13:At(e,t),Nt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(nh=Ht()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,sc(t,s)));break;case 22:i=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Qn,f=Ge;if(Qn=h||i,Ge=f||u,At(e,t),Ge=f,Qn=h,Nt(t),s&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||u||Qn||Ge||Oi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(r=u.stateNode,i)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var m=u.memoizedProps.style,g=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(C){ge(u,u.return,C)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(C){ge(u,u.return,C)}}}else if(e.tag===18){if(n===null){u=e;try{var y=u.stateNode;i?L0(y,!0):L0(u.stateNode,!1)}catch(C){ge(u,u.return,C)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,sc(t,n))));break;case 19:At(e,t),Nt(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,sc(t,s)));break;case 30:break;case 21:break;default:At(e,t),Nt(t)}}function Nt(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(Fx(s)){n=s;break}s=s.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var i=n.stateNode,r=wd(t);iu(t,r,i);break;case 5:var a=n.stateNode;n.flags&32&&(Jr(a,""),n.flags&=-33);var o=wd(t);iu(t,o,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=wd(t);jf(t,h,u);break;default:throw Error(P(161))}}catch(f){ge(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Jx(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Jx(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Fn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Yx(t,e.alternate,e),e=e.sibling}function Oi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:li(4,e,e.return),Oi(e);break;case 1:Nn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Hx(e,e.return,n),Oi(e);break;case 27:Cl(e.stateNode);case 26:case 5:Nn(e,e.return),Oi(e);break;case 22:e.memoizedState===null&&Oi(e);break;case 30:Oi(e);break;default:Oi(e)}t=t.sibling}}function Gn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,i=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:Gn(i,r,n),go(4,r);break;case 1:if(Gn(i,r,n),s=r,i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(h){ge(s,s.return,h)}if(s=r,i=s.updateQueue,i!==null){var o=s.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)$b(u[i],o)}catch(h){ge(s,s.return,h)}}n&&a&64&&Bx(r),Sl(r,r.return);break;case 27:Gx(r);case 26:case 5:Gn(i,r,n),n&&s===null&&a&4&&qx(r),Sl(r,r.return);break;case 12:Gn(i,r,n);break;case 31:Gn(i,r,n),n&&a&4&&$x(i,r);break;case 13:Gn(i,r,n),n&&a&4&&Xx(i,r);break;case 22:r.memoizedState===null&&Gn(i,r,n),Sl(r,r.return);break;case 30:break;default:Gn(i,r,n)}e=e.sibling}}function up(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&mo(n))}function hp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&mo(t))}function hn(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zx(t,e,n,s),e=e.sibling}function Zx(t,e,n,s){var i=e.flags;switch(e.tag){case 0:case 11:case 15:hn(t,e,n,s),i&2048&&go(9,e);break;case 1:hn(t,e,n,s);break;case 3:hn(t,e,n,s),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&mo(t)));break;case 12:if(i&2048){hn(t,e,n,s),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){ge(e,e.return,u)}}else hn(t,e,n,s);break;case 31:hn(t,e,n,s);break;case 13:hn(t,e,n,s);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?hn(t,e,n,s):Al(t,e):r._visibility&2?hn(t,e,n,s):(r._visibility|=2,yr(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),i&2048&&up(a,e);break;case 24:hn(t,e,n,s),i&2048&&hp(e.alternate,e);break;default:hn(t,e,n,s)}}function yr(t,e,n,s,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var r=t,a=e,o=n,u=s,h=a.flags;switch(a.tag){case 0:case 11:case 15:yr(r,a,o,u,i),go(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?yr(r,a,o,u,i):Al(r,a):(f._visibility|=2,yr(r,a,o,u,i)),i&&h&2048&&up(a.alternate,a);break;case 24:yr(r,a,o,u,i),i&&h&2048&&hp(a.alternate,a);break;default:yr(r,a,o,u,i)}e=e.sibling}}function Al(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,i=s.flags;switch(s.tag){case 22:Al(n,s),i&2048&&up(s.alternate,s);break;case 24:Al(n,s),i&2048&&hp(s.alternate,s);break;default:Al(n,s)}e=e.sibling}}var cl=8192;function pr(t,e,n){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)eE(t,e,n),t=t.sibling}function eE(t,e,n){switch(t.tag){case 26:pr(t,e,n),t.flags&cl&&t.memoizedState!==null&&ZN(n,dn,t.memoizedState,t.memoizedProps);break;case 5:pr(t,e,n);break;case 3:case 4:var s=dn;dn=du(t.stateNode.containerInfo),pr(t,e,n),dn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=cl,cl=16777216,pr(t,e,n),cl=s):pr(t,e,n));break;default:pr(t,e,n)}}function tE(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function tl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];st=s,sE(s,t)}tE(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nE(t),t=t.sibling}function nE(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&li(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Sc(t)):tl(t);break;default:tl(t)}}function Sc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];st=s,sE(s,t)}tE(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:li(8,e,e.return),Sc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Sc(e));break;default:Sc(e)}t=t.sibling}}function sE(t,e){for(;st!==null;){var n=st;switch(n.tag){case 0:case 11:case 15:li(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:mo(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,st=s;else e:for(n=t;st!==null;){s=st;var i=s.sibling,r=s.return;if(Qx(s),s===n){st=null;break e}if(i!==null){i.return=r,st=i;break e}st=r}}}var mN={getCacheForType:function(t){var e=ht(Ye),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return ht(Ye).controller.signal}},pN=typeof WeakMap=="function"?WeakMap:Map,de=0,xe=null,re=null,ce=0,pe=0,Pt=null,zs=!1,ba=!1,dp=!1,us=0,Pe=0,oi=0,zi=0,fp=0,zt=0,na=0,Nl=null,Ct=null,Of=!1,nh=0,iE=0,ru=1/0,au=null,Ks=null,Je=0,$s=null,sa=null,ts=0,Mf=0,Vf=null,rE=null,Rl=0,kf=null;function Gt(){return de&2&&ce!==0?ce&-ce:$.T!==null?pp():mb()}function aE(){if(zt===0)if(!(ce&536870912)||ue){var t=$o;$o<<=1,!($o&3932160)&&($o=262144),zt=t}else zt=536870912;return t=Kt.current,t!==null&&(t.flags|=32),zt}function jt(t,e,n){(t===xe&&(pe===2||pe===9)||t.cancelPendingCommit!==null)&&(ia(t,0),Bs(t,ce,zt,!1)),uo(t,n),(!(de&2)||t!==xe)&&(t===xe&&(!(de&2)&&(zi|=n),Pe===4&&Bs(t,ce,zt,!1)),Pn(t))}function lE(t,e,n){if(de&6)throw Error(P(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||co(t,e),i=s?vN(t,e):Ad(t,e,!0),r=s;do{if(i===0){ba&&!s&&Bs(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!gN(n)){i=Ad(t,e,!1),r=!1;continue}if(i===2){if(r=e,t.errorRecoveryDisabledLanes&r)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=Nl;var u=o.current.memoizedState.isDehydrated;if(u&&(ia(o,a).flags|=256),a=Ad(o,a,!1),a!==2){if(dp&&!u){o.errorRecoveryDisabledLanes|=r,zi|=r,i=4;break e}r=Ct,Ct=i,r!==null&&(Ct===null?Ct=r:Ct.push.apply(Ct,r))}i=a}if(r=!1,i!==2)continue}}if(i===1){ia(t,0),Bs(t,e,0,!0);break}e:{switch(s=t,r=i,r){case 0:case 1:throw Error(P(345));case 4:if((e&4194048)!==e)break;case 6:Bs(s,e,zt,!zs);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(P(329))}if((e&62914560)===e&&(i=nh+300-Ht(),10<i)){if(Bs(s,e,zt,!zs),Gu(s,0,!0)!==0)break e;ts=e,s.timeoutHandle=NE(A0.bind(null,s,n,Ct,au,Of,e,zt,zi,na,zs,r,"Throttled",-0,0),i);break e}A0(s,n,Ct,au,Of,e,zt,zi,na,zs,r,null,-0,0)}}break}while(!0);Pn(t)}function A0(t,e,n,s,i,r,a,o,u,h,f,m,g,y){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},eE(e,r,m);var C=(r&62914560)===r?nh-Ht():(r&4194048)===r?iE-Ht():0;if(C=eR(m,C),C!==null){ts=r,t.cancelPendingCommit=C(R0.bind(null,t,e,r,n,s,i,a,o,u,f,m,null,g,y)),Bs(t,r,a,!h);return}}R0(t,e,r,n,s,i,a,o,u)}function gN(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!Qt(r(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bs(t,e,n,s){e&=~fp,e&=~zi,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var i=e;0<i;){var r=31-Ft(i),a=1<<r;s[r]=-1,i&=~a}n!==0&&hb(t,n,e)}function sh(){return de&6?!0:(yo(0),!1)}function mp(){if(re!==null){if(pe===0)var t=re.return;else t=re,Xn=ar=null,Zm(t),zr=null,Hl=0,t=re;for(;t!==null;)zx(t.alternate,t),t=t.return;re=null}}function ia(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,kN(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),ts=0,mp(),xe=t,re=n=Zn(t.current,null),ce=e,pe=0,Pt=null,zs=!1,ba=co(t,e),dp=!1,na=zt=fp=zi=oi=Pe=0,Ct=Nl=null,Of=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var i=31-Ft(s),r=1<<i;e|=t[i],s&=~r}return us=e,$u(),n}function oE(t,e){ee=null,$.H=Fl,e===_a||e===Wu?(e=i0(),pe=3):e===Ym?(e=i0(),pe=4):pe=e===op?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Pt=e,re===null&&(Pe=1,nu(t,tn(e,t.current)))}function cE(){var t=Kt.current;return t===null?!0:(ce&4194048)===ce?an===null:(ce&62914560)===ce||ce&536870912?t===an:!1}function uE(){var t=$.H;return $.H=Fl,t===null?Fl:t}function hE(){var t=$.A;return $.A=mN,t}function lu(){Pe=4,zs||(ce&4194048)!==ce&&Kt.current!==null||(ba=!0),!(oi&134217727)&&!(zi&134217727)||xe===null||Bs(xe,ce,zt,!1)}function Ad(t,e,n){var s=de;de|=2;var i=uE(),r=hE();(xe!==t||ce!==e)&&(au=null,ia(t,e)),e=!1;var a=Pe;e:do try{if(pe!==0&&re!==null){var o=re,u=Pt;switch(pe){case 8:mp(),a=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(e=!0);var h=pe;if(pe=0,Pt=null,Mr(t,o,u,h),n&&ba){a=0;break e}break;default:h=pe,pe=0,Pt=null,Mr(t,o,u,h)}}yN(),a=Pe;break}catch(f){oE(t,f)}while(!0);return e&&t.shellSuspendCounter++,Xn=ar=null,de=s,$.H=i,$.A=r,re===null&&(xe=null,ce=0,$u()),a}function yN(){for(;re!==null;)dE(re)}function vN(t,e){var n=de;de|=2;var s=uE(),i=hE();xe!==t||ce!==e?(au=null,ru=Ht()+500,ia(t,e)):ba=co(t,e);e:do try{if(pe!==0&&re!==null){e=re;var r=Pt;t:switch(pe){case 1:pe=0,Pt=null,Mr(t,e,r,1);break;case 2:case 9:if(s0(r)){pe=0,Pt=null,N0(e);break}e=function(){pe!==2&&pe!==9||xe!==t||(pe=7),Pn(t)},r.then(e,e);break e;case 3:pe=7;break e;case 4:pe=5;break e;case 7:s0(r)?(pe=0,Pt=null,N0(e)):(pe=0,Pt=null,Mr(t,e,r,7));break;case 5:var a=null;switch(re.tag){case 26:a=re.memoizedState;case 5:case 27:var o=re;if(a?jE(a):o.stateNode.complete){pe=0,Pt=null;var u=o.sibling;if(u!==null)re=u;else{var h=o.return;h!==null?(re=h,ih(h)):re=null}break t}}pe=0,Pt=null,Mr(t,e,r,5);break;case 6:pe=0,Pt=null,Mr(t,e,r,6);break;case 8:mp(),Pe=6;break e;default:throw Error(P(462))}}_N();break}catch(f){oE(t,f)}while(!0);return Xn=ar=null,$.H=s,$.A=i,de=n,re!==null?0:(xe=null,ce=0,$u(),Pe)}function _N(){for(;re!==null&&!H1();)dE(re)}function dE(t){var e=Lx(t.alternate,t,us);t.memoizedProps=t.pendingProps,e===null?ih(t):re=e}function N0(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=b0(n,e,e.pendingProps,e.type,void 0,ce);break;case 11:e=b0(n,e,e.pendingProps,e.type.render,e.ref,ce);break;case 5:Zm(e);default:zx(n,e),e=re=zb(e,us),e=Lx(n,e,us)}t.memoizedProps=t.pendingProps,e===null?ih(t):re=e}function Mr(t,e,n,s){Xn=ar=null,Zm(e),zr=null,Hl=0;var i=e.return;try{if(lN(t,i,e,n,ce)){Pe=1,nu(t,tn(n,t.current)),re=null;return}}catch(r){if(i!==null)throw re=i,r;Pe=1,nu(t,tn(n,t.current)),re=null;return}e.flags&32768?(ue||s===1?t=!0:ba||ce&536870912?t=!1:(zs=t=!0,(s===2||s===9||s===3||s===6)&&(s=Kt.current,s!==null&&s.tag===13&&(s.flags|=16384))),fE(e,t)):ih(e)}function ih(t){var e=t;do{if(e.flags&32768){fE(e,zs);return}t=e.return;var n=uN(e.alternate,e,us);if(n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);Pe===0&&(Pe=5)}function fE(t,e){do{var n=hN(t.alternate,t);if(n!==null){n.flags&=32767,re=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){re=t;return}re=t=n}while(t!==null);Pe=6,re=null}function R0(t,e,n,s,i,r,a,o,u){t.cancelPendingCommit=null;do rh();while(Je!==0);if(de&6)throw Error(P(327));if(e!==null){if(e===t.current)throw Error(P(177));if(r=e.lanes|e.childLanes,r|=Lm,J1(t,n,r,a,o,u),t===xe&&(re=xe=null,ce=0),sa=e,$s=t,ts=n,Mf=r,Vf=i,rE=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,TN(Gc,function(){return vE(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=$.T,$.T=null,i=fe.p,fe.p=2,a=de,de|=4;try{dN(t,e,n)}finally{de=a,fe.p=i,$.T=s}}Je=1,mE(),pE(),gE()}}function mE(){if(Je===1){Je=0;var t=$s,e=sa,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=$.T,$.T=null;var s=fe.p;fe.p=2;var i=de;de|=4;try{Wx(e,t);var r=zf,a=jb(t.containerInfo),o=r.focusedElem,u=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&Db(o.ownerDocument.documentElement,o)){if(u!==null&&Um(o)){var h=u.start,f=u.end;if(f===void 0&&(f=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(f,o.value.length);else{var m=o.ownerDocument||document,g=m&&m.defaultView||window;if(g.getSelection){var y=g.getSelection(),C=o.textContent.length,D=Math.min(u.start,C),O=u.end===void 0?D:Math.min(u.end,C);!y.extend&&D>O&&(a=O,O=D,D=a);var _=Xy(o,D),b=Xy(o,O);if(_&&b&&(y.rangeCount!==1||y.anchorNode!==_.node||y.anchorOffset!==_.offset||y.focusNode!==b.node||y.focusOffset!==b.offset)){var T=m.createRange();T.setStart(_.node,_.offset),y.removeAllRanges(),D>O?(y.addRange(T),y.extend(b.node,b.offset)):(T.setEnd(b.node,b.offset),y.addRange(T))}}}}for(m=[],y=o;y=y.parentNode;)y.nodeType===1&&m.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var j=m[o];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}pu=!!Lf,zf=Lf=null}finally{de=i,fe.p=s,$.T=n}}t.current=e,Je=2}}function pE(){if(Je===2){Je=0;var t=$s,e=sa,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=$.T,$.T=null;var s=fe.p;fe.p=2;var i=de;de|=4;try{Yx(t,e.alternate,e)}finally{de=i,fe.p=s,$.T=n}}Je=3}}function gE(){if(Je===4||Je===3){Je=0,q1();var t=$s,e=sa,n=ts,s=rE;e.subtreeFlags&10256||e.flags&10256?Je=5:(Je=0,sa=$s=null,yE(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Ks=null),Dm(n),e=e.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(oo,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=$.T,i=fe.p,fe.p=2,$.T=null;try{for(var r=t.onRecoverableError,a=0;a<s.length;a++){var o=s[a];r(o.value,{componentStack:o.stack})}}finally{$.T=e,fe.p=i}}ts&3&&rh(),Pn(t),i=t.pendingLanes,n&261930&&i&42?t===kf?Rl++:(Rl=0,kf=t):Rl=0,yo(0)}}function yE(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,mo(e)))}function rh(){return mE(),pE(),gE(),vE()}function vE(){if(Je!==5)return!1;var t=$s,e=Mf;Mf=0;var n=Dm(ts),s=$.T,i=fe.p;try{fe.p=32>n?32:n,$.T=null,n=Vf,Vf=null;var r=$s,a=ts;if(Je=0,sa=$s=null,ts=0,de&6)throw Error(P(331));var o=de;if(de|=4,nE(r.current),Zx(r,r.current,a,n),de=o,yo(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(oo,r)}catch{}return!0}finally{fe.p=i,$.T=s,yE(t,e)}}function C0(t,e,n){e=tn(n,e),e=Cf(t.stateNode,e,2),t=Qs(t,e,2),t!==null&&(uo(t,2),Pn(t))}function ge(t,e,n){if(t.tag===3)C0(t,t,n);else for(;e!==null;){if(e.tag===3){C0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ks===null||!Ks.has(s))){t=tn(n,t),n=Ox(2),s=Qs(e,n,2),s!==null&&(Mx(n,s,e,t),uo(s,2),Pn(s));break}}e=e.return}}function Nd(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new pN;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(dp=!0,i.add(n),t=bN.bind(null,t,e,n),e.then(t,t))}function bN(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,xe===t&&(ce&n)===n&&(Pe===4||Pe===3&&(ce&62914560)===ce&&300>Ht()-nh?!(de&2)&&ia(t,0):fp|=n,na===ce&&(na=0)),Pn(t)}function _E(t,e){e===0&&(e=ub()),t=rr(t,e),t!==null&&(uo(t,e),Pn(t))}function xN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_E(t,n)}function EN(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(P(314))}s!==null&&s.delete(e),_E(t,n)}function TN(t,e){return Cm(t,e)}var ou=null,vr=null,Pf=!1,cu=!1,Rd=!1,Hs=0;function Pn(t){t!==vr&&t.next===null&&(vr===null?ou=vr=t:vr=vr.next=t),cu=!0,Pf||(Pf=!0,SN())}function yo(t,e){if(!Rd&&cu){Rd=!0;do for(var n=!1,s=ou;s!==null;){if(t!==0){var i=s.pendingLanes;if(i===0)var r=0;else{var a=s.suspendedLanes,o=s.pingedLanes;r=(1<<31-Ft(42|t)+1)-1,r&=i&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,I0(s,r))}else r=ce,r=Gu(s,s===xe?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(r&3)||co(s,r)||(n=!0,I0(s,r));s=s.next}while(n);Rd=!1}}function wN(){bE()}function bE(){cu=Pf=!1;var t=0;Hs!==0&&VN()&&(t=Hs);for(var e=Ht(),n=null,s=ou;s!==null;){var i=s.next,r=xE(s,e);r===0?(s.next=null,n===null?ou=i:n.next=i,i===null&&(vr=n)):(n=s,(t!==0||r&3)&&(cu=!0)),s=i}Je!==0&&Je!==5||yo(t),Hs!==0&&(Hs=0)}function xE(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var a=31-Ft(r),o=1<<a,u=i[a];u===-1?(!(o&n)||o&s)&&(i[a]=W1(o,e)):u<=e&&(t.expiredLanes|=o),r&=~o}if(e=xe,n=ce,n=Gu(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(pe===2||pe===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&nd(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||co(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&nd(s),Dm(n)){case 2:case 8:n=ob;break;case 32:n=Gc;break;case 268435456:n=cb;break;default:n=Gc}return s=EE.bind(null,t),n=Cm(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&nd(s),t.callbackPriority=2,t.callbackNode=null,2}function EE(t,e){if(Je!==0&&Je!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(rh()&&t.callbackNode!==n)return null;var s=ce;return s=Gu(t,t===xe?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(lE(t,s,e),xE(t,Ht()),t.callbackNode!=null&&t.callbackNode===n?EE.bind(null,t):null)}function I0(t,e){if(rh())return null;lE(t,e,!0)}function SN(){PN(function(){de&6?Cm(lb,wN):bE()})}function pp(){if(Hs===0){var t=Zr;t===0&&(t=Ko,Ko<<=1,!(Ko&261888)&&(Ko=256)),Hs=t}return Hs}function D0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gc(""+t)}function j0(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function AN(t,e,n,s,i){if(e==="submit"&&n&&n.stateNode===i){var r=D0((i[Ot]||null).action),a=s.submitter;a&&(e=(e=a[Ot]||null)?D0(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var o=new Yu("action","action",null,s,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Hs!==0){var u=a?j0(i,a):new FormData(i);Nf(n,{pending:!0,data:u,method:i.method,action:r},null,u)}}else typeof r=="function"&&(o.preventDefault(),u=a?j0(i,a):new FormData(i),Nf(n,{pending:!0,data:u,method:i.method,action:r},r,u))},currentTarget:i}]})}}for(var Cd=0;Cd<pf.length;Cd++){var Id=pf[Cd],NN=Id.toLowerCase(),RN=Id[0].toUpperCase()+Id.slice(1);vn(NN,"on"+RN)}vn(Mb,"onAnimationEnd");vn(Vb,"onAnimationIteration");vn(kb,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(FA,"onTransitionRun");vn(GA,"onTransitionStart");vn(YA,"onTransitionCancel");vn(Pb,"onTransitionEnd");Wr("onMouseEnter",["mouseout","mouseover"]);Wr("onMouseLeave",["mouseout","mouseover"]);Wr("onPointerEnter",["pointerout","pointerover"]);Wr("onPointerLeave",["pointerout","pointerover"]);nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function TE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],u=o.instance,h=o.currentTarget;if(o=o.listener,u!==r&&i.isPropagationStopped())break e;r=o,i.currentTarget=h;try{r(i)}catch(f){Qc(f)}i.currentTarget=null,r=u}else for(a=0;a<s.length;a++){if(o=s[a],u=o.instance,h=o.currentTarget,o=o.listener,u!==r&&i.isPropagationStopped())break e;r=o,i.currentTarget=h;try{r(i)}catch(f){Qc(f)}i.currentTarget=null,r=u}}}}function ie(t,e){var n=e[lf];n===void 0&&(n=e[lf]=new Set);var s=t+"__bubble";n.has(s)||(wE(e,t,2,!1),n.add(s))}function Dd(t,e,n){var s=0;e&&(s|=4),wE(n,t,s,e)}var ic="_reactListening"+Math.random().toString(36).slice(2);function gp(t){if(!t[ic]){t[ic]=!0,pb.forEach(function(n){n!=="selectionchange"&&(CN.has(n)||Dd(n,!1,t),Dd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ic]||(e[ic]=!0,Dd("selectionchange",!1,e))}}function wE(t,e,n,s){switch(PE(e)){case 2:var i=sR;break;case 8:i=iR;break;default:i=bp}n=i.bind(null,e,n,t),i=void 0,!df||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jd(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=s.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=Sr(o),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){s=r=a;continue e}o=o.parentNode}}s=s.return}Tb(function(){var h=r,f=Mm(n),m=[];e:{var g=Ub.get(t);if(g!==void 0){var y=Yu,C=t;switch(t){case"keypress":if(vc(n)===0)break e;case"keydown":case"keyup":y=EA;break;case"focusin":C="focus",y=ld;break;case"focusout":C="blur",y=ld;break;case"beforeblur":case"afterblur":y=ld;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=zy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=uA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=SA;break;case Mb:case Vb:case kb:y=fA;break;case Pb:y=NA;break;case"scroll":case"scrollend":y=oA;break;case"wheel":y=CA;break;case"copy":case"cut":case"paste":y=pA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Hy;break;case"toggle":case"beforetoggle":y=DA}var D=(e&4)!==0,O=!D&&(t==="scroll"||t==="scrollend"),_=D?g!==null?g+"Capture":null:g;D=[];for(var b=h,T;b!==null;){var j=b;if(T=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||T===null||_===null||(j=Pl(b,_),j!=null&&D.push(Yl(b,j,T))),O)break;b=b.return}0<D.length&&(g=new y(g,C,null,n,f),m.push({event:g,listeners:D}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==hf&&(C=n.relatedTarget||n.fromElement)&&(Sr(C)||C[ga]))break e;if((y||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=h,C=C?Sr(C):null,C!==null&&(O=lo(C),D=C.tag,C!==O||D!==5&&D!==27&&D!==6)&&(C=null)):(y=null,C=h),y!==C)){if(D=zy,j="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(D=Hy,j="onPointerLeave",_="onPointerEnter",b="pointer"),O=y==null?g:ll(y),T=C==null?g:ll(C),g=new D(j,b+"leave",y,n,f),g.target=O,g.relatedTarget=T,j=null,Sr(f)===h&&(D=new D(_,b+"enter",C,n,f),D.target=T,D.relatedTarget=O,j=D),O=j,y&&C)t:{for(D=IN,_=y,b=C,T=0,j=_;j;j=D(j))T++;j=0;for(var U=b;U;U=D(U))j++;for(;0<T-j;)_=D(_),T--;for(;0<j-T;)b=D(b),j--;for(;T--;){if(_===b||b!==null&&_===b.alternate){D=_;break t}_=D(_),b=D(b)}D=null}else D=null;y!==null&&O0(m,g,y,D,!1),C!==null&&O!==null&&O0(m,O,C,D,!0)}}e:{if(g=h?ll(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var z=Yy;else if(Gy(g))if(Cb)z=BA;else{z=LA;var w=UA}else y=g.nodeName,!y||y.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?h&&Om(h.elementType)&&(z=Yy):z=zA;if(z&&(z=z(t,h))){Rb(m,z,n,f);break e}w&&w(t,g,h),t==="focusout"&&h&&g.type==="number"&&h.memoizedProps.value!=null&&uf(g,"number",g.value)}switch(w=h?ll(h):window,t){case"focusin":(Gy(w)||w.contentEditable==="true")&&(Rr=w,ff=h,_l=null);break;case"focusout":_l=ff=Rr=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Wy(m,n,f);break;case"selectionchange":if(qA)break;case"keydown":case"keyup":Wy(m,n,f)}var x;if(Pm)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Nr?Ab(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Sb&&n.locale!=="ko"&&(Nr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Nr&&(x=wb()):(Ls=f,Vm="value"in Ls?Ls.value:Ls.textContent,Nr=!0)),w=uu(h,S),0<w.length&&(S=new By(S,t,null,n,f),m.push({event:S,listeners:w}),x?S.data=x:(x=Nb(n),x!==null&&(S.data=x)))),(x=OA?MA(t,n):VA(t,n))&&(S=uu(h,"onBeforeInput"),0<S.length&&(w=new By("onBeforeInput","beforeinput",null,n,f),m.push({event:w,listeners:S}),w.data=x)),AN(m,t,h,n,f)}TE(m,e)})}function Yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uu(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Pl(t,n),i!=null&&s.unshift(Yl(t,i,r)),i=Pl(t,e),i!=null&&s.push(Yl(t,i,r))),t.tag===3)return s;t=t.return}return[]}function IN(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function O0(t,e,n,s,i){for(var r=e._reactName,a=[];n!==null&&n!==s;){var o=n,u=o.alternate,h=o.stateNode;if(o=o.tag,u!==null&&u===s)break;o!==5&&o!==26&&o!==27||h===null||(u=h,i?(h=Pl(n,r),h!=null&&a.unshift(Yl(n,h,u))):i||(h=Pl(n,r),h!=null&&a.push(Yl(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var DN=/\r\n?/g,jN=/\u0000|\uFFFD/g;function M0(t){return(typeof t=="string"?t:""+t).replace(DN,`
`).replace(jN,"")}function SE(t,e){return e=M0(e),M0(t)===e}function ve(t,e,n,s,i,r){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Jr(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Jr(t,""+s);break;case"className":Wo(t,"class",s);break;case"tabIndex":Wo(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Wo(t,n,s);break;case"style":Eb(t,s,r);break;case"data":if(e!=="object"){Wo(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=gc(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&ve(t,e,"name",i.name,i,null),ve(t,e,"formEncType",i.formEncType,i,null),ve(t,e,"formMethod",i.formMethod,i,null),ve(t,e,"formTarget",i.formTarget,i,null)):(ve(t,e,"encType",i.encType,i,null),ve(t,e,"method",i.method,i,null),ve(t,e,"target",i.target,i,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=gc(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=$n);break;case"onScroll":s!=null&&ie("scroll",t);break;case"onScrollEnd":s!=null&&ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(P(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=gc(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":ie("beforetoggle",t),ie("toggle",t),pc(t,"popover",s);break;case"xlinkActuate":Bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Bn(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Bn(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Bn(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Bn(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":pc(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=aA.get(n)||n,pc(t,n,s))}}function Uf(t,e,n,s,i,r){switch(n){case"style":Eb(t,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(P(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"children":typeof s=="string"?Jr(t,s):(typeof s=="number"||typeof s=="bigint")&&Jr(t,""+s);break;case"onScroll":s!=null&&ie("scroll",t);break;case"onScrollEnd":s!=null&&ie("scrollend",t);break;case"onClick":s!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gb.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),r=t[Ot]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,i),typeof s=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,i);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):pc(t,n,s)}}}function dt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",t),ie("load",t);var s=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:ve(t,e,r,a,n,null)}}i&&ve(t,e,"srcSet",n.srcSet,n,null),s&&ve(t,e,"src",n.src,n,null);return;case"input":ie("invalid",t);var o=r=a=i=null,u=null,h=null;for(s in n)if(n.hasOwnProperty(s)){var f=n[s];if(f!=null)switch(s){case"name":i=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":h=f;break;case"value":r=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(P(137,e));break;default:ve(t,e,s,f,n,null)}}_b(t,r,o,u,h,a,i,!1);return;case"select":ie("invalid",t),s=a=r=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":s=o;default:ve(t,e,i,o,n,null)}e=r,n=a,t.multiple=!!s,e!=null?Pr(t,!!s,e,!1):n!=null&&Pr(t,!!s,n,!0);return;case"textarea":ie("invalid",t),r=i=s=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":s=o;break;case"defaultValue":i=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(P(91));break;default:ve(t,e,a,o,n,null)}xb(t,s,i,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ve(t,e,u,s,n,null)}return;case"dialog":ie("beforetoggle",t),ie("toggle",t),ie("cancel",t),ie("close",t);break;case"iframe":case"object":ie("load",t);break;case"video":case"audio":for(s=0;s<Gl.length;s++)ie(Gl[s],t);break;case"image":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"embed":case"source":case"link":ie("error",t),ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:ve(t,e,h,s,n,null)}return;default:if(Om(e)){for(f in n)n.hasOwnProperty(f)&&(s=n[f],s!==void 0&&Uf(t,e,f,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!=null&&ve(t,e,o,s,n,null))}function ON(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,a=null,o=null,u=null,h=null,f=null;for(y in n){var m=n[y];if(n.hasOwnProperty(y)&&m!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=m;default:s.hasOwnProperty(y)||ve(t,e,y,null,s,m)}}for(var g in s){var y=s[g];if(m=n[g],s.hasOwnProperty(g)&&(y!=null||m!=null))switch(g){case"type":r=y;break;case"name":i=y;break;case"checked":h=y;break;case"defaultChecked":f=y;break;case"value":a=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(P(137,e));break;default:y!==m&&ve(t,e,g,y,s,m)}}cf(t,a,o,u,h,f,r,i);return;case"select":y=a=o=g=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":y=u;default:s.hasOwnProperty(r)||ve(t,e,r,null,s,u)}for(i in s)if(r=s[i],u=n[i],s.hasOwnProperty(i)&&(r!=null||u!=null))switch(i){case"value":g=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==u&&ve(t,e,i,r,s,u)}e=o,n=a,s=y,g!=null?Pr(t,!!n,g,!1):!!s!=!!n&&(e!=null?Pr(t,!!n,e,!0):Pr(t,!!n,n?[]:"",!1));return;case"textarea":y=g=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ve(t,e,o,null,s,i)}for(a in s)if(i=s[a],r=n[a],s.hasOwnProperty(a)&&(i!=null||r!=null))switch(a){case"value":g=i;break;case"defaultValue":y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(P(91));break;default:i!==r&&ve(t,e,a,i,s,r)}bb(t,g,y);return;case"option":for(var C in n)if(g=n[C],n.hasOwnProperty(C)&&g!=null&&!s.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:ve(t,e,C,null,s,g)}for(u in s)if(g=s[u],y=n[u],s.hasOwnProperty(u)&&g!==y&&(g!=null||y!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ve(t,e,u,g,s,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)g=n[D],n.hasOwnProperty(D)&&g!=null&&!s.hasOwnProperty(D)&&ve(t,e,D,null,s,g);for(h in s)if(g=s[h],y=n[h],s.hasOwnProperty(h)&&g!==y&&(g!=null||y!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(P(137,e));break;default:ve(t,e,h,g,s,y)}return;default:if(Om(e)){for(var O in n)g=n[O],n.hasOwnProperty(O)&&g!==void 0&&!s.hasOwnProperty(O)&&Uf(t,e,O,void 0,s,g);for(f in s)g=s[f],y=n[f],!s.hasOwnProperty(f)||g===y||g===void 0&&y===void 0||Uf(t,e,f,g,s,y);return}}for(var _ in n)g=n[_],n.hasOwnProperty(_)&&g!=null&&!s.hasOwnProperty(_)&&ve(t,e,_,null,s,g);for(m in s)g=s[m],y=n[m],!s.hasOwnProperty(m)||g===y||g==null&&y==null||ve(t,e,m,g,s,y)}function V0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var i=n[s],r=i.transferSize,a=i.initiatorType,o=i.duration;if(r&&o&&V0(a)){for(a=0,o=i.responseEnd,s+=1;s<n.length;s++){var u=n[s],h=u.startTime;if(h>o)break;var f=u.transferSize,m=u.initiatorType;f&&V0(m)&&(u=u.responseEnd,a+=f*(u<o?1:(o-h)/(u-h)))}if(--s,e+=8*(r+a)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Lf=null,zf=null;function hu(t){return t.nodeType===9?t:t.ownerDocument}function k0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AE(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Bf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Od=null;function VN(){var t=window.event;return t&&t.type==="popstate"?t===Od?!1:(Od=t,!0):(Od=null,!1)}var NE=typeof setTimeout=="function"?setTimeout:void 0,kN=typeof clearTimeout=="function"?clearTimeout:void 0,P0=typeof Promise=="function"?Promise:void 0,PN=typeof queueMicrotask=="function"?queueMicrotask:typeof P0<"u"?function(t){return P0.resolve(null).then(t).catch(UN)}:NE;function UN(t){setTimeout(function(){throw t})}function yi(t){return t==="head"}function U0(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(i),aa(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")Cl(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Cl(n);for(var r=n.firstChild;r;){var a=r.nextSibling,o=r.nodeName;r[ho]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&Cl(t.ownerDocument.body);n=i}while(n);aa(e)}function L0(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function Hf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hf(n),jm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function LN(t,e,n,s){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[ho])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=ln(t.nextSibling),t===null)break}return null}function zN(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ln(t.nextSibling),t===null))return null;return t}function RE(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=ln(t.nextSibling),t===null))return null;return t}function qf(t){return t.data==="$?"||t.data==="$~"}function Ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function BN(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function ln(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Gf=null;function z0(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return ln(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function B0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function CE(t,e,n){switch(e=hu(n),t){case"html":if(t=e.documentElement,!t)throw Error(P(452));return t;case"head":if(t=e.head,!t)throw Error(P(453));return t;case"body":if(t=e.body,!t)throw Error(P(454));return t;default:throw Error(P(451))}}function Cl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);jm(t)}var cn=new Map,H0=new Set;function du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=fe.d;fe.d={f:HN,r:qN,D:FN,C:GN,L:YN,m:QN,X:$N,S:KN,M:XN};function HN(){var t=gs.f(),e=sh();return t||e}function qN(t){var e=ya(t);e!==null&&e.tag===5&&e.type==="form"?Ex(e):gs.r(t)}var xa=typeof document>"u"?null:document;function IE(t,e,n){var s=xa;if(s&&typeof e=="string"&&e){var i=en(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),H0.has(i)||(H0.add(i),t={rel:t,crossOrigin:n,href:e},s.querySelector(i)===null&&(e=s.createElement("link"),dt(e,"link",t),it(e),s.head.appendChild(e)))}}function FN(t){gs.D(t),IE("dns-prefetch",t,null)}function GN(t,e){gs.C(t,e),IE("preconnect",t,e)}function YN(t,e,n){gs.L(t,e,n);var s=xa;if(s&&t&&e){var i='link[rel="preload"][as="'+en(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+en(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+en(n.imageSizes)+'"]')):i+='[href="'+en(t)+'"]';var r=i;switch(e){case"style":r=ra(t);break;case"script":r=Ea(t)}cn.has(r)||(t=Ie({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),cn.set(r,t),s.querySelector(i)!==null||e==="style"&&s.querySelector(vo(r))||e==="script"&&s.querySelector(_o(r))||(e=s.createElement("link"),dt(e,"link",t),it(e),s.head.appendChild(e)))}}function QN(t,e){gs.m(t,e);var n=xa;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+en(s)+'"][href="'+en(t)+'"]',r=i;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ea(t)}if(!cn.has(r)&&(t=Ie({rel:"modulepreload",href:t},e),cn.set(r,t),n.querySelector(i)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_o(r)))return}s=n.createElement("link"),dt(s,"link",t),it(s),n.head.appendChild(s)}}}function KN(t,e,n){gs.S(t,e,n);var s=xa;if(s&&t){var i=kr(s).hoistableStyles,r=ra(t);e=e||"default";var a=i.get(r);if(!a){var o={loading:0,preload:null};if(a=s.querySelector(vo(r)))o.loading=5;else{t=Ie({rel:"stylesheet",href:t,"data-precedence":e},n),(n=cn.get(r))&&yp(t,n);var u=a=s.createElement("link");it(u),dt(u,"link",t),u._p=new Promise(function(h,f){u.onload=h,u.onerror=f}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ac(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(r,a)}}}function $N(t,e){gs.X(t,e);var n=xa;if(n&&t){var s=kr(n).hoistableScripts,i=Ea(t),r=s.get(i);r||(r=n.querySelector(_o(i)),r||(t=Ie({src:t,async:!0},e),(e=cn.get(i))&&vp(t,e),r=n.createElement("script"),it(r),dt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function XN(t,e){gs.M(t,e);var n=xa;if(n&&t){var s=kr(n).hoistableScripts,i=Ea(t),r=s.get(i);r||(r=n.querySelector(_o(i)),r||(t=Ie({src:t,async:!0,type:"module"},e),(e=cn.get(i))&&vp(t,e),r=n.createElement("script"),it(r),dt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function q0(t,e,n,s){var i=(i=Fs.current)?du(i):null;if(!i)throw Error(P(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ra(n.href),n=kr(i).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ra(n.href);var r=kr(i).hoistableStyles,a=r.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,a),(r=i.querySelector(vo(t)))&&!r._p&&(a.instance=r,a.state.loading=5),cn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},cn.set(t,n),r||WN(i,t,n,a.state))),e&&s===null)throw Error(P(528,""));return a}if(e&&s!==null)throw Error(P(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ea(n),n=kr(i).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,t))}}function ra(t){return'href="'+en(t)+'"'}function vo(t){return'link[rel="stylesheet"]['+t+"]"}function DE(t){return Ie({},t,{"data-precedence":t.precedence,precedence:null})}function WN(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),dt(e,"link",n),it(e),t.head.appendChild(e))}function Ea(t){return'[src="'+en(t)+'"]'}function _o(t){return"script[async]"+t}function F0(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+en(n.href)+'"]');if(s)return e.instance=s,it(s),s;var i=Ie({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),it(s),dt(s,"style",i),Ac(s,n.precedence,t),e.instance=s;case"stylesheet":i=ra(n.href);var r=t.querySelector(vo(i));if(r)return e.state.loading|=4,e.instance=r,it(r),r;s=DE(n),(i=cn.get(i))&&yp(s,i),r=(t.ownerDocument||t).createElement("link"),it(r);var a=r;return a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),dt(r,"link",s),e.state.loading|=4,Ac(r,n.precedence,t),e.instance=r;case"script":return r=Ea(n.src),(i=t.querySelector(_o(r)))?(e.instance=i,it(i),i):(s=n,(i=cn.get(r))&&(s=Ie({},n),vp(s,i)),t=t.ownerDocument||t,i=t.createElement("script"),it(i),dt(i,"link",s),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(P(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,Ac(s,n.precedence,t));return e.instance}function Ac(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=s.length?s[s.length-1]:null,r=i,a=0;a<s.length;a++){var o=s[a];if(o.dataset.precedence===e)r=o;else if(r!==i)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function yp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function vp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Nc=null;function G0(t,e,n){if(Nc===null){var s=new Map,i=Nc=new Map;i.set(n,s)}else i=Nc,s=i.get(n),s||(s=new Map,i.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var r=n[i];if(!(r[ho]||r[ot]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=t+a;var o=s.get(a);o?o.push(r):s.set(a,[r])}}return s}function Y0(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function JN(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function jE(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function ZN(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=ra(s.href),r=e.querySelector(vo(i));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=fu.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=r,it(r);return}r=e.ownerDocument||e,s=DE(s),(i=cn.get(i))&&yp(s,i),r=r.createElement("link"),it(r);var a=r;a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),dt(r,"link",s),n.instance=r}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=fu.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Md=0;function eR(t,e){return t.stylesheets&&t.count===0&&Rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4+e);0<t.imgBytes&&Md===0&&(Md=62500*MN());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend)){var r=t.unsuspend;t.unsuspend=null,r()}},(t.imgBytes>Md?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(i)}}:null}function fu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mu=null;function Rc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mu=new Map,e.forEach(tR,t),mu=null,fu.call(t))}function tR(t,e){if(!(e.state.loading&4)){var n=mu.get(t);if(n)var s=n.get(null);else{n=new Map,mu.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var a=i[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}i=e.instance,a=i.getAttribute("data-precedence"),r=n.get(a)||s,r===s&&n.set(null,i),n.set(a,i),this.count++,s=fu.bind(this),i.addEventListener("load",s),i.addEventListener("error",s),r?r.parentNode.insertBefore(i,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Ql={$$typeof:Kn,Provider:null,Consumer:null,_currentValue:ki,_currentValue2:ki,_threadCount:0};function nR(t,e,n,s,i,r,a,o,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sd(0),this.hiddenUpdates=sd(null),this.identifierPrefix=s,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function OE(t,e,n,s,i,r,a,o,u,h,f,m){return t=new nR(t,e,n,a,u,h,f,m,o),e=1,r===!0&&(e|=24),r=Lt(3,null,null,e),t.current=r,r.stateNode=t,e=Fm(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:s,isDehydrated:n,cache:e},Qm(r),t}function ME(t){return t?(t=Dr,t):Dr}function VE(t,e,n,s,i,r){i=ME(i),s.context===null?s.context=i:s.pendingContext=i,s=Ys(e),s.payload={element:n},r=r===void 0?null:r,r!==null&&(s.callback=r),n=Qs(t,s,e),n!==null&&(jt(n,t,e),xl(n,t,e))}function Q0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _p(t,e){Q0(t,e),(t=t.alternate)&&Q0(t,e)}function kE(t){if(t.tag===13||t.tag===31){var e=rr(t,67108864);e!==null&&jt(e,t,67108864),_p(t,67108864)}}function K0(t){if(t.tag===13||t.tag===31){var e=Gt();e=Im(e);var n=rr(t,e);n!==null&&jt(n,t,e),_p(t,e)}}var pu=!0;function sR(t,e,n,s){var i=$.T;$.T=null;var r=fe.p;try{fe.p=2,bp(t,e,n,s)}finally{fe.p=r,$.T=i}}function iR(t,e,n,s){var i=$.T;$.T=null;var r=fe.p;try{fe.p=8,bp(t,e,n,s)}finally{fe.p=r,$.T=i}}function bp(t,e,n,s){if(pu){var i=Yf(s);if(i===null)jd(t,e,s,gu,n),$0(t,s);else if(aR(i,t,e,n,s))s.stopPropagation();else if($0(t,s),e&4&&-1<rR.indexOf(t)){for(;i!==null;){var r=ya(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=Di(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var u=1<<31-Ft(a);o.entanglements[1]|=u,a&=~u}Pn(r),!(de&6)&&(ru=Ht()+500,yo(0))}}break;case 31:case 13:o=rr(r,2),o!==null&&jt(o,r,2),sh(),_p(r,2)}if(r=Yf(s),r===null&&jd(t,e,s,gu,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else jd(t,e,s,null,n)}}function Yf(t){return t=Mm(t),xp(t)}var gu=null;function xp(t){if(gu=null,t=Sr(t),t!==null){var e=lo(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=nb(e),t!==null)return t;t=null}else if(n===31){if(t=sb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return gu=t,null}function PE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F1()){case lb:return 2;case ob:return 8;case Gc:case G1:return 32;case cb:return 268435456;default:return 32}default:return 32}}var Qf=!1,Xs=null,Ws=null,Js=null,Kl=new Map,$l=new Map,Os=[],rR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $0(t,e){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(e.pointerId)}}function nl(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=ya(e),e!==null&&kE(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aR(t,e,n,s,i){switch(e){case"focusin":return Xs=nl(Xs,t,e,n,s,i),!0;case"dragenter":return Ws=nl(Ws,t,e,n,s,i),!0;case"mouseover":return Js=nl(Js,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Kl.set(r,nl(Kl.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,$l.set(r,nl($l.get(r)||null,t,e,n,s,i)),!0}return!1}function UE(t){var e=Sr(t.target);if(e!==null){var n=lo(e);if(n!==null){if(e=n.tag,e===13){if(e=nb(n),e!==null){t.blockedOn=e,Oy(t.priority,function(){K0(n)});return}}else if(e===31){if(e=sb(n),e!==null){t.blockedOn=e,Oy(t.priority,function(){K0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yf(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);hf=s,n.target.dispatchEvent(s),hf=null}else return e=ya(n),e!==null&&kE(e),t.blockedOn=n,!1;e.shift()}return!0}function X0(t,e,n){Cc(t)&&n.delete(e)}function lR(){Qf=!1,Xs!==null&&Cc(Xs)&&(Xs=null),Ws!==null&&Cc(Ws)&&(Ws=null),Js!==null&&Cc(Js)&&(Js=null),Kl.forEach(X0),$l.forEach(X0)}function rc(t,e){t.blockedOn===e&&(t.blockedOn=null,Qf||(Qf=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,lR)))}var ac=null;function W0(t){ac!==t&&(ac=t,et.unstable_scheduleCallback(et.unstable_NormalPriority,function(){ac===t&&(ac=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],i=t[e+2];if(typeof s!="function"){if(xp(s||n)===null)continue;break}var r=ya(n);r!==null&&(t.splice(e,3),e-=3,Nf(r,{pending:!0,data:i,method:n.method,action:s},s,i))}}))}function aa(t){function e(u){return rc(u,t)}Xs!==null&&rc(Xs,t),Ws!==null&&rc(Ws,t),Js!==null&&rc(Js,t),Kl.forEach(e),$l.forEach(e);for(var n=0;n<Os.length;n++){var s=Os[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Os.length&&(n=Os[0],n.blockedOn===null);)UE(n),n.blockedOn===null&&Os.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var i=n[s],r=n[s+1],a=i[Ot]||null;if(typeof r=="function")a||W0(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(i=r,a=r[Ot]||null)o=a.formAction;else if(xp(i)!==null)continue}else o=a.action;typeof o=="function"?n[s+1]=o:(n.splice(s,3),s-=3),W0(n)}}}function LE(){function t(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function Ep(t){this._internalRoot=t}ah.prototype.render=Ep.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));var n=e.current,s=Gt();VE(n,s,t,e,null,null)};ah.prototype.unmount=Ep.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;VE(t.current,2,null,t,null,null),sh(),e[ga]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=mb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Os.length&&e!==0&&e<Os[n].priority;n++);Os.splice(n,0,t),n===0&&UE(t)}};var J0=eb.version;if(J0!=="19.2.3")throw Error(P(527,J0,"19.2.3"));fe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=P1(e),t=t!==null?ib(t):null,t=t===null?null:t.stateNode,t};var oR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{oo=lc.inject(oR),qt=lc}catch{}}qu.createRoot=function(t,e){if(!tb(t))throw Error(P(299));var n=!1,s="",i=Ix,r=Dx,a=jx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=OE(t,1,!1,null,null,n,s,null,i,r,a,LE),t[ga]=e.current,gp(t),new Ep(e)};qu.hydrateRoot=function(t,e,n){if(!tb(t))throw Error(P(299));var s=!1,i="",r=Ix,a=Dx,o=jx,u=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=OE(t,1,!0,e,n??null,s,i,u,r,a,o,LE),e.context=ME(null),n=e.current,s=Gt(),s=Im(s),i=Ys(s),i.callback=null,Qs(n,i,s),n=s,e.current.lanes=n,uo(e,n),Pn(e),t[ga]=e.current,gp(t),new ah(e)};qu.version="19.2.3";function zE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zE)}catch(t){console.error(t)}}zE(),K_.exports=qu;var cR=K_.exports;const uR=P_(cR);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Z0="popstate";function hR(t={}){function e(s,i){let{pathname:r,search:a,hash:o}=s.location;return Kf("",{pathname:r,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Xl(i)}return fR(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function un(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dR(){return Math.random().toString(36).substring(2,10)}function ev(t,e){return{usr:t.state,key:t.key,idx:e}}function Kf(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ta(e):e,state:n,key:e&&e.key||s||dR()}}function Xl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function fR(t,e,n,s={}){let{window:i=document.defaultView,v5Compat:r=!1}=s,a=i.history,o="POP",u=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function m(){o="POP";let O=f(),_=O==null?null:O-h;h=O,u&&u({action:o,location:D.location,delta:_})}function g(O,_){o="PUSH";let b=Kf(D.location,O,_);h=f()+1;let T=ev(b,h),j=D.createHref(b);try{a.pushState(T,"",j)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(j)}r&&u&&u({action:o,location:D.location,delta:1})}function y(O,_){o="REPLACE";let b=Kf(D.location,O,_);h=f();let T=ev(b,h),j=D.createHref(b);a.replaceState(T,"",j),r&&u&&u({action:o,location:D.location,delta:0})}function C(O){return mR(O)}let D={get action(){return o},get location(){return t(i,a)},listen(O){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Z0,m),u=O,()=>{i.removeEventListener(Z0,m),u=null}},createHref(O){return e(i,O)},createURL:C,encodeLocation(O){let _=C(O);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:y,go(O){return a.go(O)}};return D}function mR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),je(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Xl(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function BE(t,e,n="/"){return pR(t,e,n,!1)}function pR(t,e,n,s){let i=typeof e=="string"?Ta(e):e,r=hs(i.pathname||"/",n);if(r==null)return null;let a=HE(t);gR(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let h=NR(r);o=SR(a[u],h,s)}return o}function HE(t,e=[],n=[],s="",i=!1){let r=(a,o,u=i,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(s)&&u)return;je(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length)}let m=ns([s,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(je(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),HE(a.children,e,g,m,u)),!(a.path==null&&!a.index)&&e.push({path:m,score:TR(m,a.index),routesMeta:g})};return t.forEach((a,o)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))r(a,o);else for(let h of qE(a.path))r(a,o,!0,h)}),e}function qE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let a=qE(s.join("/")),o=[];return o.push(...a.map(u=>u===""?r:[r,u].join("/"))),i&&o.push(...a),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function gR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var yR=/^:[\w-]+$/,vR=3,_R=2,bR=1,xR=10,ER=-2,tv=t=>t==="*";function TR(t,e){let n=t.split("/"),s=n.length;return n.some(tv)&&(s+=ER),e&&(s+=_R),n.filter(i=>!tv(i)).reduce((i,r)=>i+(yR.test(r)?vR:r===""?bR:xR),s)}function wR(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function SR(t,e,n=!1){let{routesMeta:s}=t,i={},r="/",a=[];for(let o=0;o<s.length;++o){let u=s[o],h=o===s.length-1,f=r==="/"?e:e.slice(r.length)||"/",m=yu({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!m&&h&&n&&!s[s.length-1].route.index&&(m=yu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:ns([r,m.pathname]),pathnameBase:DR(ns([r,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(r=ns([r,m.pathnameBase]))}return a}function yu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=AR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:s.reduce((h,{paramName:f,isOptional:m},g)=>{if(f==="*"){let C=o[g]||"";a=r.slice(0,r.length-C.length).replace(/(.)\/+$/,"$1")}const y=o[g];return m&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:r,pathnameBase:a,pattern:t}}function AR(t,e=!1,n=!0){un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(s.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function NR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var RR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function CR(t,e="/"){let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?Ta(t):t,r;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?r=nv(n.substring(1),"/"):r=nv(n,e)):r=e,{pathname:r,search:jR(s),hash:OR(i)}}function nv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vd(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tp(t){let e=IR(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function wp(t,e,n,s=!1){let i;typeof t=="string"?i=Ta(t):(i={...t},je(!i.pathname||!i.pathname.includes("?"),Vd("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),Vd("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),Vd("#","search","hash",i)));let r=t===""||i.pathname==="",a=r?"/":i.pathname,o;if(a==null)o=n;else{let m=e.length-1;if(!s&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}o=m>=0?e[m]:"/"}let u=CR(i,o),h=a&&a!=="/"&&a.endsWith("/"),f=(r||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var ns=t=>t.join("/").replace(/\/\/+/g,"/"),DR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,MR=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function VR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function kR(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function GE(t,e){let n=t;if(typeof n!="string"||!RR.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,i=!1;if(FE)try{let r=new URL(window.location.href),a=n.startsWith("//")?new URL(r.protocol+n):new URL(n),o=hs(a.pathname,e);a.origin===r.origin&&o!=null?n=o+a.search+a.hash:i=!0}catch{un(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YE=["POST","PUT","PATCH","DELETE"];new Set(YE);var PR=["GET",...YE];new Set(PR);var wa=I.createContext(null);wa.displayName="DataRouter";var lh=I.createContext(null);lh.displayName="DataRouterState";var UR=I.createContext(!1),QE=I.createContext({isTransitioning:!1});QE.displayName="ViewTransition";var LR=I.createContext(new Map);LR.displayName="Fetchers";var zR=I.createContext(null);zR.displayName="Await";var $t=I.createContext(null);$t.displayName="Navigation";var bo=I.createContext(null);bo.displayName="Location";var _n=I.createContext({outlet:null,matches:[],isDataRoute:!1});_n.displayName="Route";var Sp=I.createContext(null);Sp.displayName="RouteError";var KE="REACT_ROUTER_ERROR",BR="REDIRECT",HR="ROUTE_ERROR_RESPONSE";function qR(t){if(t.startsWith(`${KE}:${BR}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function FR(t){if(t.startsWith(`${KE}:${HR}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new MR(e.status,e.statusText,e.data)}catch{}}function GR(t,{relative:e}={}){je(Sa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext($t),{hash:i,pathname:r,search:a}=xo(t,{relative:e}),o=r;return n!=="/"&&(o=r==="/"?n:ns([n,r])),s.createHref({pathname:o,search:a,hash:i})}function Sa(){return I.useContext(bo)!=null}function Un(){return je(Sa(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(bo).location}var $E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XE(t){I.useContext($t).static||I.useLayoutEffect(t)}function lr(){let{isDataRoute:t}=I.useContext(_n);return t?aC():YR()}function YR(){je(Sa(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(wa),{basename:e,navigator:n}=I.useContext($t),{matches:s}=I.useContext(_n),{pathname:i}=Un(),r=JSON.stringify(Tp(s)),a=I.useRef(!1);return XE(()=>{a.current=!0}),I.useCallback((u,h={})=>{if(un(a.current,$E),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=wp(u,JSON.parse(r),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ns([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,r,i,t])}var QR=I.createContext(null);function KR(t){let e=I.useContext(_n).outlet;return I.useMemo(()=>e&&I.createElement(QR.Provider,{value:t},e),[e,t])}function xo(t,{relative:e}={}){let{matches:n}=I.useContext(_n),{pathname:s}=Un(),i=JSON.stringify(Tp(n));return I.useMemo(()=>wp(t,JSON.parse(i),s,e==="path"),[t,i,s,e])}function $R(t,e){return WE(t,e)}function WE(t,e,n,s,i){var b;je(Sa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=I.useContext($t),{matches:a}=I.useContext(_n),o=a[a.length-1],u=o?o.params:{},h=o?o.pathname:"/",f=o?o.pathnameBase:"/",m=o&&o.route;{let T=m&&m.path||"";ZE(h,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Un(),y;if(e){let T=typeof e=="string"?Ta(e):e;je(f==="/"||((b=T.pathname)==null?void 0:b.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=g;let C=y.pathname||"/",D=C;if(f!=="/"){let T=f.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(T.length).join("/")}let O=BE(t,{pathname:D});un(m||O!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),un(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=eC(O&&O.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:ns([f,r.encodeLocation?r.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:ns([f,r.encodeLocation?r.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,n,s,i);return e&&_?I.createElement(bo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},_):_}function XR(){let t=rC(),e=VR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},r={padding:"2px 4px",backgroundColor:s},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:r},"ErrorBoundary")," or"," ",I.createElement("code",{style:r},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,a)}var WR=I.createElement(XR,null),JE=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=FR(t.digest);n&&(t=n)}let e=t!==void 0?I.createElement(_n.Provider,{value:this.props.routeContext},I.createElement(Sp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?I.createElement(JR,{error:t},e):e}};JE.contextType=UR;var kd=new WeakMap;function JR({children:t,error:e}){let{basename:n}=I.useContext($t);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=qR(e.digest);if(s){let i=kd.get(e);if(i)throw i;let r=GE(s.location,n);if(FE&&!kd.get(e))if(r.isExternal||s.reloadDocument)window.location.href=r.absoluteURL||r.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(r.to,{replace:s.replace}));throw kd.set(e,a),a}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${r.absoluteURL||r.to}`})}}return t}function ZR({routeContext:t,match:e,children:n}){let s=I.useContext(wa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(_n.Provider,{value:t},n)}function eC(t,e=[],n=null,s=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,a=n==null?void 0:n.errors;if(a!=null){let f=r.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);je(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let o=!1,u=-1;if(n)for(let f=0;f<r.length;f++){let m=r[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:y}=n,C=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||C){o=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}let h=n&&s?(f,m)=>{var g,y;s(f,{location:n.location,params:((y=(g=n.matches)==null?void 0:g[0])==null?void 0:y.params)??{},unstable_pattern:kR(n.matches),errorInfo:m})}:void 0;return r.reduceRight((f,m,g)=>{let y,C=!1,D=null,O=null;n&&(y=a&&m.route.id?a[m.route.id]:void 0,D=m.route.errorElement||WR,o&&(u<0&&g===0?(ZE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,O=null):u===g&&(C=!0,O=m.route.hydrateFallbackElement||null)));let _=e.concat(r.slice(0,g+1)),b=()=>{let T;return y?T=D:C?T=O:m.route.Component?T=I.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=f,I.createElement(ZR,{match:m,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:T})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?I.createElement(JE,{location:n.location,revalidation:n.revalidation,component:D,error:y,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):b()},null)}function Ap(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tC(t){let e=I.useContext(wa);return je(e,Ap(t)),e}function nC(t){let e=I.useContext(lh);return je(e,Ap(t)),e}function sC(t){let e=I.useContext(_n);return je(e,Ap(t)),e}function Np(t){let e=sC(t),n=e.matches[e.matches.length-1];return je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function iC(){return Np("useRouteId")}function rC(){var s;let t=I.useContext(Sp),e=nC("useRouteError"),n=Np("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function aC(){let{router:t}=tC("useNavigate"),e=Np("useNavigate"),n=I.useRef(!1);return XE(()=>{n.current=!0}),I.useCallback(async(i,r={})=>{un(n.current,$E),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...r}))},[t,e])}var sv={};function ZE(t,e,n){!e&&!sv[t]&&(sv[t]=!0,un(!1,n))}I.memo(lC);function lC({routes:t,future:e,state:n,onError:s}){return WE(t,void 0,n,s,e)}function Pd({to:t,replace:e,state:n,relative:s}){je(Sa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext($t);un(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=I.useContext(_n),{pathname:a}=Un(),o=lr(),u=wp(t,Tp(r),a,s==="path"),h=JSON.stringify(u);return I.useEffect(()=>{o(JSON.parse(h),{replace:e,state:n,relative:s})},[o,h,s,e,n]),null}function oC(t){return KR(t.context)}function kt(t){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cC({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:i,static:r=!1,unstable_useTransitions:a}){je(!Sa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:o,navigator:i,static:r,unstable_useTransitions:a,future:{}}),[o,i,r,a]);typeof n=="string"&&(n=Ta(n));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:y="default"}=n,C=I.useMemo(()=>{let D=hs(h,o);return D==null?null:{location:{pathname:D,search:f,hash:m,state:g,key:y},navigationType:s}},[o,h,f,m,g,y,s]);return un(C!=null,`<Router basename="${o}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:I.createElement($t.Provider,{value:u},I.createElement(bo.Provider,{children:e,value:C}))}function uC({children:t,location:e}){return $R($f(t),e)}function $f(t,e=[]){let n=[];return I.Children.forEach(t,(s,i)=>{if(!I.isValidElement(s))return;let r=[...e,i];if(s.type===I.Fragment){n.push.apply(n,$f(s.props.children,r));return}je(s.type===kt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let a={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=$f(s.props.children,r)),n.push(a)}),n}var Ic="get",Dc="application/x-www-form-urlencoded";function oh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function hC(t){return oh(t)&&t.tagName.toLowerCase()==="button"}function dC(t){return oh(t)&&t.tagName.toLowerCase()==="form"}function fC(t){return oh(t)&&t.tagName.toLowerCase()==="input"}function mC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pC(t,e){return t.button===0&&(!e||e==="_self")&&!mC(t)}function Xf(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function gC(t,e){let n=Xf(t);return e&&e.forEach((s,i)=>{n.has(i)||e.getAll(i).forEach(r=>{n.append(i,r)})}),n}var oc=null;function yC(){if(oc===null)try{new FormData(document.createElement("form"),0),oc=!1}catch{oc=!0}return oc}var vC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ud(t){return t!=null&&!vC.has(t)?(un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dc}"`),null):t}function _C(t,e){let n,s,i,r,a;if(dC(t)){let o=t.getAttribute("action");s=o?hs(o,e):null,n=t.getAttribute("method")||Ic,i=Ud(t.getAttribute("enctype"))||Dc,r=new FormData(t)}else if(hC(t)||fC(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||o.getAttribute("action");if(s=u?hs(u,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Ic,i=Ud(t.getAttribute("formenctype"))||Ud(o.getAttribute("enctype"))||Dc,r=new FormData(o,t),!yC()){let{name:h,type:f,value:m}=t;if(f==="image"){let g=h?`${h}.`:"";r.append(`${g}x`,"0"),r.append(`${g}y`,"0")}else h&&r.append(h,m)}}else{if(oh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ic,s=null,i=Dc,a=t}return r&&i==="text/plain"&&(a=r,r=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:r,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bC(t,e,n,s){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${s}`:i.pathname=`${i.pathname}.${s}`:i.pathname==="/"?i.pathname=`_root.${s}`:e&&hs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function xC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function TC(t,e,n){let s=await Promise.all(t.map(async i=>{let r=e.routes[i.route.id];if(r){let a=await xC(r,n);return a.links?a.links():[]}return[]}));return NC(s.flat(1).filter(EC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function iv(t,e,n,s,i,r){let a=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,o=(u,h)=>{var f;return n[h].pathname!==u.pathname||((f=n[h].route.path)==null?void 0:f.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return r==="assets"?e.filter((u,h)=>a(u,h)||o(u,h)):r==="data"?e.filter((u,h)=>{var m;let f=s.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,h)||o(u,h))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function wC(t,e,{includeHydrateFallback:n}={}){return SC(t.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function SC(t){return[...new Set(t)]}function AC(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function NC(t,e){let n=new Set;return new Set(e),t.reduce((s,i)=>{let r=JSON.stringify(AC(i));return n.has(r)||(n.add(r),s.push({key:r,link:i})),s},[])}function eT(){let t=I.useContext(wa);return Rp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function RC(){let t=I.useContext(lh);return Rp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cp=I.createContext(void 0);Cp.displayName="FrameworkContext";function tT(){let t=I.useContext(Cp);return Rp(t,"You must render this element inside a <HydratedRouter> element"),t}function CC(t,e){let n=I.useContext(Cp),[s,i]=I.useState(!1),[r,a]=I.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=e,g=I.useRef(null);I.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let D=_=>{_.forEach(b=>{a(b.isIntersecting)})},O=new IntersectionObserver(D,{threshold:.5});return g.current&&O.observe(g.current),()=>{O.disconnect()}}},[t]),I.useEffect(()=>{if(s){let D=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(D)}}},[s]);let y=()=>{i(!0)},C=()=>{i(!1),a(!1)};return n?t!=="intent"?[r,g,{}]:[r,g,{onFocus:sl(o,y),onBlur:sl(u,C),onMouseEnter:sl(h,y),onMouseLeave:sl(f,C),onTouchStart:sl(m,y)}]:[!1,g,{}]}function sl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IC({page:t,...e}){let{router:n}=eT(),s=I.useMemo(()=>BE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement(jC,{page:t,matches:s,...e}):null}function DC(t){let{manifest:e,routeModules:n}=tT(),[s,i]=I.useState([]);return I.useEffect(()=>{let r=!1;return TC(t,e,n).then(a=>{r||i(a)}),()=>{r=!0}},[t,e,n]),s}function jC({page:t,matches:e,...n}){let s=Un(),{future:i,manifest:r,routeModules:a}=tT(),{basename:o}=eT(),{loaderData:u,matches:h}=RC(),f=I.useMemo(()=>iv(t,e,h,r,s,"data"),[t,e,h,r,s]),m=I.useMemo(()=>iv(t,e,h,r,s,"assets"),[t,e,h,r,s]),g=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let D=new Set,O=!1;if(e.forEach(b=>{var j;let T=r.routes[b.route.id];!T||!T.hasLoader||(!f.some(U=>U.route.id===b.route.id)&&b.route.id in u&&((j=a[b.route.id])!=null&&j.shouldRevalidate)||T.hasClientLoader?O=!0:D.add(b.route.id))}),D.size===0)return[];let _=bC(t,o,i.unstable_trailingSlashAwareDataRequests,"data");return O&&D.size>0&&_.searchParams.set("_routes",e.filter(b=>D.has(b.route.id)).map(b=>b.route.id).join(",")),[_.pathname+_.search]},[o,i.unstable_trailingSlashAwareDataRequests,u,s,r,f,e,t,a]),y=I.useMemo(()=>wC(m,r),[m,r]),C=DC(m);return I.createElement(I.Fragment,null,g.map(D=>I.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),y.map(D=>I.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),C.map(({key:D,link:O})=>I.createElement("link",{key:D,nonce:n.nonce,...O,crossOrigin:O.crossOrigin??n.crossOrigin})))}function OC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MC&&(window.__reactRouterVersion="7.13.0")}catch{}function VC({basename:t,children:e,unstable_useTransitions:n,window:s}){let i=I.useRef();i.current==null&&(i.current=hR({window:s,v5Compat:!0}));let r=i.current,[a,o]=I.useState({action:r.action,location:r.location}),u=I.useCallback(h=>{n===!1?o(h):I.startTransition(()=>o(h))},[n]);return I.useLayoutEffect(()=>r.listen(u),[r,u]),I.createElement(cC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:r,unstable_useTransitions:n})}var nT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sT=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:i,reloadDocument:r,replace:a,state:o,target:u,to:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,...y},C){let{basename:D,unstable_useTransitions:O}=I.useContext($t),_=typeof h=="string"&&nT.test(h),b=GE(h,D);h=b.to;let T=GR(h,{relative:i}),[j,U,z]=CC(s,y),w=LC(h,{replace:a,state:o,target:u,preventScrollReset:f,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:O});function x(E){e&&e(E),E.defaultPrevented||w(E)}let S=I.createElement("a",{...y,...z,href:b.absoluteURL||T,onClick:b.isExternal||r?e:x,ref:OC(C,U),target:u,"data-discover":!_&&n==="render"?"true":void 0});return j&&!_?I.createElement(I.Fragment,null,S,I.createElement(IC,{page:T})):S});sT.displayName="Link";var kC=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:i=!1,style:r,to:a,viewTransition:o,children:u,...h},f){let m=xo(a,{relative:h.relative}),g=Un(),y=I.useContext(lh),{navigator:C,basename:D}=I.useContext($t),O=y!=null&&GC(m)&&o===!0,_=C.encodeLocation?C.encodeLocation(m).pathname:m.pathname,b=g.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(b=b.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&D&&(T=hs(T,D)||T);const j=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let U=b===_||!i&&b.startsWith(_)&&b.charAt(j)==="/",z=T!=null&&(T===_||!i&&T.startsWith(_)&&T.charAt(_.length)==="/"),w={isActive:U,isPending:z,isTransitioning:O},x=U?e:void 0,S;typeof s=="function"?S=s(w):S=[s,U?"active":null,z?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let E=typeof r=="function"?r(w):r;return I.createElement(sT,{...h,"aria-current":x,className:S,ref:f,style:E,to:a,viewTransition:o},typeof u=="function"?u(w):u)});kC.displayName="NavLink";var PC=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:i,state:r,method:a=Ic,action:o,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,...y},C)=>{let{unstable_useTransitions:D}=I.useContext($t),O=qC(),_=FC(o,{relative:h}),b=a.toLowerCase()==="get"?"get":"post",T=typeof o=="string"&&nT.test(o),j=U=>{if(u&&u(U),U.defaultPrevented)return;U.preventDefault();let z=U.nativeEvent.submitter,w=(z==null?void 0:z.getAttribute("formmethod"))||a,x=()=>O(z||U.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:i,state:r,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g});D&&n!==!1?I.startTransition(()=>x()):x()};return I.createElement("form",{ref:C,method:b,action:_,onSubmit:s?u:j,...y,"data-discover":!T&&t==="render"?"true":void 0})});PC.displayName="Form";function UC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iT(t){let e=I.useContext(wa);return je(e,UC(t)),e}function LC(t,{target:e,replace:n,state:s,preventScrollReset:i,relative:r,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let h=lr(),f=Un(),m=xo(t,{relative:r});return I.useCallback(g=>{if(pC(g,e)){g.preventDefault();let y=n!==void 0?n:Xl(f)===Xl(m),C=()=>h(t,{replace:y,state:s,preventScrollReset:i,relative:r,viewTransition:a,unstable_defaultShouldRevalidate:o});u?I.startTransition(()=>C()):C()}},[f,h,m,n,s,e,t,i,r,a,o,u])}function zC(t){un(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=I.useRef(Xf(t)),n=I.useRef(!1),s=Un(),i=I.useMemo(()=>gC(s.search,n.current?null:e.current),[s.search]),r=lr(),a=I.useCallback((o,u)=>{const h=Xf(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,r("?"+h,u)},[r,i]);return[i,a]}var BC=0,HC=()=>`__${String(++BC)}__`;function qC(){let{router:t}=iT("useSubmit"),{basename:e}=I.useContext($t),n=iC(),s=t.fetch,i=t.navigate;return I.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:f,body:m}=_C(r,e);if(a.navigate===!1){let g=a.fetcherKey||HC();await s(g,n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,i,e,n])}function FC(t,{relative:e}={}){let{basename:n}=I.useContext($t),s=I.useContext(_n);je(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),r={...xo(t||".",{relative:e})},a=Un();if(t==null){r.search=a.search;let o=new URLSearchParams(r.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let f=o.toString();r.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:ns([n,r.pathname])),Xl(r)}function GC(t,{relative:e}={}){let n=I.useContext(QE);je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iT("useViewTransitionState"),i=xo(t,{relative:e});if(!n.isTransitioning)return!1;let r=hs(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=hs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yu(i.pathname,a)!=null||yu(i.pathname,r)!=null}const YC=()=>{};var rv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],a=t[n++],o=t[n++],u=((i&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],a=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|a&63)}}return e.join("")},aT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],a=i+1<t.length,o=a?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=r>>2,m=(r&3)<<4|o>>4;let g=(o&15)<<2|h>>6,y=h&63;u||(y=64,a||(g=64)),s.push(n[f],n[m],n[g],n[y])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||o==null||h==null||m==null)throw new KC;const g=r<<2|o>>4;if(s.push(g),h!==64){const y=o<<4&240|h>>2;if(s.push(y),m!==64){const C=h<<6&192|m;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $C=function(t){const e=rT(t);return aT.encodeByteArray(e,!0)},vu=function(t){return $C(t).replace(/\./g,"")},lT=function(t){try{return aT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=()=>XC().__FIREBASE_DEFAULTS__,JC=()=>{if(typeof process>"u"||typeof rv>"u")return;const t=rv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lT(t[1]);return e&&JSON.parse(e)},ch=()=>{try{return YC()||WC()||JC()||ZC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oT=t=>{var e,n;return(n=(e=ch())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},eI=t=>{const e=oT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},cT=()=>{var t;return(t=ch())==null?void 0:t.config},uT=t=>{var e;return(e=ch())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vu(JSON.stringify(n)),vu(JSON.stringify(a)),""].join(".")}const Il={};function sI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Il))Il[e]?t.emulator.push(e):t.prod.push(e);return t}function iI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let av=!1;function dT(t,e){if(typeof window>"u"||typeof document>"u"||!Aa(window.location.host)||Il[t]===e||Il[t]||av)return;Il[t]=e;function n(g){return`__firebase__banner__${g}`}const s="__firebase__banner",r=sI().prod.length>0;function a(){const g=document.getElementById(s);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{av=!0,a()},g}function f(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=iI(s),y=n("text"),C=document.getElementById(y)||document.createElement("span"),D=n("learnmore"),O=document.getElementById(D)||document.createElement("a"),_=n("preprendIcon"),b=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const T=g.element;o(T),f(O,D);const j=h();u(b,_),T.append(b,C,O,j),document.body.appendChild(T)}r?(C.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function aI(){var e;const t=(e=ch())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uI(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hI(){return!aI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dI(){try{return typeof indexedDB=="object"}catch{return!1}}function fI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="FirebaseError";class ys extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=mI,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eo.prototype.create)}}class Eo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],a=r?pI(r,s):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new ys(i,o,s)}}function pI(t,e){return t.replace(gI,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const gI=/\{\$([^}]+)}/g;function yI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ki(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],a=e[i];if(lv(r)&&lv(a)){if(!Ki(r,a))return!1}else if(r!==a)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function lv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vI(t,e){const n=new _I(t,e);return n.subscribe.bind(n)}class _I{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bI(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=Ld),i.error===void 0&&(i.error=Ld),i.complete===void 0&&(i.complete=Ld);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class $i{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new tI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TI(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);s===o&&a.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&e(r,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:EI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EI(t){return t===Mi?void 0:t}function TI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const SI={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},AI=ae.INFO,NI={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},RI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=NI[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=AI,this._logHandler=RI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const CI=(t,e)=>e.some(n=>t instanceof n);let ov,cv;function II(){return ov||(ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DI(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fT=new WeakMap,Wf=new WeakMap,mT=new WeakMap,zd=new WeakMap,Dp=new WeakMap;function jI(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(Zs(t.result)),i()},a=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&fT.set(n,t)}).catch(()=>{}),Dp.set(e,t),e}function OI(t){if(Wf.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),i()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});Wf.set(t,e)}let Jf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MI(t){Jf=t(Jf)}function VI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Bd(this),e,...n);return mT.set(s,e.sort?e.sort():[e]),Zs(s)}:DI().includes(t)?function(...e){return t.apply(Bd(this),e),Zs(fT.get(this))}:function(...e){return Zs(t.apply(Bd(this),e))}}function kI(t){return typeof t=="function"?VI(t):(t instanceof IDBTransaction&&OI(t),CI(t,II())?new Proxy(t,Jf):t)}function Zs(t){if(t instanceof IDBRequest)return jI(t);if(zd.has(t))return zd.get(t);const e=kI(t);return e!==t&&(zd.set(t,e),Dp.set(e,t)),e}const Bd=t=>Dp.get(t);function PI(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const a=indexedDB.open(t,e),o=Zs(a);return s&&a.addEventListener("upgradeneeded",u=>{s(Zs(a.result),u.oldVersion,u.newVersion,Zs(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{r&&u.addEventListener("close",()=>r()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const UI=["get","getKey","getAll","getAllKeys","count"],LI=["put","add","delete","clear"],Hd=new Map;function uv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=LI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||UI.includes(n)))return;const r=async function(a,...o){const u=this.transaction(a,i?"readwrite":"readonly");let h=u.store;return s&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),i&&u.done]))[0]};return Hd.set(e,r),r}MI(t=>({...t,get:(e,n,s)=>uv(e,n)||t.get(e,n,s),has:(e,n)=>!!uv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function BI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zf="@firebase/app",hv="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Ip("@firebase/app"),HI="@firebase/app-compat",qI="@firebase/analytics-compat",FI="@firebase/analytics",GI="@firebase/app-check-compat",YI="@firebase/app-check",QI="@firebase/auth",KI="@firebase/auth-compat",$I="@firebase/database",XI="@firebase/data-connect",WI="@firebase/database-compat",JI="@firebase/functions",ZI="@firebase/functions-compat",e2="@firebase/installations",t2="@firebase/installations-compat",n2="@firebase/messaging",s2="@firebase/messaging-compat",i2="@firebase/performance",r2="@firebase/performance-compat",a2="@firebase/remote-config",l2="@firebase/remote-config-compat",o2="@firebase/storage",c2="@firebase/storage-compat",u2="@firebase/firestore",h2="@firebase/ai",d2="@firebase/firestore-compat",f2="firebase",m2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",p2={[Zf]:"fire-core",[HI]:"fire-core-compat",[FI]:"fire-analytics",[qI]:"fire-analytics-compat",[YI]:"fire-app-check",[GI]:"fire-app-check-compat",[QI]:"fire-auth",[KI]:"fire-auth-compat",[$I]:"fire-rtdb",[XI]:"fire-data-connect",[WI]:"fire-rtdb-compat",[JI]:"fire-fn",[ZI]:"fire-fn-compat",[e2]:"fire-iid",[t2]:"fire-iid-compat",[n2]:"fire-fcm",[s2]:"fire-fcm-compat",[i2]:"fire-perf",[r2]:"fire-perf-compat",[a2]:"fire-rc",[l2]:"fire-rc-compat",[o2]:"fire-gcs",[c2]:"fire-gcs-compat",[u2]:"fire-fst",[d2]:"fire-fst-compat",[h2]:"fire-vertex","fire-js":"fire-js",[f2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,g2=new Map,tm=new Map;function dv(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function la(t){const e=t.name;if(tm.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,t);for(const n of _u.values())dv(n,t);for(const n of g2.values())dv(n,t);return!0}function jp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new Eo("app","Firebase",y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=m2;function pT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:em,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});if(n||(n=cT()),!n)throw ei.create("no-options");const r=_u.get(i);if(r){if(Ki(n,r.options)&&Ki(s,r.config))return r;throw ei.create("duplicate-app",{appName:i})}const a=new wI(i);for(const u of tm.values())a.addComponent(u);const o=new v2(n,s,a);return _u.set(i,o),o}function gT(t=em){const e=_u.get(t);if(!e&&t===em&&cT())return pT();if(!e)throw ei.create("no-app",{appName:t});return e}function ti(t,e,n){let s=p2[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&a.push("and"),r&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(a.join(" "));return}la(new $i(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firebase-heartbeat-database",b2=1,Wl="firebase-heartbeat-store";let qd=null;function yT(){return qd||(qd=PI(_2,b2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ei.create("idb-open",{originalErrorMessage:t.message})})),qd}async function x2(t){try{const n=(await yT()).transaction(Wl),s=await n.objectStore(Wl).get(vT(t));return await n.done,s}catch(e){if(e instanceof ys)ds.warn(e.message);else{const n=ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function fv(t,e){try{const s=(await yT()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,vT(t)),await s.done}catch(n){if(n instanceof ys)ds.warn(n.message);else{const s=ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(s.message)}}}function vT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=1024,T2=30;class w2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>T2){const a=N2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ds.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mv(),{heartbeatsToSend:s,unsentEntries:i}=S2(this._heartbeatsCache.heartbeats),r=vu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return ds.warn(n),""}}}function mv(){return new Date().toISOString().substring(0,10)}function S2(t,e=E2){const n=[];let s=t.slice();for(const i of t){const r=n.find(a=>a.agent===i.agent);if(r){if(r.dates.push(i.date),pv(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class A2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dI()?fI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pv(t){return vu(JSON.stringify({version:2,heartbeats:t})).length}function N2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){la(new $i("platform-logger",e=>new zI(e),"PRIVATE")),la(new $i("heartbeat",e=>new w2(e),"PRIVATE")),ti(Zf,hv,t),ti(Zf,hv,"esm2020"),ti("fire-js","")}R2("");var C2="firebase",I2="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(C2,I2,"app");function _T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D2=_T,bT=new Eo("auth","Firebase",_T());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Ip("@firebase/auth");function j2(t,...e){bu.logLevel<=ae.WARN&&bu.warn(`Auth (${Na}): ${t}`,...e)}function jc(t,...e){bu.logLevel<=ae.ERROR&&bu.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,...e){throw Op(t,...e)}function Cn(t,...e){return Op(t,...e)}function xT(t,e,n){const s={...D2(),[e]:n};return new Eo("auth","Firebase",s).create(e,{appName:t.name})}function ss(t){return xT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Op(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return bT.create(t,...e)}function Q(t,e,...n){if(!t)throw Op(e,...n)}function Wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jc(e),new Error(e)}function fs(t,e){t||Wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function O2(){return gv()==="http:"||gv()==="https:"}function gv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O2()||oI()||"connection"in navigator)?navigator.onLine:!0}function V2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.shortDelay=e,this.longDelay=n,fs(n>e,"Short delay should be less than long delay!"),this.isMobile=rI()||cI()}get(){return M2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t,e){fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],U2=new wo(3e4,6e4);function vs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ln(t,e,n,s,i={}){return TT(t,i,async()=>{let r={},a={};s&&(e==="GET"?a=s:r={body:JSON.stringify(s)});const o=To({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...r};return lI()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Aa(t.emulatorConfig.host)&&(h.credentials="include"),ET.fetch()(await wT(t,t.config.apiHost,n,o),h)})}async function TT(t,e,n){t._canInitEmulator=!1;const s={...k2,...e};try{const i=new z2(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw cc(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[u,h]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw cc(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw cc(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw cc(t,"user-disabled",a);const f=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw xT(t,f,h);gn(t,f)}}catch(i){if(i instanceof ys)throw i;gn(t,"network-request-failed",{message:String(i)})}}async function So(t,e,n,s,i={}){const r=await Ln(t,e,n,s,i);return"mfaPendingCredential"in r&&gn(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function wT(t,e,n,s){const i=`${e}${n}?${s}`,r=t,a=r.config.emulator?Mp(t.config,i):`${t.config.apiScheme}://${i}`;return P2.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function L2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class z2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Cn(this.auth,"network-request-failed")),U2.get())})}}function cc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Cn(t,e,s);return i.customData._tokenResponse=n,i}function yv(t){return t!==void 0&&t.enterprise!==void 0}class B2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return L2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function H2(t,e){return Ln(t,"GET","/v2/recaptchaConfig",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(t,e){return Ln(t,"POST","/v1/accounts:delete",e)}async function xu(t,e){return Ln(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F2(t,e=!1){const n=Xe(t),s=await n.getIdToken(e),i=Vp(s);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Dl(Fd(i.auth_time)),issuedAtTime:Dl(Fd(i.iat)),expirationTime:Dl(Fd(i.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Fd(t){return Number(t)*1e3}function Vp(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const i=lT(n);return i?JSON.parse(i):(jc("Failed to decode base64 JWT payload"),null)}catch(i){return jc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vv(t){const e=Vp(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ys&&G2(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function G2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){var m;const e=t.auth,n=await t.getIdToken(),s=await oa(t,xu(e,{idToken:n}));Q(s==null?void 0:s.users.length,e,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const r=(m=i.providerUserInfo)!=null&&m.length?ST(i.providerUserInfo):[],a=K2(t.providerData,r),o=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=o?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new sm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function Q2(t){const e=Xe(t);await Eu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K2(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function ST(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(t,e){const n=await TT(t,{},async()=>{const s=To({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,a=await wT(t,i,"/v1/token",`key=${r}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:s};return t.emulatorConfig&&Aa(t.emulatorConfig.host)&&(u.credentials="include"),ET.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X2(t,e){return Ln(t,"POST","/v2/accounts:revokeToken",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=vv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await $2(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,a=new qr;return s&&(Q(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),i&&(Q(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),r&&(Q(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qr,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fn{constructor({uid:e,auth:n,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new Y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await oa(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F2(this,e)}reload(){return Q2(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Eu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await oa(this,q2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,i=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:y,providerData:C,stsTokenManager:D}=n;Q(m&&D,e,"internal-error");const O=qr.fromJSON(this.name,D);Q(typeof m=="string",e,"internal-error"),Ns(s,e.name),Ns(i,e.name),Q(typeof g=="boolean",e,"internal-error"),Q(typeof y=="boolean",e,"internal-error"),Ns(r,e.name),Ns(a,e.name),Ns(o,e.name),Ns(u,e.name),Ns(h,e.name),Ns(f,e.name);const _=new fn({uid:m,auth:e,email:i,emailVerified:g,displayName:s,isAnonymous:y,photoURL:a,phoneNumber:r,tenantId:o,stsTokenManager:O,createdAt:h,lastLoginAt:f});return C&&Array.isArray(C)&&(_.providerData=C.map(b=>({...b}))),u&&(_._redirectEventId=u),_}static async _fromIdTokenResponse(e,n,s=!1){const i=new qr;i.updateFromServerResponse(n);const r=new fn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Eu(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];Q(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?ST(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),o=new qr;o.updateFromIdToken(s);const u=new fn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new sm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=new Map;function Jn(t){fs(t instanceof Function,"Expected a class definition");let e=_v.get(t);return e?(fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_v.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AT.type="NONE";const bv=AT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e,n){return`firebase:${t}:${e}:${n}`}class Fr{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Oc(this.userKey,i.apiKey,r),this.fullPersistenceKey=Oc("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xu(this.auth,{idToken:e}).catch(()=>{});return n?fn._fromGetAccountInfoResponse(this.auth,n,e):null}return fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Fr(Jn(bv),e,s);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=i[0]||Jn(bv);const a=Oc(s,e.config.apiKey,e.name);let o=null;for(const h of n)try{const f=await h._get(a);if(f){let m;if(typeof f=="string"){const g=await xu(e,{idToken:f}).catch(()=>{});if(!g)break;m=await fn._fromGetAccountInfoResponse(e,g,f)}else m=fn._fromJSON(e,f);h!==r&&(o=m),r=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new Fr(r,e,s):(r=u[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new Fr(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jT(e))return"Blackberry";if(OT(e))return"Webos";if(RT(e))return"Safari";if((e.includes("chrome/")||CT(e))&&!e.includes("edge/"))return"Chrome";if(DT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function NT(t=vt()){return/firefox\//i.test(t)}function RT(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CT(t=vt()){return/crios\//i.test(t)}function IT(t=vt()){return/iemobile/i.test(t)}function DT(t=vt()){return/android/i.test(t)}function jT(t=vt()){return/blackberry/i.test(t)}function OT(t=vt()){return/webos/i.test(t)}function kp(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W2(t=vt()){var e;return kp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function J2(){return uI()&&document.documentMode===10}function MT(t=vt()){return kp(t)||DT(t)||OT(t)||jT(t)||/windows phone/i.test(t)||IT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e=[]){let n;switch(t){case"Browser":n=xv(vt());break;case"Worker":n=`${xv(vt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((a,o)=>{try{const u=e(r);a(u)}catch(u){o(u)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e={}){return Ln(t,"GET","/v2/passwordPolicy",vs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=6;class nD{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new Z2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await Fr.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xu(this,{idToken:e}),s=await fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(sn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,o=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===o)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sn(this.app))return Promise.reject(ss(this));const n=e?Xe(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sn(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eD(this),n=new nD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await X2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Fr.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&j2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vi(t){return Xe(t)}class Ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=vI(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iD(t){uh=t}function kT(t){return uh.loadJS(t)}function rD(){return uh.recaptchaEnterpriseScript}function aD(){return uh.gapiScript}function lD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class oD{constructor(){this.enterprise=new cD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uD="recaptcha-enterprise",PT="NO_RECAPTCHA";class hD{constructor(e){this.type=uD,this.auth=vi(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,o)=>{H2(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const h=new B2(u);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,a(h.siteKey)}}).catch(u=>{o(u)})})}function i(r,a,o){const u=window.grecaptcha;yv(u)?u.enterprise.ready(()=>{u.enterprise.execute(r,{action:e}).then(h=>{a(h)}).catch(()=>{a(PT)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oD().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{s(this.auth).then(o=>{if(!n&&yv(window.grecaptcha))i(o,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=rD();u.length!==0&&(u+=o),kT(u).then(()=>{i(o,r,a)}).catch(h=>{a(h)})}}).catch(o=>{a(o)})})}}async function Tv(t,e,n,s=!1,i=!1){const r=new hD(t);let a;if(i)a=PT;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,h=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return s?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Tu(t,e,n,s,i){var r;if((r=t._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Tv(t,e,n,n==="getOobCode");return s(t,a)}else return s(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Tv(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t,e){const n=jp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Ki(r,e??{}))return i;gn(i,"already-initialized")}return n.initialize({options:e})}function fD(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function mD(t,e,n){const s=vi(t);Q(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=UT(e),{host:a,port:o}=pD(e),u=o===null?"":`:${o}`,h={url:`${r}//${a}${u}/`},f=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Q(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Q(Ki(h,s.config.emulator)&&Ki(f,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=f,s.settings.appVerificationDisabledForTesting=!0,Aa(a)?(hT(`${r}//${a}${u}`),dT("Auth",!0)):gD()}function UT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pD(t){const e=UT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:wv(s.substr(r.length+1))}}else{const[r,a]=s.split(":");return{host:r,port:wv(a)}}}function wv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function yD(t,e){return Ln(t,"POST","/v1/accounts:update",e)}async function vD(t,e){return Ln(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,e){return So(t,"POST","/v1/accounts:signInWithPassword",vs(t,e))}async function bD(t,e){return Ln(t,"POST","/v1/accounts:sendOobCode",vs(t,e))}async function xD(t,e){return bD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t,e){return So(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))}async function TD(t,e){return So(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Pp{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Jl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tu(e,n,"signInWithPassword",_D);case"emailLink":return ED(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tu(e,s,"signUpPassword",vD);case"emailLink":return TD(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gr(t,e){return So(t,"POST","/v1/accounts:signInWithIdp",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="http://localhost";class Xi extends Pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...r}=n;if(!s||!i)return null;const a=new Xi(s,i);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Gr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Gr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gr(e,n)}buildRequest(){const e={requestUri:wD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=To(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AD(t){const e=ul(hl(t)).link,n=e?ul(hl(e)).deep_link_id:null,s=ul(hl(t)).deep_link_id;return(s?ul(hl(s)).link:null)||s||n||e||t}class Up{constructor(e){const n=ul(hl(e)),s=n.apiKey??null,i=n.oobCode??null,r=SD(n.mode??null);Q(s&&i&&r,"argument-error"),this.apiKey=s,this.operation=r,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=AD(e);try{return new Up(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.providerId=Ra.PROVIDER_ID}static credential(e,n){return Jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Up.parseLink(n);return Q(s,"argument-error"),Jl._fromEmailAndCode(e,s.code,s.tenantId)}}Ra.PROVIDER_ID="password";Ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends LT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Ao{constructor(){super("facebook.com")}static credential(e){return Xi._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Ao{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xi._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Vs.credential(n,s)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Ao{constructor(){super("github.com")}static credential(e){return Xi._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Ao{constructor(){super("twitter.com")}static credential(e,n){return Xi._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ps.credential(n,s)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return So(t,"POST","/v1/accounts:signUp",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await fn._fromIdTokenResponse(e,s,i),a=Sv(s);return new Wi({user:r,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Sv(s);return new Wi({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Sv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends ys{constructor(e,n,s,i){super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,wu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new wu(e,n,s,i)}}function zT(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?wu._fromErrorAndOperation(t,r,e,s):r})}async function RD(t,e,n=!1){const s=await oa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wi._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e,n=!1){const{auth:s}=t;if(sn(s.app))return Promise.reject(ss(s));const i="reauthenticate";try{const r=await oa(t,zT(s,i,e,t),n);Q(r.idToken,s,"internal-error");const a=Vp(r.idToken);Q(a,s,"internal-error");const{sub:o}=a;return Q(t.uid===o,s,"user-mismatch"),Wi._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&gn(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(t,e,n=!1){if(sn(t.app))return Promise.reject(ss(t));const s="signIn",i=await zT(t,s,e),r=await Wi._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function ID(t,e){return BT(vi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(t){const e=vi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DD(t,e,n){const s=vi(t);await Tu(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",xD)}async function jD(t,e,n){if(sn(t.app))return Promise.reject(ss(t));const s=vi(t),a=await Tu(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ND).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&HT(t),u}),o=await Wi._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(o.user),o}function OD(t,e,n){return sn(t.app)?Promise.reject(ss(t)):ID(Xe(t),Ra.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&HT(t),s})}function MD(t,e){return VD(Xe(t),null,e)}async function VD(t,e,n){const{auth:s}=t,r={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(r.password=n);const a=await oa(t,yD(s,r));await t._updateTokensIfNecessary(a,!0)}function kD(t,e,n,s){return Xe(t).onIdTokenChanged(e,n,s)}function PD(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function UD(t,e,n,s){return Xe(t).onAuthStateChanged(e,n,s)}function LD(t){return Xe(t).signOut()}const Su="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Su,"1"),this.storage.removeItem(Su),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=1e3,BD=10;class FT extends qT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,u)=>{this.notifyListeners(a,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},r=this.storage.getItem(s);J2()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,BD):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},zD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FT.type="LOCAL";const HD=FT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends qT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GT.type="SESSION";const YT=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const o=Array.from(a).map(async h=>h(n.origin,r)),u=await qD(o);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,a;return new Promise((o,u)=>{const h=Lp("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},s);a={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(g.data.response);break;default:clearTimeout(f),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return window}function GD(t){In().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function YD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function KD(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebaseLocalStorageDb",$D=1,Au="firebaseLocalStorage",$T="fbase_key";class No{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dh(t,e){return t.transaction([Au],e?"readwrite":"readonly").objectStore(Au)}function XD(){const t=indexedDB.deleteDatabase(KT);return new No(t).toPromise()}function im(){const t=indexedDB.open(KT,$D);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Au,{keyPath:$T})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Au)?e(s):(s.close(),await XD(),e(await im()))})})}async function Av(t,e,n){const s=dh(t,!0).put({[$T]:e,value:n});return new No(s).toPromise()}async function WD(t,e){const n=dh(t,!1).get(e),s=await new No(n).toPromise();return s===void 0?null:s.value}function Nv(t,e){const n=dh(t,!0).delete(e);return new No(n).toPromise()}const JD=800,ZD=3;class XT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ZD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(KD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await YD(),!this.activeServiceWorker)return;this.sender=new FD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await Av(e,Su,"1"),await Nv(e,Su),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Av(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>WD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=dh(i,!1).getAll();return new No(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XT.type="LOCAL";const ej=XT;new wo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e){return e?Jn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nj(t){return BT(t.auth,new zp(t),t.bypassAuthState)}function sj(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),CD(n,new zp(t),t.bypassAuthState)}async function ij(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),RD(n,new zp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:a,type:o}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nj;case"linkViaPopup":case"linkViaRedirect":return ij;case"reauthViaPopup":case"reauthViaRedirect":return sj;default:gn(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=new wo(2e3,1e4);class Vr extends WT{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Vr.currentPopupAction&&Vr.currentPopupAction.cancel(),Vr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rj.get())};e()}}Vr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="pendingRedirect",Mc=new Map;class lj extends WT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const s=await oj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oj(t,e){const n=hj(e),s=uj(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function cj(t,e){Mc.set(t._key(),e)}function uj(t){return Jn(t._redirectPersistence)}function hj(t){return Oc(aj,t.config.apiKey,t.name)}async function dj(t,e,n=!1){if(sn(t.app))return Promise.reject(ss(t));const s=vi(t),i=tj(s,e),a=await new lj(s,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=10*60*1e3;class mj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!JT(e)){const i=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(e))}saveEventToCache(e){this.cachedEventUids.add(Rv(e)),this.lastProcessedEventTime=Date.now()}}function Rv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e={}){return Ln(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vj=/^https?/;async function _j(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gj(t);for(const n of e)try{if(bj(n))return}catch{}gn(t,"unauthorized-domain")}function bj(t){const e=nm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!vj.test(n))return!1;if(yj.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=new wo(3e4,6e4);function Cv(){const t=In().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ej(t){return new Promise((e,n)=>{var i,r,a;function s(){Cv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cv(),n(Cn(t,"network-request-failed"))},timeout:xj.get()})}if((r=(i=In().gapi)==null?void 0:i.iframes)!=null&&r.Iframe)e(gapi.iframes.getContext());else if((a=In().gapi)!=null&&a.load)s();else{const o=lD("iframefcb");return In()[o]=()=>{gapi.load?s():n(Cn(t,"network-request-failed"))},kT(`${aD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function Tj(t){return Vc=Vc||Ej(t),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new wo(5e3,15e3),Sj="__/auth/iframe",Aj="emulator/auth/iframe",Nj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cj(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mp(e,Aj):`https://${t.config.authDomain}/${Sj}`,s={apiKey:e.apiKey,appName:t.name,v:Na},i=Rj.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${To(s).slice(1)}`}async function Ij(t){const e=await Tj(t),n=In().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:Cj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nj,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const a=Cn(t,"network-request-failed"),o=In().setTimeout(()=>{r(a)},wj.get());function u(){In().clearTimeout(o),i(s)}s.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jj=500,Oj=600,Mj="_blank",Vj="http://localhost";class Iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kj(t,e,n,s=jj,i=Oj){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let o="";const u={...Dj,width:s.toString(),height:i.toString(),top:r,left:a},h=vt().toLowerCase();n&&(o=CT(h)?Mj:n),NT(h)&&(e=e||Vj,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[y,C])=>`${g}${y}=${C},`,"");if(W2(h)&&o!=="_self")return Pj(e||"",o),new Iv(null);const m=window.open(e||"",o,f);Q(m,t,"popup-blocked");try{m.focus()}catch{}return new Iv(m)}function Pj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="__/auth/handler",Lj="emulator/auth/handler",zj=encodeURIComponent("fac");async function Dv(t,e,n,s,i,r){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Na,eventId:i};if(e instanceof LT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",yI(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof Ao){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const u=await t._getAppCheckToken(),h=u?`#${zj}=${encodeURIComponent(u)}`:"";return`${Bj(t)}?${To(o).slice(1)}${h}`}function Bj({config:t}){return t.emulator?Mp(t,Lj):`https://${t.authDomain}/${Uj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="webStorageSupport";class Hj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=dj,this._overrideRedirectResult=cj}async _openPopup(e,n,s,i){var a;fs((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await Dv(e,n,s,nm(),i);return kj(e,r,Lp())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Dv(e,n,s,nm(),i);return GD(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(fs(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Ij(e),s=new mj(e);return n.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gd,{type:Gd},i=>{var a;const r=(a=i==null?void 0:i[0])==null?void 0:a[Gd];r!==void 0&&n(!!r),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_j(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MT()||RT()||kp()}}const qj=Hj;var jv="@firebase/auth",Ov="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yj(t){la(new $i("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=s.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(t)},h=new sD(s,i,r,u);return fD(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),la(new $i("auth-internal",e=>{const n=vi(e.getProvider("auth").getImmediate());return(s=>new Fj(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ti(jv,Ov,Gj(t)),ti(jv,Ov,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=5*60,Kj=uT("authIdTokenMaxAge")||Qj;let Mv=null;const $j=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Kj)return;const i=n==null?void 0:n.token;Mv!==i&&(Mv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Xj(t=gT()){const e=jp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dD(t,{popupRedirectResolver:qj,persistence:[ej,HD,YT]}),s=uT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const a=$j(r.toString());PD(n,a,()=>a(n.currentUser)),kD(n,o=>a(o))}}const i=oT("auth");return i&&mD(n,`http://${i}`),n}function Wj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}iD({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=Cn("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",Wj().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yj("Browser");var Vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ni,ZT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,x){function S(){}S.prototype=x.prototype,w.F=x.prototype,w.prototype=new S,w.prototype.constructor=w,w.D=function(E,N,R){for(var A=Array(arguments.length-2),G=2;G<arguments.length;G++)A[G-2]=arguments[G];return x.prototype[N].apply(E,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,x,S){S||(S=0);const E=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)E[N]=x.charCodeAt(S++)|x.charCodeAt(S++)<<8|x.charCodeAt(S++)<<16|x.charCodeAt(S++)<<24;else for(N=0;N<16;++N)E[N]=x[S++]|x[S++]<<8|x[S++]<<16|x[S++]<<24;x=w.g[0],S=w.g[1],N=w.g[2];let R=w.g[3],A;A=x+(R^S&(N^R))+E[0]+3614090360&4294967295,x=S+(A<<7&4294967295|A>>>25),A=R+(N^x&(S^N))+E[1]+3905402710&4294967295,R=x+(A<<12&4294967295|A>>>20),A=N+(S^R&(x^S))+E[2]+606105819&4294967295,N=R+(A<<17&4294967295|A>>>15),A=S+(x^N&(R^x))+E[3]+3250441966&4294967295,S=N+(A<<22&4294967295|A>>>10),A=x+(R^S&(N^R))+E[4]+4118548399&4294967295,x=S+(A<<7&4294967295|A>>>25),A=R+(N^x&(S^N))+E[5]+1200080426&4294967295,R=x+(A<<12&4294967295|A>>>20),A=N+(S^R&(x^S))+E[6]+2821735955&4294967295,N=R+(A<<17&4294967295|A>>>15),A=S+(x^N&(R^x))+E[7]+4249261313&4294967295,S=N+(A<<22&4294967295|A>>>10),A=x+(R^S&(N^R))+E[8]+1770035416&4294967295,x=S+(A<<7&4294967295|A>>>25),A=R+(N^x&(S^N))+E[9]+2336552879&4294967295,R=x+(A<<12&4294967295|A>>>20),A=N+(S^R&(x^S))+E[10]+4294925233&4294967295,N=R+(A<<17&4294967295|A>>>15),A=S+(x^N&(R^x))+E[11]+2304563134&4294967295,S=N+(A<<22&4294967295|A>>>10),A=x+(R^S&(N^R))+E[12]+1804603682&4294967295,x=S+(A<<7&4294967295|A>>>25),A=R+(N^x&(S^N))+E[13]+4254626195&4294967295,R=x+(A<<12&4294967295|A>>>20),A=N+(S^R&(x^S))+E[14]+2792965006&4294967295,N=R+(A<<17&4294967295|A>>>15),A=S+(x^N&(R^x))+E[15]+1236535329&4294967295,S=N+(A<<22&4294967295|A>>>10),A=x+(N^R&(S^N))+E[1]+4129170786&4294967295,x=S+(A<<5&4294967295|A>>>27),A=R+(S^N&(x^S))+E[6]+3225465664&4294967295,R=x+(A<<9&4294967295|A>>>23),A=N+(x^S&(R^x))+E[11]+643717713&4294967295,N=R+(A<<14&4294967295|A>>>18),A=S+(R^x&(N^R))+E[0]+3921069994&4294967295,S=N+(A<<20&4294967295|A>>>12),A=x+(N^R&(S^N))+E[5]+3593408605&4294967295,x=S+(A<<5&4294967295|A>>>27),A=R+(S^N&(x^S))+E[10]+38016083&4294967295,R=x+(A<<9&4294967295|A>>>23),A=N+(x^S&(R^x))+E[15]+3634488961&4294967295,N=R+(A<<14&4294967295|A>>>18),A=S+(R^x&(N^R))+E[4]+3889429448&4294967295,S=N+(A<<20&4294967295|A>>>12),A=x+(N^R&(S^N))+E[9]+568446438&4294967295,x=S+(A<<5&4294967295|A>>>27),A=R+(S^N&(x^S))+E[14]+3275163606&4294967295,R=x+(A<<9&4294967295|A>>>23),A=N+(x^S&(R^x))+E[3]+4107603335&4294967295,N=R+(A<<14&4294967295|A>>>18),A=S+(R^x&(N^R))+E[8]+1163531501&4294967295,S=N+(A<<20&4294967295|A>>>12),A=x+(N^R&(S^N))+E[13]+2850285829&4294967295,x=S+(A<<5&4294967295|A>>>27),A=R+(S^N&(x^S))+E[2]+4243563512&4294967295,R=x+(A<<9&4294967295|A>>>23),A=N+(x^S&(R^x))+E[7]+1735328473&4294967295,N=R+(A<<14&4294967295|A>>>18),A=S+(R^x&(N^R))+E[12]+2368359562&4294967295,S=N+(A<<20&4294967295|A>>>12),A=x+(S^N^R)+E[5]+4294588738&4294967295,x=S+(A<<4&4294967295|A>>>28),A=R+(x^S^N)+E[8]+2272392833&4294967295,R=x+(A<<11&4294967295|A>>>21),A=N+(R^x^S)+E[11]+1839030562&4294967295,N=R+(A<<16&4294967295|A>>>16),A=S+(N^R^x)+E[14]+4259657740&4294967295,S=N+(A<<23&4294967295|A>>>9),A=x+(S^N^R)+E[1]+2763975236&4294967295,x=S+(A<<4&4294967295|A>>>28),A=R+(x^S^N)+E[4]+1272893353&4294967295,R=x+(A<<11&4294967295|A>>>21),A=N+(R^x^S)+E[7]+4139469664&4294967295,N=R+(A<<16&4294967295|A>>>16),A=S+(N^R^x)+E[10]+3200236656&4294967295,S=N+(A<<23&4294967295|A>>>9),A=x+(S^N^R)+E[13]+681279174&4294967295,x=S+(A<<4&4294967295|A>>>28),A=R+(x^S^N)+E[0]+3936430074&4294967295,R=x+(A<<11&4294967295|A>>>21),A=N+(R^x^S)+E[3]+3572445317&4294967295,N=R+(A<<16&4294967295|A>>>16),A=S+(N^R^x)+E[6]+76029189&4294967295,S=N+(A<<23&4294967295|A>>>9),A=x+(S^N^R)+E[9]+3654602809&4294967295,x=S+(A<<4&4294967295|A>>>28),A=R+(x^S^N)+E[12]+3873151461&4294967295,R=x+(A<<11&4294967295|A>>>21),A=N+(R^x^S)+E[15]+530742520&4294967295,N=R+(A<<16&4294967295|A>>>16),A=S+(N^R^x)+E[2]+3299628645&4294967295,S=N+(A<<23&4294967295|A>>>9),A=x+(N^(S|~R))+E[0]+4096336452&4294967295,x=S+(A<<6&4294967295|A>>>26),A=R+(S^(x|~N))+E[7]+1126891415&4294967295,R=x+(A<<10&4294967295|A>>>22),A=N+(x^(R|~S))+E[14]+2878612391&4294967295,N=R+(A<<15&4294967295|A>>>17),A=S+(R^(N|~x))+E[5]+4237533241&4294967295,S=N+(A<<21&4294967295|A>>>11),A=x+(N^(S|~R))+E[12]+1700485571&4294967295,x=S+(A<<6&4294967295|A>>>26),A=R+(S^(x|~N))+E[3]+2399980690&4294967295,R=x+(A<<10&4294967295|A>>>22),A=N+(x^(R|~S))+E[10]+4293915773&4294967295,N=R+(A<<15&4294967295|A>>>17),A=S+(R^(N|~x))+E[1]+2240044497&4294967295,S=N+(A<<21&4294967295|A>>>11),A=x+(N^(S|~R))+E[8]+1873313359&4294967295,x=S+(A<<6&4294967295|A>>>26),A=R+(S^(x|~N))+E[15]+4264355552&4294967295,R=x+(A<<10&4294967295|A>>>22),A=N+(x^(R|~S))+E[6]+2734768916&4294967295,N=R+(A<<15&4294967295|A>>>17),A=S+(R^(N|~x))+E[13]+1309151649&4294967295,S=N+(A<<21&4294967295|A>>>11),A=x+(N^(S|~R))+E[4]+4149444226&4294967295,x=S+(A<<6&4294967295|A>>>26),A=R+(S^(x|~N))+E[11]+3174756917&4294967295,R=x+(A<<10&4294967295|A>>>22),A=N+(x^(R|~S))+E[2]+718787259&4294967295,N=R+(A<<15&4294967295|A>>>17),A=S+(R^(N|~x))+E[9]+3951481745&4294967295,w.g[0]=w.g[0]+x&4294967295,w.g[1]=w.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+R&4294967295}s.prototype.v=function(w,x){x===void 0&&(x=w.length);const S=x-this.blockSize,E=this.C;let N=this.h,R=0;for(;R<x;){if(N==0)for(;R<=S;)i(this,w,R),R+=this.blockSize;if(typeof w=="string"){for(;R<x;)if(E[N++]=w.charCodeAt(R++),N==this.blockSize){i(this,E),N=0;break}}else for(;R<x;)if(E[N++]=w[R++],N==this.blockSize){i(this,E),N=0;break}}this.h=N,this.o+=x},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var x=1;x<w.length-8;++x)w[x]=0;x=this.o*8;for(var S=w.length-8;S<w.length;++S)w[S]=x&255,x/=256;for(this.v(w),w=Array(16),x=0,S=0;S<4;++S)for(let E=0;E<32;E+=8)w[x++]=this.g[S]>>>E&255;return w};function r(w,x){var S=o;return Object.prototype.hasOwnProperty.call(S,w)?S[w]:S[w]=x(w)}function a(w,x){this.h=x;const S=[];let E=!0;for(let N=w.length-1;N>=0;N--){const R=w[N]|0;E&&R==x||(S[N]=R,E=!1)}this.g=S}var o={};function u(w){return-128<=w&&w<128?r(w,function(x){return new a([x|0],x<0?-1:0)}):new a([w|0],w<0?-1:0)}function h(w){if(isNaN(w)||!isFinite(w))return m;if(w<0)return O(h(-w));const x=[];let S=1;for(let E=0;w>=S;E++)x[E]=w/S|0,S*=4294967296;return new a(x,0)}function f(w,x){if(w.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(w.charAt(0)=="-")return O(f(w.substring(1),x));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=h(Math.pow(x,8));let E=m;for(let R=0;R<w.length;R+=8){var N=Math.min(8,w.length-R);const A=parseInt(w.substring(R,R+N),x);N<8?(N=h(Math.pow(x,N)),E=E.j(N).add(h(A))):(E=E.j(S),E=E.add(h(A)))}return E}var m=u(0),g=u(1),y=u(16777216);t=a.prototype,t.m=function(){if(D(this))return-O(this).m();let w=0,x=1;for(let S=0;S<this.g.length;S++){const E=this.i(S);w+=(E>=0?E:4294967296+E)*x,x*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C(this))return"0";if(D(this))return"-"+O(this).toString(w);const x=h(Math.pow(w,6));var S=this;let E="";for(;;){const N=j(S,x).g;S=_(S,N.j(x));let R=((S.g.length>0?S.g[0]:S.h)>>>0).toString(w);if(S=N,C(S))return R+E;for(;R.length<6;)R="0"+R;E=R+E}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function C(w){if(w.h!=0)return!1;for(let x=0;x<w.g.length;x++)if(w.g[x]!=0)return!1;return!0}function D(w){return w.h==-1}t.l=function(w){return w=_(this,w),D(w)?-1:C(w)?0:1};function O(w){const x=w.g.length,S=[];for(let E=0;E<x;E++)S[E]=~w.g[E];return new a(S,~w.h).add(g)}t.abs=function(){return D(this)?O(this):this},t.add=function(w){const x=Math.max(this.g.length,w.g.length),S=[];let E=0;for(let N=0;N<=x;N++){let R=E+(this.i(N)&65535)+(w.i(N)&65535),A=(R>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);E=A>>>16,R&=65535,A&=65535,S[N]=A<<16|R}return new a(S,S[S.length-1]&-2147483648?-1:0)};function _(w,x){return w.add(O(x))}t.j=function(w){if(C(this)||C(w))return m;if(D(this))return D(w)?O(this).j(O(w)):O(O(this).j(w));if(D(w))return O(this.j(O(w)));if(this.l(y)<0&&w.l(y)<0)return h(this.m()*w.m());const x=this.g.length+w.g.length,S=[];for(var E=0;E<2*x;E++)S[E]=0;for(E=0;E<this.g.length;E++)for(let N=0;N<w.g.length;N++){const R=this.i(E)>>>16,A=this.i(E)&65535,G=w.i(N)>>>16,Ee=w.i(N)&65535;S[2*E+2*N]+=A*Ee,b(S,2*E+2*N),S[2*E+2*N+1]+=R*Ee,b(S,2*E+2*N+1),S[2*E+2*N+1]+=A*G,b(S,2*E+2*N+1),S[2*E+2*N+2]+=R*G,b(S,2*E+2*N+2)}for(w=0;w<x;w++)S[w]=S[2*w+1]<<16|S[2*w];for(w=x;w<2*x;w++)S[w]=0;return new a(S,0)};function b(w,x){for(;(w[x]&65535)!=w[x];)w[x+1]+=w[x]>>>16,w[x]&=65535,x++}function T(w,x){this.g=w,this.h=x}function j(w,x){if(C(x))throw Error("division by zero");if(C(w))return new T(m,m);if(D(w))return x=j(O(w),x),new T(O(x.g),O(x.h));if(D(x))return x=j(w,O(x)),new T(O(x.g),x.h);if(w.g.length>30){if(D(w)||D(x))throw Error("slowDivide_ only works with positive integers.");for(var S=g,E=x;E.l(w)<=0;)S=U(S),E=U(E);var N=z(S,1),R=z(E,1);for(E=z(E,2),S=z(S,2);!C(E);){var A=R.add(E);A.l(w)<=0&&(N=N.add(S),R=A),E=z(E,1),S=z(S,1)}return x=_(w,N.j(x)),new T(N,x)}for(N=m;w.l(x)>=0;){for(S=Math.max(1,Math.floor(w.m()/x.m())),E=Math.ceil(Math.log(S)/Math.LN2),E=E<=48?1:Math.pow(2,E-48),R=h(S),A=R.j(x);D(A)||A.l(w)>0;)S-=E,R=h(S),A=R.j(x);C(R)&&(R=g),N=N.add(R),w=_(w,A)}return new T(N,w)}t.B=function(w){return j(this,w).h},t.and=function(w){const x=Math.max(this.g.length,w.g.length),S=[];for(let E=0;E<x;E++)S[E]=this.i(E)&w.i(E);return new a(S,this.h&w.h)},t.or=function(w){const x=Math.max(this.g.length,w.g.length),S=[];for(let E=0;E<x;E++)S[E]=this.i(E)|w.i(E);return new a(S,this.h|w.h)},t.xor=function(w){const x=Math.max(this.g.length,w.g.length),S=[];for(let E=0;E<x;E++)S[E]=this.i(E)^w.i(E);return new a(S,this.h^w.h)};function U(w){const x=w.g.length+1,S=[];for(let E=0;E<x;E++)S[E]=w.i(E)<<1|w.i(E-1)>>>31;return new a(S,w.h)}function z(w,x){const S=x>>5;x%=32;const E=w.g.length-S,N=[];for(let R=0;R<E;R++)N[R]=x>0?w.i(R+S)>>>x|w.i(R+S+1)<<32-x:w.i(R+S);return new a(N,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ZT=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,ni=a}).apply(typeof Vv<"u"?Vv:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ew,dl,tw,kc,rm,nw,sw,iw;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var d=0;d<l.length;++d){var p=l[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=n(this);function i(l,d){if(d)e:{var p=s;l=l.split(".");for(var v=0;v<l.length-1;v++){var M=l[v];if(!(M in p))break e;p=p[M]}l=l[l.length-1],v=p[l],d=d(v),d!=v&&d!=null&&e(p,l,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(d){var p=[],v;for(v in d)Object.prototype.hasOwnProperty.call(d,v)&&p.push([v,d[v]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function o(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function u(l,d,p){return l.call.apply(l.bind,arguments)}function h(l,d,p){return h=u,h.apply(null,arguments)}function f(l,d){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function m(l,d){function p(){}p.prototype=d.prototype,l.Z=d.prototype,l.prototype=new p,l.prototype.constructor=l,l.Ob=function(v,M,V){for(var B=Array(arguments.length-2),se=2;se<arguments.length;se++)B[se-2]=arguments[se];return d.prototype[M].apply(v,B)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function y(l){const d=l.length;if(d>0){const p=Array(d);for(let v=0;v<d;v++)p[v]=l[v];return p}return[]}function C(l,d){for(let v=1;v<arguments.length;v++){const M=arguments[v];var p=typeof M;if(p=p!="object"?p:M?Array.isArray(M)?"array":p:"null",p=="array"||p=="object"&&typeof M.length=="number"){p=l.length||0;const V=M.length||0;l.length=p+V;for(let B=0;B<V;B++)l[p+B]=M[B]}else l.push(M)}}class D{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function O(l){a.setTimeout(()=>{throw l},0)}function _(){var l=w;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class b{constructor(){this.h=this.g=null}add(d,p){const v=T.get();v.set(d,p),this.h?this.h.next=v:this.g=v,this.h=v}}var T=new D(()=>new j,l=>l.reset());class j{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let U,z=!1,w=new b,x=()=>{const l=Promise.resolve(void 0);U=()=>{l.then(S)}};function S(){for(var l;l=_();){try{l.h.call(l.g)}catch(p){O(p)}var d=T;d.j(l),d.h<100&&(d.h++,l.next=d.g,d.g=l)}z=!1}function E(){this.u=this.u,this.C=this.C}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return l}();function A(l){return/^[\s\xa0]*$/.test(l)}function G(l,d){N.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,d)}m(G,N),G.prototype.init=function(l,d){const p=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget,d||(p=="mouseover"?d=l.fromElement:p=="mouseout"&&(d=l.toElement)),this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(l,d,p,v,M){this.listener=l,this.proxy=null,this.src=d,this.type=p,this.capture=!!v,this.ha=M,this.key=++H,this.da=this.fa=!1}function X(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ye(l,d,p){for(const v in l)d.call(p,l[v],v,l)}function Me(l,d){for(const p in l)d.call(void 0,l[p],p,l)}function zn(l){const d={};for(const p in l)d[p]=l[p];return d}const bn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ei(l,d){let p,v;for(let M=1;M<arguments.length;M++){v=arguments[M];for(p in v)l[p]=v[p];for(let V=0;V<bn.length;V++)p=bn[V],Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])}}function St(l){this.src=l,this.g={},this.h=0}St.prototype.add=function(l,d,p,v,M){const V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);const B=ur(l,d,v,M);return B>-1?(d=l[B],p||(d.fa=!1)):(d=new te(d,this.src,V,!!v,M),d.fa=p,l.push(d)),d};function xn(l,d){const p=d.type;if(p in l.g){var v=l.g[p],M=Array.prototype.indexOf.call(v,d,void 0),V;(V=M>=0)&&Array.prototype.splice.call(v,M,1),V&&(X(d),l.g[p].length==0&&(delete l.g[p],l.h--))}}function ur(l,d,p,v){for(let M=0;M<l.length;++M){const V=l[M];if(!V.da&&V.listener==d&&V.capture==!!p&&V.ha==v)return M}return-1}var ne="closure_lm_"+(Math.random()*1e6|0),_t={};function Ti(l,d,p,v,M){if(Array.isArray(d)){for(let V=0;V<d.length;V++)Ti(l,d[V],p,v,M);return null}return p=Ig(p),l&&l[Ee]?l.J(d,p,o(v)?!!v.capture:!1,M):US(l,d,p,!1,v,M)}function US(l,d,p,v,M,V){if(!d)throw Error("Invalid event type");const B=o(M)?!!M.capture:!!M;let se=Oh(l);if(se||(l[ne]=se=new St(l)),p=se.add(d,p,v,B,V),p.proxy)return p;if(v=LS(),p.proxy=v,v.src=l,v.listener=p,l.addEventListener)R||(M=B),M===void 0&&(M=!1),l.addEventListener(d.toString(),v,M);else if(l.attachEvent)l.attachEvent(Cg(d.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function LS(){function l(p){return d.call(l.src,l.listener,p)}const d=zS;return l}function Rg(l,d,p,v,M){if(Array.isArray(d))for(var V=0;V<d.length;V++)Rg(l,d[V],p,v,M);else v=o(v)?!!v.capture:!!v,p=Ig(p),l&&l[Ee]?(l=l.i,V=String(d).toString(),V in l.g&&(d=l.g[V],p=ur(d,p,v,M),p>-1&&(X(d[p]),Array.prototype.splice.call(d,p,1),d.length==0&&(delete l.g[V],l.h--)))):l&&(l=Oh(l))&&(d=l.g[d.toString()],l=-1,d&&(l=ur(d,p,v,M)),(p=l>-1?d[l]:null)&&jh(p))}function jh(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Ee])xn(d.i,l);else{var p=l.type,v=l.proxy;d.removeEventListener?d.removeEventListener(p,v,l.capture):d.detachEvent?d.detachEvent(Cg(p),v):d.addListener&&d.removeListener&&d.removeListener(v),(p=Oh(d))?(xn(p,l),p.h==0&&(p.src=null,d[ne]=null)):X(l)}}}function Cg(l){return l in _t?_t[l]:_t[l]="on"+l}function zS(l,d){if(l.da)l=!0;else{d=new G(d,this);const p=l.listener,v=l.ha||l.src;l.fa&&jh(l),l=p.call(v,d)}return l}function Oh(l){return l=l[ne],l instanceof St?l:null}var Mh="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ig(l){return typeof l=="function"?l:(l[Mh]||(l[Mh]=function(d){return l.handleEvent(d)}),l[Mh])}function mt(){E.call(this),this.i=new St(this),this.M=this,this.G=null}m(mt,E),mt.prototype[Ee]=!0,mt.prototype.removeEventListener=function(l,d,p,v){Rg(this,l,d,p,v)};function bt(l,d){var p,v=l.G;if(v)for(p=[];v;v=v.G)p.push(v);if(l=l.M,v=d.type||d,typeof d=="string")d=new N(d,l);else if(d instanceof N)d.target=d.target||l;else{var M=d;d=new N(v,l),Ei(d,M)}M=!0;let V,B;if(p)for(B=p.length-1;B>=0;B--)V=d.g=p[B],M=Mo(V,v,!0,d)&&M;if(V=d.g=l,M=Mo(V,v,!0,d)&&M,M=Mo(V,v,!1,d)&&M,p)for(B=0;B<p.length;B++)V=d.g=p[B],M=Mo(V,v,!1,d)&&M}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var l=this.i;for(const d in l.g){const p=l.g[d];for(let v=0;v<p.length;v++)X(p[v]);delete l.g[d],l.h--}}this.G=null},mt.prototype.J=function(l,d,p,v){return this.i.add(String(l),d,!1,p,v)},mt.prototype.K=function(l,d,p,v){return this.i.add(String(l),d,!0,p,v)};function Mo(l,d,p,v){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();let M=!0;for(let V=0;V<d.length;++V){const B=d[V];if(B&&!B.da&&B.capture==p){const se=B.listener,We=B.ha||B.src;B.fa&&xn(l.i,B),M=se.call(We,v)!==!1&&M}}return M&&!v.defaultPrevented}function BS(l,d){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:a.setTimeout(l,d||0)}function Dg(l){l.g=BS(()=>{l.g=null,l.i&&(l.i=!1,Dg(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class HS extends E{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Dg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(l){E.call(this),this.h=l,this.g={}}m(Ma,E);var jg=[];function Og(l){ye(l.g,function(d,p){this.g.hasOwnProperty(p)&&jh(d)},l),l.g={}}Ma.prototype.N=function(){Ma.Z.N.call(this),Og(this)},Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vh=a.JSON.stringify,qS=a.JSON.parse,FS=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Mg(){}function Vg(){}var Va={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kh(){N.call(this,"d")}m(kh,N);function Ph(){N.call(this,"c")}m(Ph,N);var wi={},kg=null;function Vo(){return kg=kg||new mt}wi.Ia="serverreachability";function Pg(l){N.call(this,wi.Ia,l)}m(Pg,N);function ka(l){const d=Vo();bt(d,new Pg(d))}wi.STAT_EVENT="statevent";function Ug(l,d){N.call(this,wi.STAT_EVENT,l),this.stat=d}m(Ug,N);function xt(l){const d=Vo();bt(d,new Ug(d,l))}wi.Ja="timingevent";function Lg(l,d){N.call(this,wi.Ja,l),this.size=d}m(Lg,N);function Pa(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function Ua(){this.g=!0}Ua.prototype.ua=function(){this.g=!1};function GS(l,d,p,v,M,V){l.info(function(){if(l.g)if(V){var B="",se=V.split("&");for(let be=0;be<se.length;be++){var We=se[be].split("=");if(We.length>1){const tt=We[0];We=We[1];const Tn=tt.split("_");B=Tn.length>=2&&Tn[1]=="type"?B+(tt+"="+We+"&"):B+(tt+"=redacted&")}}}else B=null;else B=V;return"XMLHTTP REQ ("+v+") [attempt "+M+"]: "+d+`
`+p+`
`+B})}function YS(l,d,p,v,M,V,B){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+M+"]: "+d+`
`+p+`
`+V+" "+B})}function hr(l,d,p,v){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+KS(l,p)+(v?" "+v:"")})}function QS(l,d){l.info(function(){return"TIMEOUT: "+d})}Ua.prototype.info=function(){};function KS(l,d){if(!l.g)return d;if(!d)return null;try{const V=JSON.parse(d);if(V){for(l=0;l<V.length;l++)if(Array.isArray(V[l])){var p=V[l];if(!(p.length<2)){var v=p[1];if(Array.isArray(v)&&!(v.length<1)){var M=v[0];if(M!="noop"&&M!="stop"&&M!="close")for(let B=1;B<v.length;B++)v[B]=""}}}}return Vh(V)}catch{return d}}var ko={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bg;function Uh(){}m(Uh,Mg),Uh.prototype.g=function(){return new XMLHttpRequest},Bg=new Uh;function La(l){return encodeURIComponent(String(l))}function $S(l){var d=1;l=l.split(":");const p=[];for(;d>0&&l.length;)p.push(l.shift()),d--;return l.length&&p.push(l.join(":")),p}function bs(l,d,p,v){this.j=l,this.i=d,this.l=p,this.S=v||1,this.V=new Ma(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hg}function Hg(){this.i=null,this.g="",this.h=!1}var qg={},Lh={};function zh(l,d,p){l.M=1,l.A=Uo(En(d)),l.u=p,l.R=!0,Fg(l,null)}function Fg(l,d){l.F=Date.now(),Po(l),l.B=En(l.A);var p=l.B,v=l.S;Array.isArray(v)||(v=[String(v)]),sy(p.i,"t",v),l.C=0,p=l.j.L,l.h=new Hg,l.g=xy(l.j,p?d:null,!l.u),l.P>0&&(l.O=new HS(h(l.Y,l,l.g),l.P)),d=l.V,p=l.g,v=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(jg[0]=M.toString()),M=jg);for(let V=0;V<M.length;V++){const B=Ti(p,M[V],v||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=l.J?zn(l.J):{},l.u?(l.v||(l.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,d)):(l.v="GET",l.g.ea(l.B,l.v,null,d)),ka(),GS(l.i,l.v,l.B,l.l,l.S,l.u)}bs.prototype.ba=function(l){l=l.target;const d=this.O;d&&Ts(l)==3?d.j():this.Y(l)},bs.prototype.Y=function(l){try{if(l==this.g)e:{const se=Ts(this.g),We=this.g.ya(),be=this.g.ca();if(!(se<3)&&(se!=3||this.g&&(this.h.h||this.g.la()||uy(this.g)))){this.K||se!=4||We==7||(We==8||be<=0?ka(3):ka(2)),Bh(this);var d=this.g.ca();this.X=d;var p=XS(this);if(this.o=d==200,YS(this.i,this.v,this.B,this.l,this.S,se,d),this.o){if(this.U&&!this.L){t:{if(this.g){var v,M=this.g;if((v=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(v)){var V=v;break t}}V=null}if(l=V)hr(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hh(this,l);else{this.o=!1,this.m=3,xt(12),Si(this),za(this);break e}}if(this.R){l=!0;let tt;for(;!this.K&&this.C<p.length;)if(tt=WS(this,p),tt==Lh){se==4&&(this.m=4,xt(14),l=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(tt==qg){this.m=4,xt(15),hr(this.i,this.l,p,"[Invalid Chunk]"),l=!1;break}else hr(this.i,this.l,tt,null),Hh(this,tt);if(Gg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||p.length!=0||this.h.h||(this.m=1,xt(16),l=!1),this.o=this.o&&l,!l)hr(this.i,this.l,p,"[Invalid Chunked Response]"),Si(this),za(this);else if(p.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Xh(B),B.P=!0,xt(11))}}else hr(this.i,this.l,p,null),Hh(this,p);se==4&&Si(this),this.o&&!this.K&&(se==4?yy(this.j,this):(this.o=!1,Po(this)))}else h1(this.g),d==400&&p.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Si(this),za(this)}}}catch{}finally{}};function XS(l){if(!Gg(l))return l.g.la();const d=uy(l.g);if(d==="")return"";let p="";const v=d.length,M=Ts(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Si(l),za(l),"";l.h.i=new a.TextDecoder}for(let V=0;V<v;V++)l.h.h=!0,p+=l.h.i.decode(d[V],{stream:!(M&&V==v-1)});return d.length=0,l.h.g+=p,l.C=0,l.h.g}function Gg(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function WS(l,d){var p=l.C,v=d.indexOf(`
`,p);return v==-1?Lh:(p=Number(d.substring(p,v)),isNaN(p)?qg:(v+=1,v+p>d.length?Lh:(d=d.slice(v,v+p),l.C=v+p,d)))}bs.prototype.cancel=function(){this.K=!0,Si(this)};function Po(l){l.T=Date.now()+l.H,Yg(l,l.H)}function Yg(l,d){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Pa(h(l.aa,l),d)}function Bh(l){l.D&&(a.clearTimeout(l.D),l.D=null)}bs.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(QS(this.i,this.B),this.M!=2&&(ka(),xt(17)),Si(this),this.m=2,za(this)):Yg(this,this.T-l)};function za(l){l.j.I==0||l.K||yy(l.j,l)}function Si(l){Bh(l);var d=l.O;d&&typeof d.dispose=="function"&&d.dispose(),l.O=null,Og(l.V),l.g&&(d=l.g,l.g=null,d.abort(),d.dispose())}function Hh(l,d){try{var p=l.j;if(p.I!=0&&(p.g==l||qh(p.h,l))){if(!l.L&&qh(p.h,l)&&p.I==3){try{var v=p.Ba.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var M=v;if(M[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<l.F)qo(p),Bo(p);else break e;$h(p),xt(18)}}else p.xa=M[1],0<p.xa-p.K&&M[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Pa(h(p.Va,p),6e3));$g(p.h)<=1&&p.ta&&(p.ta=void 0)}else Ni(p,11)}else if((l.L||p.g==l)&&qo(p),!A(d))for(M=p.Ba.g.parse(d),d=0;d<M.length;d++){let be=M[d];const tt=be[0];if(!(tt<=p.K))if(p.K=tt,be=be[1],p.I==2)if(be[0]=="c"){p.M=be[1],p.ba=be[2];const Tn=be[3];Tn!=null&&(p.ka=Tn,p.j.info("VER="+p.ka));const Ri=be[4];Ri!=null&&(p.za=Ri,p.j.info("SVER="+p.za));const ws=be[5];ws!=null&&typeof ws=="number"&&ws>0&&(v=1.5*ws,p.O=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;const Ss=l.g;if(Ss){const Go=Ss.g?Ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Go){var V=v.h;V.g||Go.indexOf("spdy")==-1&&Go.indexOf("quic")==-1&&Go.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Fh(V,V.h),V.h=null))}if(v.G){const Wh=Ss.g?Ss.g.getResponseHeader("X-HTTP-Session-Id"):null;Wh&&(v.wa=Wh,Se(v.J,v.G,Wh))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-l.F,p.j.info("Handshake RTT: "+p.T+"ms")),v=p;var B=l;if(v.na=by(v,v.L?v.ba:null,v.W),B.L){Xg(v.h,B);var se=B,We=v.O;We&&(se.H=We),se.D&&(Bh(se),Po(se)),v.g=B}else py(v);p.i.length>0&&Ho(p)}else be[0]!="stop"&&be[0]!="close"||Ni(p,7);else p.I==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Ni(p,7):Kh(p):be[0]!="noop"&&p.l&&p.l.qa(be),p.A=0)}}ka(4)}catch{}}var JS=class{constructor(l,d){this.g=l,this.map=d}};function Qg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function $g(l){return l.h?1:l.g?l.g.size:0}function qh(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Fh(l,d){l.g?l.g.add(d):l.h=d}function Xg(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Qg.prototype.cancel=function(){if(this.i=Wg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Wg(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const p of l.g.values())d=d.concat(p.G);return d}return y(l.i)}var Jg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZS(l,d){if(l){l=l.split("&");for(let p=0;p<l.length;p++){const v=l[p].indexOf("=");let M,V=null;v>=0?(M=l[p].substring(0,v),V=l[p].substring(v+1)):M=l[p],d(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function xs(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;l instanceof xs?(this.l=l.l,Ba(this,l.j),this.o=l.o,this.g=l.g,Ha(this,l.u),this.h=l.h,Gh(this,iy(l.i)),this.m=l.m):l&&(d=String(l).match(Jg))?(this.l=!1,Ba(this,d[1]||"",!0),this.o=qa(d[2]||""),this.g=qa(d[3]||"",!0),Ha(this,d[4]),this.h=qa(d[5]||"",!0),Gh(this,d[6]||"",!0),this.m=qa(d[7]||"")):(this.l=!1,this.i=new Ga(null,this.l))}xs.prototype.toString=function(){const l=[];var d=this.j;d&&l.push(Fa(d,Zg,!0),":");var p=this.g;return(p||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Fa(d,Zg,!0),"@"),l.push(La(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&l.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Fa(p,p.charAt(0)=="/"?n1:t1,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Fa(p,i1)),l.join("")},xs.prototype.resolve=function(l){const d=En(this);let p=!!l.j;p?Ba(d,l.j):p=!!l.o,p?d.o=l.o:p=!!l.g,p?d.g=l.g:p=l.u!=null;var v=l.h;if(p)Ha(d,l.u);else if(p=!!l.h){if(v.charAt(0)!="/")if(this.g&&!this.h)v="/"+v;else{var M=d.h.lastIndexOf("/");M!=-1&&(v=d.h.slice(0,M+1)+v)}if(M=v,M==".."||M==".")v="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){v=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let B=0;B<M.length;){const se=M[B++];se=="."?v&&B==M.length&&V.push(""):se==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),v&&B==M.length&&V.push("")):(V.push(se),v=!0)}v=V.join("/")}else v=M}return p?d.h=v:p=l.i.toString()!=="",p?Gh(d,iy(l.i)):p=!!l.m,p&&(d.m=l.m),d};function En(l){return new xs(l)}function Ba(l,d,p){l.j=p?qa(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Ha(l,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);l.u=d}else l.u=null}function Gh(l,d,p){d instanceof Ga?(l.i=d,r1(l.i,l.l)):(p||(d=Fa(d,s1)),l.i=new Ga(d,l.l))}function Se(l,d,p){l.i.set(d,p)}function Uo(l){return Se(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function qa(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Fa(l,d,p){return typeof l=="string"?(l=encodeURI(l).replace(d,e1),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function e1(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Zg=/[#\/\?@]/g,t1=/[#\?:]/g,n1=/[#\?]/g,s1=/[#\?@]/g,i1=/#/g;function Ga(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Ai(l){l.g||(l.g=new Map,l.h=0,l.i&&ZS(l.i,function(d,p){l.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=Ga.prototype,t.add=function(l,d){Ai(this),this.i=null,l=dr(this,l);let p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(d),this.h+=1,this};function ey(l,d){Ai(l),d=dr(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function ty(l,d){return Ai(l),d=dr(l,d),l.g.has(d)}t.forEach=function(l,d){Ai(this),this.g.forEach(function(p,v){p.forEach(function(M){l.call(d,M,v,this)},this)},this)};function ny(l,d){Ai(l);let p=[];if(typeof d=="string")ty(l,d)&&(p=p.concat(l.g.get(dr(l,d))));else for(l=Array.from(l.g.values()),d=0;d<l.length;d++)p=p.concat(l[d]);return p}t.set=function(l,d){return Ai(this),this.i=null,l=dr(this,l),ty(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=ny(this,l),l.length>0?String(l[0]):d):d};function sy(l,d,p){ey(l,d),p.length>0&&(l.i=null,l.g.set(dr(l,d),y(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(let v=0;v<d.length;v++){var p=d[v];const M=La(p);p=ny(this,p);for(let V=0;V<p.length;V++){let B=M;p[V]!==""&&(B+="="+La(p[V])),l.push(B)}}return this.i=l.join("&")};function iy(l){const d=new Ga;return d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),d}function dr(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function r1(l,d){d&&!l.j&&(Ai(l),l.i=null,l.g.forEach(function(p,v){const M=v.toLowerCase();v!=M&&(ey(this,v),sy(this,M,p))},l)),l.j=d}function a1(l,d){const p=new Ua;if(a.Image){const v=new Image;v.onload=f(Es,p,"TestLoadImage: loaded",!0,d,v),v.onerror=f(Es,p,"TestLoadImage: error",!1,d,v),v.onabort=f(Es,p,"TestLoadImage: abort",!1,d,v),v.ontimeout=f(Es,p,"TestLoadImage: timeout",!1,d,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else d(!1)}function l1(l,d){const p=new Ua,v=new AbortController,M=setTimeout(()=>{v.abort(),Es(p,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:v.signal}).then(V=>{clearTimeout(M),V.ok?Es(p,"TestPingServer: ok",!0,d):Es(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),Es(p,"TestPingServer: error",!1,d)})}function Es(l,d,p,v,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),v(p)}catch{}}function o1(){this.g=new FS}function Yh(l){this.i=l.Sb||null,this.h=l.ab||!1}m(Yh,Mg),Yh.prototype.g=function(){return new Lo(this.i,this.h)};function Lo(l,d){mt.call(this),this.H=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Lo,mt),t=Lo.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=d,this.readyState=1,Qa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(d.body=l),(this.H||a).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ya(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Qa(this)),this.g&&(this.readyState=3,Qa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ry(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function ry(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Ya(this):Qa(this),this.readyState==3&&ry(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Ya(this))},t.Na=function(l){this.g&&(this.response=l,Ya(this))},t.ga=function(){this.g&&Ya(this)};function Ya(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Qa(l)}t.setRequestHeader=function(l,d){this.A.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=d.next();return l.join(`\r
`)};function Qa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ay(l){let d="";return ye(l,function(p,v){d+=v,d+=":",d+=p,d+=`\r
`}),d}function Qh(l,d,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=ay(p),typeof l=="string"?p!=null&&La(p):Se(l,d,p))}function Ve(l){mt.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Ve,mt);var c1=/^https?$/i,u1=["POST","PUT"];t=Ve.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,d,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bg.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(V){ly(this,V);return}if(l=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var M in v)p.set(M,v[M]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const V of v.keys())p.set(V,v.get(V));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(Array.prototype.indexOf.call(u1,d,void 0)>=0)||v||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,B]of p)this.g.setRequestHeader(V,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(V){ly(this,V)}};function ly(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.o=5,oy(l),zo(l)}function oy(l){l.A||(l.A=!0,bt(l,"complete"),bt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,bt(this,"complete"),bt(this,"abort"),zo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zo(this,!0)),Ve.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?cy(this):this.Xa())},t.Xa=function(){cy(this)};function cy(l){if(l.h&&typeof r<"u"){if(l.v&&Ts(l)==4)setTimeout(l.Ca.bind(l),0);else if(bt(l,"readystatechange"),Ts(l)==4){l.h=!1;try{const V=l.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var v;if(v=V===0){let B=String(l.D).match(Jg)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),v=!c1.test(B?B.toLowerCase():"")}p=v}if(p)bt(l,"complete"),bt(l,"success");else{l.o=6;try{var M=Ts(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",oy(l)}}finally{zo(l)}}}}function zo(l,d){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const p=l.g;l.g=null,d||bt(l,"ready");try{p.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ts(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Ts(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),qS(d)}};function uy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function h1(l){const d={};l=(l.g&&Ts(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(A(l[v]))continue;var p=$S(l[v]);const M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const V=d[M]||[];d[M]=V,V.push(p)}Me(d,function(v){return v.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(l,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||d}function hy(l){this.za=0,this.i=[],this.j=new Ua,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ka("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ka("baseRetryDelayMs",5e3,l),this.Za=Ka("retryDelaySeedMs",1e4,l),this.Ta=Ka("forwardChannelMaxRetries",2,l),this.va=Ka("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Qg(l&&l.concurrentRequestLimit),this.Ba=new o1,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=hy.prototype,t.ka=8,t.I=1,t.connect=function(l,d,p,v){xt(0),this.W=l,this.H=d||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.J=by(this,null,this.W),Ho(this)};function Kh(l){if(dy(l),l.I==3){var d=l.V++,p=En(l.J);if(Se(p,"SID",l.M),Se(p,"RID",d),Se(p,"TYPE","terminate"),$a(l,p),d=new bs(l,l.j,d),d.M=2,d.A=Uo(En(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.A.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.A,p=!0),p||(d.g=xy(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Po(d)}_y(l)}function Bo(l){l.g&&(Xh(l),l.g.cancel(),l.g=null)}function dy(l){Bo(l),l.v&&(a.clearTimeout(l.v),l.v=null),qo(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&a.clearTimeout(l.m),l.m=null)}function Ho(l){if(!Kg(l.h)&&!l.m){l.m=!0;var d=l.Ea;U||x(),z||(U(),z=!0),w.add(d,l),l.D=0}}function d1(l,d){return $g(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=d.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Pa(h(l.Ea,l,d),vy(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new bs(this,this.j,l);let V=this.o;if(this.U&&(V?(V=zn(V),Ei(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,d>4096){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=my(this,M,d),p=En(this.J),Se(p,"RID",l),Se(p,"CVER",22),this.G&&Se(p,"X-HTTP-Session-Id",this.G),$a(this,p),V&&(this.R?d="headers="+La(ay(V))+"&"+d:this.u&&Qh(p,this.u,V)),Fh(this.h,M),this.Ra&&Se(p,"TYPE","init"),this.S?(Se(p,"$req",d),Se(p,"SID","null"),M.U=!0,zh(M,p,null)):zh(M,p,d),this.I=2}}else this.I==3&&(l?fy(this,l):this.i.length==0||Kg(this.h)||fy(this))};function fy(l,d){var p;d?p=d.l:p=l.V++;const v=En(l.J);Se(v,"SID",l.M),Se(v,"RID",p),Se(v,"AID",l.K),$a(l,v),l.u&&l.o&&Qh(v,l.u,l.o),p=new bs(l,l.j,p,l.D+1),l.u===null&&(p.J=l.o),d&&(l.i=d.G.concat(l.i)),d=my(l,p,1e3),p.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Fh(l.h,p),zh(p,v,d)}function $a(l,d){l.H&&ye(l.H,function(p,v){Se(d,v,p)}),l.l&&ye({},function(p,v){Se(d,v,p)})}function my(l,d,p){p=Math.min(l.i.length,p);const v=l.l?h(l.l.Ka,l.l,l):null;e:{var M=l.i;let se=-1;for(;;){const We=["count="+p];se==-1?p>0?(se=M[0].g,We.push("ofs="+se)):se=0:We.push("ofs="+se);let be=!0;for(let tt=0;tt<p;tt++){var V=M[tt].g;const Tn=M[tt].map;if(V-=se,V<0)se=Math.max(0,M[tt].g-100),be=!1;else try{V="req"+V+"_"||"";try{var B=Tn instanceof Map?Tn:Object.entries(Tn);for(const[Ri,ws]of B){let Ss=ws;o(ws)&&(Ss=Vh(ws)),We.push(V+Ri+"="+encodeURIComponent(Ss))}}catch(Ri){throw We.push(V+"type="+encodeURIComponent("_badmap")),Ri}}catch{v&&v(Tn)}}if(be){B=We.join("&");break e}}B=void 0}return l=l.i.splice(0,p),d.G=l,B}function py(l){if(!l.g&&!l.v){l.Y=1;var d=l.Da;U||x(),z||(U(),z=!0),w.add(d,l),l.A=0}}function $h(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Pa(h(l.Da,l),vy(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,gy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Pa(h(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Bo(this),gy(this))};function Xh(l){l.B!=null&&(a.clearTimeout(l.B),l.B=null)}function gy(l){l.g=new bs(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var d=En(l.na);Se(d,"RID","rpc"),Se(d,"SID",l.M),Se(d,"AID",l.K),Se(d,"CI",l.F?"0":"1"),!l.F&&l.ia&&Se(d,"TO",l.ia),Se(d,"TYPE","xmlhttp"),$a(l,d),l.u&&l.o&&Qh(d,l.u,l.o),l.O&&(l.g.H=l.O);var p=l.g;l=l.ba,p.M=1,p.A=Uo(En(d)),p.u=null,p.R=!0,Fg(p,l)}t.Va=function(){this.C!=null&&(this.C=null,Bo(this),$h(this),xt(19))};function qo(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function yy(l,d){var p=null;if(l.g==d){qo(l),Xh(l),l.g=null;var v=2}else if(qh(l.h,d))p=d.G,Xg(l.h,d),v=1;else return;if(l.I!=0){if(d.o)if(v==1){p=d.u?d.u.length:0,d=Date.now()-d.F;var M=l.D;v=Vo(),bt(v,new Lg(v,p)),Ho(l)}else py(l);else if(M=d.m,M==3||M==0&&d.X>0||!(v==1&&d1(l,d)||v==2&&$h(l)))switch(p&&p.length>0&&(d=l.h,d.i=d.i.concat(p)),M){case 1:Ni(l,5);break;case 4:Ni(l,10);break;case 3:Ni(l,6);break;default:Ni(l,2)}}}function vy(l,d){let p=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(p*=2),p*d}function Ni(l,d){if(l.j.info("Error code "+d),d==2){var p=h(l.bb,l),v=l.Ua;const M=!v;v=new xs(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ba(v,"https"),Uo(v),M?a1(v.toString(),p):l1(v.toString(),p)}else xt(2);l.I=0,l.l&&l.l.pa(d),_y(l),dy(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function _y(l){if(l.I=0,l.ja=[],l.l){const d=Wg(l.h);(d.length!=0||l.i.length!=0)&&(C(l.ja,d),C(l.ja,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.oa()}}function by(l,d,p){var v=p instanceof xs?En(p):new xs(p);if(v.g!="")d&&(v.g=d+"."+v.g),Ha(v,v.u);else{var M=a.location;v=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;const V=new xs(null);v&&Ba(V,v),d&&(V.g=d),M&&Ha(V,M),p&&(V.h=p),v=V}return p=l.G,d=l.wa,p&&d&&Se(v,p,d),Se(v,"VER",l.ka),$a(l,v),v}function xy(l,d,p){if(d&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Aa&&!l.ma?new Ve(new Yh({ab:p})):new Ve(l.ma),d.Fa(l.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ey(){}t=Ey.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Fo(){}Fo.prototype.g=function(l,d){return new Vt(l,d)};function Vt(l,d){mt.call(this),this.g=new hy(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(l?l["X-WebChannel-Client-Profile"]=d.sa:l={"X-WebChannel-Client-Profile":d.sa}),this.g.U=l,(l=d&&d.Qb)&&!A(l)&&(this.g.u=l),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!A(d)&&(this.g.G=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new fr(this)}m(Vt,mt),Vt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Kh(this.g)},Vt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.v&&(p={},p.__data__=Vh(l),l=p);d.i.push(new JS(d.Ya++,l)),d.I==3&&Ho(d)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Kh(this.g),delete this.g,Vt.Z.N.call(this)};function Ty(l){kh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const p in d){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}m(Ty,kh);function wy(){Ph.call(this),this.status=1}m(wy,Ph);function fr(l){this.g=l}m(fr,Ey),fr.prototype.ra=function(){bt(this.g,"a")},fr.prototype.qa=function(l){bt(this.g,new Ty(l))},fr.prototype.pa=function(l){bt(this.g,new wy)},fr.prototype.oa=function(){bt(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,iw=function(){return new Fo},sw=function(){return Vo()},nw=wi,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ko.NO_ERROR=0,ko.TIMEOUT=8,ko.HTTP_ERROR=6,kc=ko,zg.COMPLETE="complete",tw=zg,Vg.EventType=Va,Va.OPEN="a",Va.CLOSE="b",Va.ERROR="c",Va.MESSAGE="d",mt.prototype.listen=mt.prototype.J,dl=Vg,Ve.prototype.listenOnce=Ve.prototype.K,Ve.prototype.getLastError=Ve.prototype.Ha,Ve.prototype.getLastErrorCode=Ve.prototype.ya,Ve.prototype.getStatus=Ve.prototype.ca,Ve.prototype.getResponseJson=Ve.prototype.La,Ve.prototype.getResponseText=Ve.prototype.la,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Fa,ew=Ve}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca="12.8.0";function Jj(t){Ca=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Ip("@firebase/firestore");function _r(){return Ji.logLevel}function F(t,...e){if(Ji.logLevel<=ae.DEBUG){const n=e.map(Bp);Ji.debug(`Firestore (${Ca}): ${t}`,...n)}}function ms(t,...e){if(Ji.logLevel<=ae.ERROR){const n=e.map(Bp);Ji.error(`Firestore (${Ca}): ${t}`,...n)}}function ca(t,...e){if(Ji.logLevel<=ae.WARN){const n=e.map(Bp);Ji.warn(`Firestore (${Ca}): ${t}`,...n)}}function Bp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,rw(t,s,n)}function rw(t,e,n){let s=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ms(s),new Error(s)}function me(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||rw(e,i,s)}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class e4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class t4{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let s=this.i;const i=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let r=new is;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new is,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},o=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new is)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(me(typeof s.accessToken=="string",31837,{l:s}),new aw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new gt(e)}}class n4{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class s4{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new n4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);const s=r=>{r.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,F("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=r4(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function le(t,e){return t<e?-1:t>e?1:0}function am(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.charAt(s),r=e.charAt(s);if(i!==r)return Yd(i)===Yd(r)?le(i,r):Yd(i)?1:-1}return le(t.length,e.length)}const a4=55296,l4=57343;function Yd(t){const e=t.charCodeAt(0);return e>=a4&&e<=l4}function ua(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="__name__";class wn{constructor(e,n,s){n===void 0?n=0:n>e.length&&K(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&K(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return wn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=wn.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return le(e.length,n.length)}static compareSegments(e,n){const s=wn.isNumericId(e),i=wn.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?wn.extractNumericId(e).compare(wn.extractNumericId(n)):am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ni.fromString(e.substring(4,e.length-2))}}class Te extends wn{construct(e,n,s){return new Te(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new q(k.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const o4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends wn{construct(e,n,s){return new ut(e,n,s)}static isValidIdentifier(e){return o4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pv}static keyField(){return new ut([Pv])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new q(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new q(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(s+=o,i++):(r(),i++)}if(r(),a)throw new q(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Te.fromString(e))}static fromName(e){return new Y(Te.fromString(e).popFirst(5))}static empty(){return new Y(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t,e,n){if(!n)throw new q(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c4(t,e,n,s){if(e===!0&&s===!0)throw new q(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Uv(t){if(!Y.isDocumentKey(t))throw new q(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lv(t){if(Y.isDocumentKey(t))throw new q(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ow(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function fh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K(12329,{type:typeof t})}function Yt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fh(t);throw new q(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ro(t,e){if(!ow(t))throw new q(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const i=e[s].typeString,r="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(i&&typeof a!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${s}' field to equal '${r.value}'`;break}}if(n)throw new q(k.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=-62135596800,Bv=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Bv);return new Re(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zv)throw new q(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bv}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ro(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:$e("string",Re._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{static fromTimestamp(e){return new W(e)}static min(){return new W(new Re(0,0))}static max(){return new W(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function u4(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=W.fromTimestamp(s===1e9?new Re(n+1,0):new Re(n,s));return new ci(i,Y.empty(),e)}function h4(t){return new ci(t.readTime,t.key,Zl)}class ci{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ci(W.min(),Y.empty(),Zl)}static max(){return new ci(W.max(),Y.empty(),Zl)}}function d4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==f4)throw t;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,s)=>{n(e)})}static reject(e){return new L((n,s)=>{s(e)})}static waitFor(e){return new L((n,s)=>{let i=0,r=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++r,a&&r===i&&n()},u=>s(u))}),a=!0,r===i&&n()})}static or(e){let n=L.resolve(!1);for(const s of e)n=n.next(i=>i?L.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new L((s,i)=>{const r=e.length,a=new Array(r);let o=0;for(let u=0;u<r;u++){const h=u;n(e[h]).next(f=>{a[h]=f,++o,o===r&&s(a)},f=>i(f))}})}static doWhile(e,n){return new L((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function p4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Da(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=-1;function ph(t){return t==null}function Nu(t){return t===0&&1/t==-1/0}function g4(t){return typeof t=="number"&&Number.isInteger(t)&&!Nu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="";function y4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Hv(e)),e=v4(t.get(n),e);return Hv(e)}function v4(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case cw:n+="";break;default:n+=r}}return n}function Hv(t){return t+cw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _i(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||lt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lt{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??lt.RED,this.left=i??lt.EMPTY,this.right=r??lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new lt(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return lt.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}}lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fv(this.data.getIterator())}getIteratorFrom(e){return new Fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class Fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new Ze(ut.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new hw("Invalid base64 string: "+r):r}}(e);return new ft(n)}static fromUint8Array(e){const n=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const _4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(t){if(me(!!t,39018),typeof t=="string"){let e=0;const n=_4.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hi(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="server_timestamp",fw="__type__",mw="__previous_value__",pw="__local_write_time__";function Fp(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fw])==null?void 0:s.stringValue)===dw}function gh(t){const e=t.mapValue.fields[mw];return Fp(e)?gh(e):e}function eo(t){const e=ui(t.mapValue.fields[pw].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,s,i,r,a,o,u,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f,this.apiKey=m}}const Ru="(default)";class to{constructor(e,n){this.projectId=e,this.database=n||Ru}static empty(){return new to("","")}get isDefaultDatabase(){return this.database===Ru}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}function x4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new q(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="__type__",E4="__max__",dc={mapValue:{}},yw="__vector__",Cu="value";function di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fp(t)?4:w4(t)?9007199254740991:T4(t)?10:11:K(28295,{value:t})}function Vn(t,e){if(t===e)return!0;const n=di(t);if(n!==di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eo(t).isEqual(eo(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=ui(i.timestampValue),o=ui(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return hi(i.bytesValue).isEqual(hi(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return Le(i.geoPointValue.latitude)===Le(r.geoPointValue.latitude)&&Le(i.geoPointValue.longitude)===Le(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Le(i.integerValue)===Le(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Le(i.doubleValue),o=Le(r.doubleValue);return a===o?Nu(a)===Nu(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return ua(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return function(i,r){const a=i.mapValue.fields||{},o=r.mapValue.fields||{};if(qv(a)!==qv(o))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(o[u]===void 0||!Vn(a[u],o[u])))return!1;return!0}(t,e);default:return K(52216,{left:t})}}function no(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function ha(t,e){if(t===e)return 0;const n=di(t),s=di(e);if(n!==s)return le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(r,a){const o=Le(r.integerValue||r.doubleValue),u=Le(a.integerValue||a.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return Gv(t.timestampValue,e.timestampValue);case 4:return Gv(eo(t),eo(e));case 5:return am(t.stringValue,e.stringValue);case 6:return function(r,a){const o=hi(r),u=hi(a);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const o=r.split("/"),u=a.split("/");for(let h=0;h<o.length&&h<u.length;h++){const f=le(o[h],u[h]);if(f!==0)return f}return le(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const o=le(Le(r.latitude),Le(a.latitude));return o!==0?o:le(Le(r.longitude),Le(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Yv(t.arrayValue,e.arrayValue);case 10:return function(r,a){var g,y,C,D;const o=r.fields||{},u=a.fields||{},h=(g=o[Cu])==null?void 0:g.arrayValue,f=(y=u[Cu])==null?void 0:y.arrayValue,m=le(((C=h==null?void 0:h.values)==null?void 0:C.length)||0,((D=f==null?void 0:f.values)==null?void 0:D.length)||0);return m!==0?m:Yv(h,f)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===dc.mapValue&&a===dc.mapValue)return 0;if(r===dc.mapValue)return 1;if(a===dc.mapValue)return-1;const o=r.fields||{},u=Object.keys(o),h=a.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=am(u[m],f[m]);if(g!==0)return g;const y=ha(o[u[m]],h[f[m]]);if(y!==0)return y}return le(u.length,f.length)}(t.mapValue,e.mapValue);default:throw K(23264,{he:n})}}function Gv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=ui(t),s=ui(e),i=le(n.seconds,s.seconds);return i!==0?i:le(n.nanos,s.nanos)}function Yv(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=ha(n[i],s[i]);if(r)return r}return le(n.length,s.length)}function da(t){return lm(t)}function lm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=ui(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=lm(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const a of s)r?r=!1:i+=",",i+=`${a}:${lm(n.fields[a])}`;return i+"}"}(t.mapValue):K(61005,{value:t})}function Pc(t){switch(di(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(t);return e?16+Pc(e):16;case 5:return 2*t.stringValue.length;case 6:return hi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+Pc(r),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return _i(s.fields,(r,a)=>{i+=r.length+Pc(a)}),i}(t.mapValue);default:throw K(13486,{value:t})}}function Qv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function om(t){return!!t&&"integerValue"in t}function Gp(t){return!!t&&"arrayValue"in t}function Kv(t){return!!t&&"nullValue"in t}function $v(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uc(t){return!!t&&"mapValue"in t}function T4(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[gw])==null?void 0:s.stringValue)===yw}function jl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _i(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=jl(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(t.arrayValue.values[n]);return e}return{...t}}function w4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===E4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=ut.emptyPath(),s={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,s,i),s={},i=[],n=o.popLast()}a?s[o.lastSegment()]=jl(a):i.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Uc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){_i(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new Dt(jl(this.value))}}function vw(t){const e=[];return _i(t.fields,(n,s)=>{const i=new ut([n]);if(Uc(s)){const r=vw(s.mapValue).fields;if(r.length===0)e.push(i);else for(const a of r)e.push(i.child(a))}else e.push(i)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,s,i,r,a,o){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(e){return new yt(e,0,W.min(),W.min(),W.min(),Dt.empty(),0)}static newFoundDocument(e,n,s,i){return new yt(e,1,n,W.min(),s,i,0)}static newNoDocument(e,n){return new yt(e,2,n,W.min(),W.min(),Dt.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,W.min(),W.min(),Dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.position=e,this.inclusive=n}}function Xv(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],a=t.position[i];if(r.field.isKeyField()?s=Y.comparator(Y.fromName(a.referenceValue),n.key):s=ha(a,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n="asc"){this.field=e,this.dir=n}}function S4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{}class Qe extends _w{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new N4(e,n,s):n==="array-contains"?new I4(e,s):n==="in"?new D4(e,s):n==="not-in"?new j4(e,s):n==="array-contains-any"?new O4(e,s):new Qe(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new R4(e,s):new C4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ha(n,this.value)):n!==null&&di(this.value)===di(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends _w{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yn(e,n)}matches(e){return bw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bw(t){return t.op==="and"}function xw(t){return A4(t)&&bw(t)}function A4(t){for(const e of t.filters)if(e instanceof yn)return!1;return!0}function cm(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+da(t.value);if(xw(t))return t.filters.map(e=>cm(e)).join(",");{const e=t.filters.map(n=>cm(n)).join(",");return`${t.op}(${e})`}}function Ew(t,e){return t instanceof Qe?function(s,i){return i instanceof Qe&&s.op===i.op&&s.field.isEqual(i.field)&&Vn(s.value,i.value)}(t,e):t instanceof yn?function(s,i){return i instanceof yn&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,a,o)=>r&&Ew(a,i.filters[o]),!0):!1}(t,e):void K(19439)}function Tw(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${da(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(Tw).join(" ,")+"}"}(t):"Filter"}class N4 extends Qe{constructor(e,n,s){super(e,n,s),this.key=Y.fromName(s.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class R4 extends Qe{constructor(e,n){super(e,"in",n),this.keys=ww("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class C4 extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=ww("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ww(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>Y.fromName(s.referenceValue))}class I4 extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gp(n)&&no(n.arrayValue,this.value)}}class D4 extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&no(this.value.arrayValue,n)}}class j4 extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(no(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!no(this.value.arrayValue,n)}}class O4 extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>no(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n=null,s=[],i=[],r=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=a,this.endAt=o,this.Te=null}}function Jv(t,e=null,n=[],s=[],i=null,r=null,a=null){return new M4(t,e,n,s,i,r,a)}function Yp(t){const e=J(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>cm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>da(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>da(s)).join(",")),e.Te=n}return e.Te}function Qp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ew(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wv(t.startAt,e.startAt)&&Wv(t.endAt,e.endAt)}function um(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n=null,s=[],i=[],r=null,a="F",o=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function V4(t,e,n,s,i,r,a,o){return new ja(t,e,n,s,i,r,a,o)}function yh(t){return new ja(t)}function Zv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function k4(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Sw(t){return t.collectionGroup!==null}function Ol(t){const e=J(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Ze(ut.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new so(r,s))}),n.has(ut.keyField().canonicalString())||e.Ie.push(new so(ut.keyField(),s))}return e.Ie}function Dn(t){const e=J(t);return e.Ee||(e.Ee=P4(e,Ol(t))),e.Ee}function P4(t,e){if(t.limitType==="F")return Jv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new so(i.field,r)});const n=t.endAt?new Iu(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Iu(t.startAt.position,t.startAt.inclusive):null;return Jv(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function hm(t,e){const n=t.filters.concat([e]);return new ja(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function U4(t,e){const n=t.explicitOrderBy.concat([e]);return new ja(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Du(t,e,n){return new ja(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vh(t,e){return Qp(Dn(t),Dn(e))&&t.limitType===e.limitType}function Aw(t){return`${Yp(Dn(t))}|lt:${t.limitType}`}function br(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>Tw(i)).join(", ")}]`),ph(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>da(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>da(i)).join(",")),`Target(${s})`}(Dn(t))}; limitType=${t.limitType})`}function _h(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):Y.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of Ol(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(a,o,u){const h=Xv(a,o,u);return a.inclusive?h<=0:h<0}(s.startAt,Ol(s),i)||s.endAt&&!function(a,o,u){const h=Xv(a,o,u);return a.inclusive?h>=0:h>0}(s.endAt,Ol(s),i))}(t,e)}function L4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Nw(t){return(e,n)=>{let s=!1;for(const i of Ol(t)){const r=z4(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function z4(t,e,n){const s=t.field.isKeyField()?Y.comparator(e.key,n.key):function(r,a,o){const u=a.data.field(r),h=o.data.field(r);return u!==null&&h!==null?ha(u,h):K(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return K(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return uw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new Oe(Y.comparator);function ps(){return B4}const Rw=new Oe(Y.comparator);function fl(...t){let e=Rw;for(const n of t)e=e.insert(n.key,n);return e}function Cw(t){let e=Rw;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Vi(){return Ml()}function Iw(){return Ml()}function Ml(){return new or(t=>t.toString(),(t,e)=>t.isEqual(e))}const H4=new Oe(Y.comparator),q4=new Ze(Y.comparator);function oe(...t){let e=q4;for(const n of t)e=e.add(n);return e}const F4=new Ze(le);function G4(){return F4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nu(e)?"-0":e}}function Dw(t){return{integerValue:""+t}}function Y4(t,e){return g4(e)?Dw(e):Kp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function Q4(t,e,n){return t instanceof io?function(i,r){const a={fields:{[fw]:{stringValue:dw},[pw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Fp(r)&&(r=gh(r)),r&&(a.fields[mw]=r),{mapValue:a}}(n,e):t instanceof ro?Ow(t,e):t instanceof ao?Mw(t,e):function(i,r){const a=jw(i,r),o=e_(a)+e_(i.Ae);return om(a)&&om(i.Ae)?Dw(o):Kp(i.serializer,o)}(t,e)}function K4(t,e,n){return t instanceof ro?Ow(t,e):t instanceof ao?Mw(t,e):n}function jw(t,e){return t instanceof ju?function(s){return om(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class io extends bh{}class ro extends bh{constructor(e){super(),this.elements=e}}function Ow(t,e){const n=Vw(e);for(const s of t.elements)n.some(i=>Vn(i,s))||n.push(s);return{arrayValue:{values:n}}}class ao extends bh{constructor(e){super(),this.elements=e}}function Mw(t,e){let n=Vw(e);for(const s of t.elements)n=n.filter(i=>!Vn(i,s));return{arrayValue:{values:n}}}class ju extends bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function e_(t){return Le(t.integerValue||t.doubleValue)}function Vw(t){return Gp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.field=e,this.transform=n}}function X4(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof ro&&i instanceof ro||s instanceof ao&&i instanceof ao?ua(s.elements,i.elements,Vn):s instanceof ju&&i instanceof ju?Vn(s.Ae,i.Ae):s instanceof io&&i instanceof io}(t.transform,e.transform)}class W4{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xh{}function kw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uw(t.key,mn.none()):new Co(t.key,t.data,mn.none());{const n=t.data,s=Dt.empty();let i=new Ze(ut.comparator);for(let r of e.fields)if(!i.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?s.delete(r):s.set(r,a),i=i.add(r)}return new bi(t.key,s,new Bt(i.toArray()),mn.none())}}function J4(t,e,n){t instanceof Co?function(i,r,a){const o=i.value.clone(),u=n_(i.fieldTransforms,r,a.transformResults);o.setAll(u),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof bi?function(i,r,a){if(!Lc(i.precondition,r))return void r.convertToUnknownDocument(a.version);const o=n_(i.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(Pw(i)),u.setAll(o),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Vl(t,e,n,s){return t instanceof Co?function(r,a,o,u){if(!Lc(r.precondition,a))return o;const h=r.value.clone(),f=s_(r.fieldTransforms,u,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,s):t instanceof bi?function(r,a,o,u){if(!Lc(r.precondition,a))return o;const h=s_(r.fieldTransforms,u,a),f=a.data;return f.setAll(Pw(r)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(m=>m.field))}(t,e,n,s):function(r,a,o){return Lc(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function Z4(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=jw(s.transform,i||null);r!=null&&(n===null&&(n=Dt.empty()),n.set(s.field,r))}return n||null}function t_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&ua(s,i,(r,a)=>X4(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Co extends xh{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bi extends xh{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Pw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function n_(t,e,n){const s=new Map;me(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const r=t[i],a=r.transform,o=e.data.field(r.field);s.set(r.field,K4(a,o,n[i]))}return s}function s_(t,e,n){const s=new Map;for(const i of t){const r=i.transform,a=n.data.field(i.field);s.set(i.field,Q4(r,a,e))}return s}class Uw extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eO extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&J4(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Vl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Vl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Iw();return this.mutations.forEach(i=>{const r=e.get(i.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=n.has(i.key)?null:o;const u=kw(a,o);u!==null&&s.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(W.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(n,s)=>t_(n,s))&&ua(this.baseMutations,e.baseMutations,(n,s)=>t_(n,s))}}class $p{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){me(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=function(){return H4}();const r=e.mutations;for(let a=0;a<r.length;a++)i=i.insert(r[a].key,s[a].version);return new $p(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,he;function iO(t){switch(t){case k.OK:return K(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return K(15467,{code:t})}}function Lw(t){if(t===void 0)return ms("GRPC error has no .code"),k.UNKNOWN;switch(t){case qe.OK:return k.OK;case qe.CANCELLED:return k.CANCELLED;case qe.UNKNOWN:return k.UNKNOWN;case qe.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case qe.INTERNAL:return k.INTERNAL;case qe.UNAVAILABLE:return k.UNAVAILABLE;case qe.UNAUTHENTICATED:return k.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case qe.NOT_FOUND:return k.NOT_FOUND;case qe.ALREADY_EXISTS:return k.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return k.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case qe.ABORTED:return k.ABORTED;case qe.OUT_OF_RANGE:return k.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return k.UNIMPLEMENTED;case qe.DATA_LOSS:return k.DATA_LOSS;default:return K(39323,{code:t})}}(he=qe||(qe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new ni([4294967295,4294967295],0);function i_(t){const e=rO().encode(t),n=new ZT;return n.update(e),new Uint8Array(n.digest())}function r_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new ni([n,s],0),new ni([i,r],0)]}class Xp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ml(`Invalid padding: ${n}`);if(s<0)throw new ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ni.fromNumber(this.ge)}ye(e,n,s){let i=e.add(n.multiply(ni.fromNumber(s)));return i.compare(aO)===1&&(i=new ni([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=i_(e),[s,i]=r_(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(s,i,r);if(!this.we(a))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new Xp(r,i,n);return s.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=i_(e),[s,i]=r_(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(s,i,r);this.be(a)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,Io.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Eh(W.min(),i,new Oe(le),ps(),oe())}}class Io{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Io(s,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,s,i){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=i}}class zw{constructor(e,n){this.targetId=e,this.Ce=n}}class Bw{constructor(e,n,s=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class a_{constructor(){this.ve=0,this.Fe=l_(),this.Me=ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=oe(),n=oe(),s=oe();return this.Fe.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:K(38017,{changeType:r})}}),new Io(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=l_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class lO{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.He=fc(),this.Je=fc(),this.Ze=new Oe(le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,s=e.Ce.count,i=this.ot(n);if(i){const r=i.target;if(um(r))if(s===0){const a=new Y(r.path);this.et(n,a,yt.newNoDocument(a,W.min()))}else me(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const o=this.ut(e),u=o?this.ct(o,e,a):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let a,o;try{a=hi(s).toUint8Array()}catch(u){if(u instanceof hw)return ca("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new Xp(a,i,r)}catch(u){return ca(u instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(o)||(this.et(n,r,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((r,a)=>{const o=this.ot(a);if(o){if(r.current&&um(o.target)){const u=new Y(o.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,yt.newNoDocument(u,e))}r.Be&&(n.set(a,r.ke()),r.Ke())}});let s=oe();this.Je.forEach((r,a)=>{let o=!0;a.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(s=s.add(r))}),this.je.forEach((r,a)=>a.setReadTime(e));const i=new Eh(e,n,this.Ze,this.je,s);return this.je=ps(),this.He=fc(),this.Je=fc(),this.Ze=new Oe(le),i}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new a_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ze(le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ze(le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fc(){return new Oe(Y.comparator)}function l_(){return new Oe(Y.comparator)}const oO={asc:"ASCENDING",desc:"DESCENDING"},cO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uO={and:"AND",or:"OR"};class hO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dm(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function Ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dO(t,e){return Ou(t,e.toTimestamp())}function jn(t){return me(!!t,49232),W.fromTimestamp(function(n){const s=ui(n);return new Re(s.seconds,s.nanos)}(t))}function Wp(t,e){return fm(t,e).canonicalString()}function fm(t,e){const n=function(i){return new Te(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qw(t){const e=Te.fromString(t);return me(Kw(e),10190,{key:e.toString()}),e}function mm(t,e){return Wp(t.databaseId,e.path)}function Qd(t,e){const n=qw(e);if(n.get(1)!==t.databaseId.projectId)throw new q(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(Gw(n))}function Fw(t,e){return Wp(t.databaseId,e)}function fO(t){const e=qw(t);return e.length===4?Te.emptyPath():Gw(e)}function pm(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gw(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function o_(t,e,n){return{name:mm(t,e),fields:n.value.mapValue.fields}}function mO(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:K(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(h,f){return h.useProto3Json?(me(f===void 0||typeof f=="string",58123),ft.fromBase64String(f||"")):(me(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ft.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(h){const f=h.code===void 0?k.UNKNOWN:Lw(h.code);return new q(f,h.message||"")}(a);n=new Bw(s,i,r,o||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Qd(t,s.document.name),r=jn(s.document.updateTime),a=s.document.createTime?jn(s.document.createTime):W.min(),o=new Dt({mapValue:{fields:s.document.fields}}),u=yt.newFoundDocument(i,r,a,o),h=s.targetIds||[],f=s.removedTargetIds||[];n=new zc(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Qd(t,s.document),r=s.readTime?jn(s.readTime):W.min(),a=yt.newNoDocument(i,r),o=s.removedTargetIds||[];n=new zc([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Qd(t,s.document),r=s.removedTargetIds||[];n=new zc([],r,i,null)}else{if(!("filter"in e))return K(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,a=new sO(i,r),o=s.targetId;n=new zw(o,a)}}return n}function pO(t,e){let n;if(e instanceof Co)n={update:o_(t,e.key,e.value)};else if(e instanceof Uw)n={delete:mm(t,e.key)};else if(e instanceof bi)n={update:o_(t,e.key,e.data),updateMask:wO(e.fieldMask)};else{if(!(e instanceof eO))return K(16599,{dt:e.type});n={verify:mm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,a){const o=a.transform;if(o instanceof io)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ro)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ao)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ju)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw K(20930,{transform:a.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:dO(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:K(27497)}(t,e.precondition)),n}function gO(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(i,r){let a=i.updateTime?jn(i.updateTime):jn(r);return a.isEqual(W.min())&&(a=jn(r)),new W4(a,i.transformResults||[])}(n,e))):[]}function yO(t,e){return{documents:[Fw(t,e.path)]}}function vO(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Fw(t,i);const r=function(h){if(h.length!==0)return Qw(yn.create(h,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:xr(g.field),direction:xO(g.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=dm(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:i}}function _O(t){let e=fO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){me(s===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let r=[];n.where&&(r=function(m){const g=Yw(m);return g instanceof yn&&xw(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(g=>function(C){return new so(Er(C.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let o=null;n.limit&&(o=function(m){let g;return g=typeof m=="object"?m.value:m,ph(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,y=m.values||[];return new Iu(y,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,y=m.values||[];return new Iu(y,g)}(n.endAt)),V4(e,i,a,r,o,"F",u,h)}function bO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Er(n.unaryFilter.field);return Qe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Er(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Er(n.unaryFilter.field);return Qe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Er(n.unaryFilter.field);return Qe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(Er(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(s=>Yw(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}}(n.compositeFilter.op))}(t):K(30097,{filter:t})}function xO(t){return oO[t]}function EO(t){return cO[t]}function TO(t){return uO[t]}function xr(t){return{fieldPath:t.canonicalString()}}function Er(t){return ut.fromServerFormat(t.fieldPath)}function Qw(t){return t instanceof Qe?function(n){if(n.op==="=="){if($v(n.value))return{unaryFilter:{field:xr(n.field),op:"IS_NAN"}};if(Kv(n.value))return{unaryFilter:{field:xr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($v(n.value))return{unaryFilter:{field:xr(n.field),op:"IS_NOT_NAN"}};if(Kv(n.value))return{unaryFilter:{field:xr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xr(n.field),op:EO(n.op),value:n.value}}}(t):t instanceof yn?function(n){const s=n.getFilters().map(i=>Qw(i));return s.length===1?s[0]:{compositeFilter:{op:TO(n.op),filters:s}}}(t):K(54877,{filter:t})}function wO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function $w(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,s,i,r=W.min(),a=W.min(),o=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.yt=e}}function AO(t){const e=_O({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Du(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.Sn=new RO}addToCollectionParentIndex(e,n){return this.Sn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(ci.min())}updateCollectionGroup(e,n,s){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class RO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Ze(Te.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Ze(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xw=41943040;class It{static withCacheSize(e){return new It(e,It.DEFAULT_COLLECTION_PERCENTILE,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */It.DEFAULT_COLLECTION_PERCENTILE=10,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,It.DEFAULT=new It(Xw,It.DEFAULT_COLLECTION_PERCENTILE,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),It.DISABLED=new It(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new fa(0)}static ar(){return new fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LruGarbageCollector",CO=1048576;function h_([t,e],[n,s]){const i=le(t,n);return i===0?le(e,s):i}class IO{constructor(e){this.Pr=e,this.buffer=new Ze(h_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();h_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){F(u_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Da(n)?F(u_,"Ignoring IndexedDB error during garbage collection: ",n):await Ia(n)}await this.Ar(3e5)})}}class jO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return L.resolve(mh.ce);const s=new IO(n);return this.Vr.forEachTarget(e,i=>s.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>s.Er(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(c_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,i,r,a,o,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(s=m,o=Date.now(),this.removeTargets(e,s,n))).next(m=>(r=m,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(m=>(h=Date.now(),_r()<=ae.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${r} targets in `+(u-o)+`ms
	Removed ${m} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:m})))}}function OO(t,e){return new jO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.changes=new or(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?L.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&Vl(s.mutation,i,Bt.empty(),Re.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,oe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=oe()){const i=Vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let a=fl();return r.forEach((o,u)=>{a=a.insert(o,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const s=Vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,oe()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,s,i){let r=ps();const a=Ml(),o=function(){return Ml()}();return n.forEach((u,h)=>{const f=s.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof bi)?r=r.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Vl(f.mutation,h,f.mutation.getFieldMask(),Re.now())):a.set(h.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((h,f)=>a.set(h,f)),n.forEach((h,f)=>o.set(h,new VO(f,a.get(h)??null))),o))}recalculateAndSaveOverlays(e,n){const s=Ml();let i=new Oe((a,o)=>a-o),r=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=s.get(u)||Bt.empty();f=o.applyToLocalView(h,f),s.set(u,f);const m=(i.get(o.batchId)||oe()).add(u);i=i.insert(o.batchId,m)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),h=u.key,f=u.value,m=Iw();f.forEach(g=>{if(!r.has(g)){const y=kw(n.get(g),s.get(g));y!==null&&m.set(g,y),r=r.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,m))}return L.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return k4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const a=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):L.resolve(Vi());let o=Zl,u=r;return a.next(h=>L.forEach(h,(f,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),r.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,u,h,oe())).next(f=>({batchId:o,changes:Cw(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(s=>{let i=fl();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let a=fl();return this.indexManager.getCollectionParents(e,r).next(o=>L.forEach(o,u=>{const h=function(m,g){return new ja(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,s,i).next(f=>{f.forEach((m,g)=>{a=a.insert(m,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(a=>{r.forEach((u,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,yt.newInvalidDocument(f)))});let o=fl();return a.forEach((u,h)=>{const f=r.get(u);f!==void 0&&Vl(f.mutation,h,Bt.empty(),Re.now()),_h(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return L.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jn(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:AO(i.bundledQuery),readTime:jn(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.overlays=new Oe(Y.comparator),this.Lr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Vi();return L.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.bt(e,n,r)}),L.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.Lr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.Lr.delete(s)),L.resolve()}getOverlaysForCollection(e,n,s){const i=Vi(),r=n.length+1,a=new Y(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const u=o.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>s&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new Oe((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let f=r.get(h.largestBatchId);f===null&&(f=Vi(),r=r.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const o=Vi(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>o.set(h,f)),!(o.size()>=i)););return L.resolve(o)}bt(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(s.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new nO(n,s));let r=this.Lr.get(n);r===void 0&&(r=oe(),this.Lr.set(n,r)),this.Lr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.kr=new Ze(nt.Kr),this.qr=new Ze(nt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new nt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new nt(e,n))}Qr(e,n){e.forEach(s=>this.removeReference(s,n))}Gr(e){const n=new Y(new Te([])),s=new nt(n,e),i=new nt(n,e+1),r=[];return this.qr.forEachInRange([s,i],a=>{this.Wr(a),r.push(a.key)}),r}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Y(new Te([])),s=new nt(n,e),i=new nt(n,e+1);let r=oe();return this.qr.forEachInRange([s,i],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new nt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class nt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Y.comparator(e.key,n.key)||le(e.Hr,n.Hr)}static Ur(e,n){return le(e.Hr,n.Hr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ze(nt.Kr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new tO(r,n,s,i);this.mutationQueue.push(a);for(const o of i)this.Jr=this.Jr.add(new nt(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.Xr(s),r=i<0?0:i;return L.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?qp:this.Yn-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([s,i],a=>{const o=this.Zr(a.Hr);r.push(o)}),L.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ze(le);return n.forEach(i=>{const r=new nt(i,0),a=new nt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([r,a],o=>{s=s.add(o.Hr)})}),L.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;Y.isDocumentKey(r)||(r=r.child(""));const a=new nt(new Y(r),0);let o=new Ze(le);return this.Jr.forEachWhile(u=>{const h=u.key.path;return!!s.isPrefixOf(h)&&(h.length===i&&(o=o.add(u.Hr)),!0)},a),L.resolve(this.Yr(o))}Yr(e){const n=[];return e.forEach(s=>{const i=this.Zr(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return L.forEach(n.mutations,i=>{const r=new nt(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=s})}nr(e){}containsKey(e,n){const s=new nt(n,0),i=this.Jr.firstAfterOrEqual(s);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.ti=e,this.docs=function(){return new Oe(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return L.resolve(s?s.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let s=ps();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():yt.newInvalidDocument(i))}),L.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=ps();const a=n.path,o=new Y(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||d4(h4(f),s)<=0||(i.has(f.key)||_h(n,f))&&(r=r.insert(f.key,f.mutableCopy()))}return L.resolve(r)}getAllFromCollectionGroup(e,n,s,i){K(9500)}ni(e,n){return L.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new HO(this)}getSize(e){return L.resolve(this.size)}}class HO extends MO{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(s)}),L.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.persistence=e,this.ri=new or(n=>Yp(n),Qp),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.ii=0,this.si=new Jp,this.targetCount=0,this.oi=fa._r()}forEachTarget(e,n){return this.ri.forEach((s,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),L.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.lr(n),L.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.ri.forEach((a,o)=>{o.sequenceNumber<=n&&s.get(o.targetId)===null&&(this.ri.delete(a),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),L.waitFor(r).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return L.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),L.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(a=>{r.push(i.markPotentiallyOrphaned(e,a))}),L.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return L.resolve(s)}containsKey(e,n){return L.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n){this._i={},this.overlays={},this.ai=new mh(0),this.ui=!1,this.ui=!0,this.ci=new LO,this.referenceDelegate=e(this),this.li=new qO(this),this.indexManager=new NO,this.remoteDocumentCache=function(i){return new BO(i)}(s=>this.referenceDelegate.hi(s)),this.serializer=new SO(n),this.Pi=new PO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new zO(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){F("MemoryPersistence","Starting transaction:",e);const i=new FO(this.ai.next());return this.referenceDelegate.Ti(),s(i).next(r=>this.referenceDelegate.Ii(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ei(e,n){return L.or(Object.values(this._i).map(s=>()=>s.containsKey(e,n)))}}class FO extends m4{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.Ri=new Jp,this.Ai=null}static Vi(e){return new Zp(e)}get di(){if(this.Ai)return this.Ai;throw K(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),L.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.di.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,s=>{const i=Y.fromPath(s);return this.mi(e,i).next(r=>{r||n.removeEntry(i,W.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Mu{constructor(e,n){this.persistence=e,this.fi=new or(s=>y4(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=OO(this,n)}static Vi(e,n){return new Mu(e,n)}Ti(){}Ii(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}pr(e){let n=0;return this.mr(e,s=>{n++}).next(()=>n)}mr(e,n){return L.forEach(this.fi,(s,i)=>this.wr(e,s,i).next(r=>r?L.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ni(e,a=>this.wr(e,a,n).next(o=>{o||(s++,r.removeEntry(a,W.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),L.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),L.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pc(e.data.value)),n}wr(e,n,s){return L.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return L.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=i}static Es(e,n){let s=oe(),i=oe();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new eg(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return hI()?8:p4(vt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.gs(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ps(e,n,i,s).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new GO;return this.ys(e,n,a).next(o=>{if(r.result=o,this.As)return this.ws(e,n,a,o.size)})}).next(()=>r.result)}ws(e,n,s,i){return s.documentReadCount<this.Vs?(_r()<=ae.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",br(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(_r()<=ae.DEBUG&&F("QueryEngine","Query:",br(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ds*i?(_r()<=ae.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",br(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):L.resolve())}gs(e,n){if(Zv(n))return L.resolve(null);let s=Dn(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Du(n,null,"F"),s=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const a=oe(...r);return this.fs.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,s).next(u=>{const h=this.bs(n,o);return this.Ss(n,h,a,u.readTime)?this.gs(e,Du(n,null,"F")):this.Ds(e,h,n,u)}))})))}ps(e,n,s,i){return Zv(n)||i.isEqual(W.min())?L.resolve(null):this.fs.getDocuments(e,s).next(r=>{const a=this.bs(n,r);return this.Ss(n,a,s,i)?L.resolve(null):(_r()<=ae.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),br(n)),this.Ds(e,a,n,u4(i,Zl)).next(o=>o))})}bs(e,n){let s=new Ze(Nw(e));return n.forEach((i,r)=>{_h(e,r)&&(s=s.add(r))}),s}Ss(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}ys(e,n,s){return _r()<=ae.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",br(n)),this.fs.getDocumentsMatchingQuery(e,n,ci.min(),s)}Ds(e,n,s,i){return this.fs.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LocalStore",QO=3e8;class KO{constructor(e,n,s,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Oe(le),this.Fs=new or(r=>Yp(r),Qp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function $O(t,e,n,s){return new KO(t,e,n,s)}async function Jw(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Os(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const a=[],o=[];let u=oe();for(const h of i){a.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of r){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(s,u).next(h=>({Ns:h,removedBatchIds:a,addedBatchIds:o}))})})}function XO(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,u,h,f){const m=h.batch,g=m.keys();let y=L.resolve();return g.forEach(C=>{y=y.next(()=>f.getEntry(u,C)).next(D=>{const O=h.docVersions.get(C);me(O!==null,48541),D.version.compareTo(O)<0&&(m.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),f.addEntry(D)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(u,m))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let u=oe();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function Zw(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function WO(t,e){const n=J(t),s=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];e.targetChanges.forEach((f,m)=>{const g=i.get(m);if(!g)return;o.push(n.li.removeMatchingKeys(r,f.removedDocuments,m).next(()=>n.li.addMatchingKeys(r,f.addedDocuments,m)));let y=g.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(ft.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,s)),i=i.insert(m,y),function(D,O,_){return D.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=QO?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,y,f)&&o.push(n.li.updateTargetData(r,y))});let u=ps(),h=oe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,f))}),o.push(JO(r,a,e.documentUpdates).next(f=>{u=f.Bs,h=f.Ls})),!s.isEqual(W.min())){const f=n.li.getLastRemoteSnapshotVersion(r).next(m=>n.li.setTargetsMetadata(r,r.currentSequenceNumber,s));o.push(f)}return L.waitFor(o).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.vs=i,r))}function JO(t,e,n){let s=oe(),i=oe();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let a=ps();return n.forEach((o,u)=>{const h=r.get(o);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(o)),u.isNoDocument()&&u.version.isEqual(W.min())?(e.removeEntry(o,u.readTime),a=a.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(o,u)):F(tg,"Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),{Bs:a,Ls:i}})}function ZO(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=qp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function e3(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.li.getTargetData(s,e).next(r=>r?(i=r,L.resolve(i)):n.li.allocateTargetId(s).next(a=>(i=new qs(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.vs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s})}async function gm(t,e,n){const s=J(t),i=s.vs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,a=>s.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Da(a))throw a;F(tg,`Failed to update sequence numbers for target ${e}: ${a}`)}s.vs=s.vs.remove(e),s.Fs.delete(i.target)}function d_(t,e,n){const s=J(t);let i=W.min(),r=oe();return s.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,f){const m=J(u),g=m.Fs.get(f);return g!==void 0?L.resolve(m.vs.get(g)):m.li.getTargetData(h,f)}(s,a,Dn(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(a,o.targetId).next(u=>{r=u})}).next(()=>s.Cs.getDocumentsMatchingQuery(a,e,n?i:W.min(),n?r:oe())).next(o=>(t3(s,L4(e),o),{documents:o,ks:r})))}function t3(t,e,n){let s=t.Ms.get(e)||W.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Ms.set(e,s)}class f_{constructor(){this.activeTargetIds=G4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n3{constructor(){this.vo=new f_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new f_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="ConnectivityMonitor";class p_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){F(m_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){F(m_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function ym(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="RestConnection",i3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class r3{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${i}`,this.$o=this.databaseId.database===Ru?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Wo(e,n,s,i,r){const a=ym(),o=this.Qo(e,n.toUriEncodedString());F(Kd,`Sending RPC '${e}' ${a}:`,o,s);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,r);const{host:h}=new URL(o),f=Aa(h);return this.zo(e,o,u,s,f).then(m=>(F(Kd,`Received RPC '${e}' ${a}: `,m),m),m=>{throw ca(Kd,`RPC '${e}' ${a} failed with error: `,m,"url: ",o,"request:",s),m})}jo(e,n,s,i,r,a){return this.Wo(e,n,s,i,r)}Go(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ca}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}Qo(e,n){const s=i3[e];let i=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection",il=(t,e,n)=>{t.listen(e,s=>{try{n(s)}catch(i){setTimeout(()=>{throw i},0)}})};class Yr extends r3{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Yr.c_){const e=sw();il(e,nw.STAT_EVENT,n=>{n.stat===rm.PROXY?F(pt,"STAT_EVENT: detected buffering proxy"):n.stat===rm.NOPROXY&&F(pt,"STAT_EVENT: detected no buffering proxy")}),Yr.c_=!0}}zo(e,n,s,i,r){const a=ym();return new Promise((o,u)=>{const h=new ew;h.setWithCredentials(!0),h.listenOnce(tw.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case kc.NO_ERROR:const m=h.getResponseJson();F(pt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),o(m);break;case kc.TIMEOUT:F(pt,`RPC '${e}' ${a} timed out`),u(new q(k.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const g=h.getStatus();if(F(pt,`RPC '${e}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y==null?void 0:y.error;if(C&&C.status&&C.message){const D=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(b)>=0?b:k.UNKNOWN}(C.status);u(new q(D,C.message))}else u(new q(k.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new q(k.UNAVAILABLE,"Connection failed."));break;default:K(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{F(pt,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);F(pt,`RPC '${e}' ${a} sending request:`,i),h.send(n,"POST",f,s,15)})}T_(e,n,s){const i=ym(),r=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,s),o.encodeInitMessageHeaders=!0;const h=r.join("");F(pt,`Creating RPC '${e}' stream ${i}: ${h}`,o);const f=a.createWebChannel(h,o);this.I_(f);let m=!1,g=!1;const y=new a3({Ho:C=>{g?F(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(m||(F(pt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),F(pt,`RPC '${e}' stream ${i} sending:`,C),f.send(C))},Jo:()=>f.close()});return il(f,dl.EventType.OPEN,()=>{g||(F(pt,`RPC '${e}' stream ${i} transport opened.`),y.i_())}),il(f,dl.EventType.CLOSE,()=>{g||(g=!0,F(pt,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(f))}),il(f,dl.EventType.ERROR,C=>{g||(g=!0,ca(pt,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),y.o_(new q(k.UNAVAILABLE,"The operation could not be completed")))}),il(f,dl.EventType.MESSAGE,C=>{var D;if(!g){const O=C.data[0];me(!!O,16349);const _=O,b=(_==null?void 0:_.error)||((D=_[0])==null?void 0:D.error);if(b){F(pt,`RPC '${e}' stream ${i} received error:`,b);const T=b.status;let j=function(w){const x=qe[w];if(x!==void 0)return Lw(x)}(T),U=b.message;j===void 0&&(j=k.INTERNAL,U="Unknown error status: "+T+" with message "+b.message),g=!0,y.o_(new q(j,U)),f.close()}else F(pt,`RPC '${e}' stream ${i} received:`,O),y.__(O)}}),Yr.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return iw()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){return new Yr(t)}function $d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){return new hO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr.c_=!1;class eS{constructor(e,n,s=1e3,i=1.5,r=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=i,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="PersistentStream";class tS{constructor(e,n,s,i,r,a,o,u){this.Ci=e,this.b_=s,this.S_=i,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(ms(n.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===n&&this.G_(s,i)},s=>{e(()=>{const i=new q(k.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.Yo(()=>{s(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return F(g_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(F(g_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o3 extends tS{constructor(e,n,s,i,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,a),this.serializer=r}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mO(this.serializer,e),s=function(r){if(!("targetChange"in r))return W.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?W.min():a.readTime?jn(a.readTime):W.min()}(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=pm(this.serializer),n.addTarget=function(r,a){let o;const u=a.target;if(o=um(u)?{documents:yO(r,u)}:{query:vO(r,u).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=Hw(r,a.resumeToken);const h=dm(r,a.expectedCount);h!==null&&(o.expectedCount=h)}else if(a.snapshotVersion.compareTo(W.min())>0){o.readTime=Ou(r,a.snapshotVersion.toTimestamp());const h=dm(r,a.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,e);const s=bO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=pm(this.serializer),n.removeTarget=e,this.K_(n)}}class c3 extends tS{constructor(e,n,s,i,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,a),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gO(e.writeResults,e.commitTime),s=jn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=pm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>pO(this.serializer,s))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{}class h3 extends u3{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new q(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Wo(e,fm(n,s),i,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(k.UNKNOWN,r.toString())})}jo(e,n,s,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.jo(e,fm(n,s),i,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(k.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function d3(t,e,n,s){return new h3(t,e,n,s)}class f3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(n),this.aa=!1):F("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="RemoteStore";class m3{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo(a=>{s.enqueueAndForget(async()=>{cr(this)&&(F(Zi,"Restarting streams for network reachability change."),await async function(u){const h=J(u);h.Ea.add(4),await Do(h),h.Va.set("Unknown"),h.Ea.delete(4),await wh(h)}(this))})}),this.Va=new f3(s,i)}}async function wh(t){if(cr(t))for(const e of t.Ra)await e(!0)}async function Do(t){for(const e of t.Ra)await e(!1)}function nS(t,e){const n=J(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rg(n)?ig(n):Oa(n).O_()&&sg(n,e))}function ng(t,e){const n=J(t),s=Oa(n);n.Ia.delete(e),s.O_()&&sS(n,e),n.Ia.size===0&&(s.O_()?s.L_():cr(n)&&n.Va.set("Unknown"))}function sg(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oa(t).Z_(e)}function sS(t,e){t.da.$e(e),Oa(t).X_(e)}function ig(t){t.da=new lO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Oa(t).start(),t.Va.ua()}function rg(t){return cr(t)&&!Oa(t).x_()&&t.Ia.size>0}function cr(t){return J(t).Ea.size===0}function iS(t){t.da=void 0}async function p3(t){t.Va.set("Online")}async function g3(t){t.Ia.forEach((e,n)=>{sg(t,e)})}async function y3(t,e){iS(t),rg(t)?(t.Va.ha(e),ig(t)):t.Va.set("Unknown")}async function v3(t,e,n){if(t.Va.set("Online"),e instanceof Bw&&e.state===2&&e.cause)try{await async function(i,r){const a=r.cause;for(const o of r.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.da.removeTarget(o))}(t,e)}catch(s){F(Zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vu(t,s)}else if(e instanceof zc?t.da.Xe(e):e instanceof zw?t.da.st(e):t.da.tt(e),!n.isEqual(W.min()))try{const s=await Zw(t.localStore);n.compareTo(s)>=0&&await function(r,a){const o=r.da.Tt(a);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=r.Ia.get(h);f&&r.Ia.set(h,f.withResumeToken(u.resumeToken,a))}}),o.targetMismatches.forEach((u,h)=>{const f=r.Ia.get(u);if(!f)return;r.Ia.set(u,f.withResumeToken(ft.EMPTY_BYTE_STRING,f.snapshotVersion)),sS(r,u);const m=new qs(f.target,u,h,f.sequenceNumber);sg(r,m)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){F(Zi,"Failed to raise snapshot:",s),await Vu(t,s)}}async function Vu(t,e,n){if(!Da(e))throw e;t.Ea.add(1),await Do(t),t.Va.set("Offline"),n||(n=()=>Zw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F(Zi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wh(t)})}function rS(t,e){return e().catch(n=>Vu(t,n,e))}async function Sh(t){const e=J(t),n=fi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qp;for(;_3(e);)try{const i=await ZO(e.localStore,s);if(i===null){e.Ta.length===0&&n.L_();break}s=i.batchId,b3(e,i)}catch(i){await Vu(e,i)}aS(e)&&lS(e)}function _3(t){return cr(t)&&t.Ta.length<10}function b3(t,e){t.Ta.push(e);const n=fi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function aS(t){return cr(t)&&!fi(t).x_()&&t.Ta.length>0}function lS(t){fi(t).start()}async function x3(t){fi(t).ra()}async function E3(t){const e=fi(t);for(const n of t.Ta)e.ea(n.mutations)}async function T3(t,e,n){const s=t.Ta.shift(),i=$p.from(s,e,n);await rS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sh(t)}async function w3(t,e){e&&fi(t).Y_&&await async function(s,i){if(function(a){return iO(a)&&a!==k.ABORTED}(i.code)){const r=s.Ta.shift();fi(s).B_(),await rS(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Sh(s)}}(t,e),aS(t)&&lS(t)}async function y_(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),F(Zi,"RemoteStore received new credentials");const s=cr(n);n.Ea.add(3),await Do(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wh(n)}async function S3(t,e){const n=J(t);e?(n.Ea.delete(2),await wh(n)):e||(n.Ea.add(2),await Do(n),n.Va.set("Unknown"))}function Oa(t){return t.ma||(t.ma=function(n,s,i){const r=J(n);return r.sa(),new o3(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Zo:p3.bind(null,t),Yo:g3.bind(null,t),t_:y3.bind(null,t),J_:v3.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),rg(t)?ig(t):t.Va.set("Unknown")):(await t.ma.stop(),iS(t))})),t.ma}function fi(t){return t.fa||(t.fa=function(n,s,i){const r=J(n);return r.sa(),new c3(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:x3.bind(null,t),t_:w3.bind(null,t),ta:E3.bind(null,t),na:T3.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Sh(t)):(await t.fa.stop(),t.Ta.length>0&&(F(Zi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const a=Date.now()+s,o=new ag(e,n,a,i,r);return o.start(s),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(t,e){if(ms("AsyncQueue",`${e}: ${t}`),Da(t))return new q(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{static emptySet(e){return new Qr(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Y.comparator(n.key,s.key):(n,s)=>Y.comparator(n.key,s.key),this.keyedMap=fl(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Qr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.ga=new Oe(Y.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):K(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class ma{constructor(e,n,s,i,r,a,o,u,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,i,r){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new ma(e,n,Qr.emptySet(n),a,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class N3{constructor(){this.queries=__(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=J(n),r=i.queries;i.queries=__(),r.forEach((a,o)=>{for(const u of o.ba)u.onError(s)})})(this,new q(k.ABORTED,"Firestore shutting down"))}}function __(){return new or(t=>Aw(t),vh)}async function og(t,e){const n=J(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.Sa()&&e.Da()&&(s=2):(r=new A3,s=e.Da()?0:1);try{switch(s){case 0:r.wa=await n.onListen(i,!0);break;case 1:r.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=lg(a,`Initialization of query '${br(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,r),r.ba.push(e),e.va(n.onlineState),r.wa&&e.Fa(r.wa)&&ug(n)}async function cg(t,e){const n=J(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const a=r.ba.indexOf(e);a>=0&&(r.ba.splice(a,1),r.ba.length===0?i=e.Da()?0:1:!r.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function R3(t,e){const n=J(t);let s=!1;for(const i of e){const r=i.query,a=n.queries.get(r);if(a){for(const o of a.ba)o.Fa(i)&&(s=!0);a.wa=i}}s&&ug(n)}function C3(t,e,n){const s=J(t),i=s.queries.get(e);if(i)for(const r of i.ba)r.onError(n);s.queries.delete(e)}function ug(t){t.Ca.forEach(e=>{e.next()})}var vm,b_;(b_=vm||(vm={})).Ma="default",b_.Cache="cache";class hg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new ma(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.key=e}}class cS{constructor(e){this.key=e}}class I3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=oe(),this.mutatedKeys=oe(),this.eu=Nw(e),this.tu=new Qr(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new v_,i=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const g=i.get(f),y=_h(this.query,m)?m:null,C=!!g&&this.mutatedKeys.has(g.key),D=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let O=!1;g&&y?g.data.isEqual(y.data)?C!==D&&(s.track({type:3,doc:y}),O=!0):this.su(g,y)||(s.track({type:2,doc:y}),O=!0,(u&&this.eu(y,u)>0||h&&this.eu(y,h)<0)&&(o=!0)):!g&&y?(s.track({type:0,doc:y}),O=!0):g&&!y&&(s.track({type:1,doc:g}),O=!0,(u||h)&&(o=!0)),O&&(y?(a=a.add(y),r=D?r.add(f):r.delete(f)):(a=a.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),r=r.delete(f.key),s.track({type:1,doc:f})}return{tu:a,iu:s,Ss:o,mutatedKeys:r}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,m)=>function(y,C){const D=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Vt:O})}};return D(y)-D(C)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(s),i=i??!1;const o=n&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,h=u!==this.Xa;return this.Xa=u,a.length!==0||h?{snapshot:new ma(this.query,e.tu,r,a,e.mutatedKeys,u===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=oe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new cS(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new oS(s))}),n}cu(e){this.Za=e.ks,this.Ya=oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ma.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const dg="SyncEngine";class D3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class j3{constructor(e){this.key=e,this.hu=!1}}class O3{constructor(e,n,s,i,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new or(o=>Aw(o),vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Oe(Y.comparator),this.Au=new Map,this.Vu=new Jp,this.du={},this.mu=new Map,this.fu=fa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function M3(t,e,n=!0){const s=pS(t);let i;const r=s.Tu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.lu()):i=await uS(s,e,n,!0),i}async function V3(t,e){const n=pS(t);await uS(n,e,!0,!1)}async function uS(t,e,n,s){const i=await e3(t.localStore,Dn(e)),r=i.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let o;return s&&(o=await k3(t,e,r,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&nS(t.remoteStore,i),o}async function k3(t,e,n,s,i){t.pu=(m,g,y)=>async function(D,O,_,b){let T=O.view.ru(_);T.Ss&&(T=await d_(D.localStore,O.query,!1).then(({documents:w})=>O.view.ru(w,T)));const j=b&&b.targetChanges.get(O.targetId),U=b&&b.targetMismatches.get(O.targetId)!=null,z=O.view.applyChanges(T,D.isPrimaryClient,j,U);return E_(D,O.targetId,z.au),z.snapshot}(t,m,g,y);const r=await d_(t.localStore,e,!0),a=new I3(e,r.ks),o=a.ru(r.documents),u=Io.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),h=a.applyChanges(o,t.isPrimaryClient,u);E_(t,n,h.au);const f=new D3(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function P3(t,e,n){const s=J(t),i=s.Tu.get(e),r=s.Iu.get(i.targetId);if(r.length>1)return s.Iu.set(i.targetId,r.filter(a=>!vh(a,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await gm(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&ng(s.remoteStore,i.targetId),_m(s,i.targetId)}).catch(Ia)):(_m(s,i.targetId),await gm(s.localStore,i.targetId,!0))}async function U3(t,e){const n=J(t),s=n.Tu.get(e),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ng(n.remoteStore,s.targetId))}async function L3(t,e,n){const s=Y3(t);try{const i=await function(a,o){const u=J(a),h=Re.now(),f=o.reduce((y,C)=>y.add(C.key),oe());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=ps(),D=oe();return u.xs.getEntries(y,f).next(O=>{C=O,C.forEach((_,b)=>{b.isValidDocument()||(D=D.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(O=>{m=O;const _=[];for(const b of o){const T=Z4(b,m.get(b.key).overlayedDocument);T!=null&&_.push(new bi(b.key,T,vw(T.value.mapValue),mn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,_,o)}).next(O=>{g=O;const _=O.applyToLocalDocumentSet(m,D);return u.documentOverlayCache.saveOverlays(y,O.batchId,_)})}).then(()=>({batchId:g.batchId,changes:Cw(m)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(a,o,u){let h=a.du[a.currentUser.toKey()];h||(h=new Oe(le)),h=h.insert(o,u),a.du[a.currentUser.toKey()]=h}(s,i.batchId,n),await jo(s,i.changes),await Sh(s.remoteStore)}catch(i){const r=lg(i,"Failed to persist write");n.reject(r)}}async function hS(t,e){const n=J(t);try{const s=await WO(n.localStore,e);e.targetChanges.forEach((i,r)=>{const a=n.Au.get(r);a&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?me(a.hu,14607):i.removedDocuments.size>0&&(me(a.hu,42227),a.hu=!1))}),await jo(n,s,e)}catch(s){await Ia(s)}}function x_(t,e,n){const s=J(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach((r,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const u=J(a);u.onlineState=o;let h=!1;u.queries.forEach((f,m)=>{for(const g of m.ba)g.va(o)&&(h=!0)}),h&&ug(u)}(s.eventManager,e),i.length&&s.Pu.J_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function z3(t,e,n){const s=J(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Au.get(e),r=i&&i.key;if(r){let a=new Oe(Y.comparator);a=a.insert(r,yt.newNoDocument(r,W.min()));const o=oe().add(r),u=new Eh(W.min(),new Map,new Oe(le),a,o);await hS(s,u),s.Ru=s.Ru.remove(r),s.Au.delete(e),fg(s)}else await gm(s.localStore,e,!1).then(()=>_m(s,e,n)).catch(Ia)}async function B3(t,e){const n=J(t),s=e.batch.batchId;try{const i=await XO(n.localStore,e);fS(n,s,null),dS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await jo(n,i)}catch(i){await Ia(i)}}async function H3(t,e,n){const s=J(t);try{const i=await function(a,o){const u=J(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,o).next(m=>(me(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(s.localStore,e);fS(s,e,n),dS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await jo(s,i)}catch(i){await Ia(i)}}function dS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function fS(t,e,n){const s=J(t);let i=s.du[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.du[s.currentUser.toKey()]=i}}function _m(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(s=>{t.Vu.containsKey(s)||mS(t,s)})}function mS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(ng(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),fg(t))}function E_(t,e,n){for(const s of n)s instanceof oS?(t.Vu.addReference(s.key,e),q3(t,s)):s instanceof cS?(F(dg,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||mS(t,s.key)):K(19791,{wu:s})}function q3(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(F(dg,"New document in limbo: "+n),t.Eu.add(s),fg(t))}function fg(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Y(Te.fromString(e)),s=t.fu.next();t.Au.set(s,new j3(n)),t.Ru=t.Ru.insert(n,s),nS(t.remoteStore,new qs(Dn(yh(n.path)),s,"TargetPurposeLimboResolution",mh.ce))}}async function jo(t,e,n){const s=J(t),i=[],r=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((o,u)=>{a.push(s.pu(u,e,n).then(h=>{var f;if((h||n)&&s.isPrimaryClient){const m=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;s.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);const m=eg.Es(u.targetId,h);r.push(m)}}))}),await Promise.all(a),s.Pu.J_(i),await async function(u,h){const f=J(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>L.forEach(h,g=>L.forEach(g.Ts,y=>f.persistence.referenceDelegate.addReference(m,g.targetId,y)).next(()=>L.forEach(g.Is,y=>f.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))}catch(m){if(!Da(m))throw m;F(tg,"Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const y=f.vs.get(g),C=y.snapshotVersion,D=y.withLastLimboFreeSnapshotVersion(C);f.vs=f.vs.insert(g,D)}}}(s.localStore,r))}async function F3(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){F(dg,"User change. New user:",e.toKey());const s=await Jw(n.localStore,e);n.currentUser=e,function(r,a){r.mu.forEach(o=>{o.forEach(u=>{u.reject(new q(k.CANCELLED,a))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await jo(n,s.Ns)}}function G3(t,e){const n=J(t),s=n.Au.get(e);if(s&&s.hu)return oe().add(s.key);{let i=oe();const r=n.Iu.get(e);if(!r)return i;for(const a of r){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function pS(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z3.bind(null,e),e.Pu.J_=R3.bind(null,e.eventManager),e.Pu.yu=C3.bind(null,e.eventManager),e}function Y3(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H3.bind(null,e),e}class ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $O(this.persistence,new YO,e.initialUser,this.serializer)}Cu(e){return new Ww(Zp.Vi,this.serializer)}Du(e){return new n3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ku.provider={build:()=>new ku};class Q3 extends ku{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){me(this.persistence.referenceDelegate instanceof Mu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new DO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?It.withCacheSize(this.cacheSizeBytes):It.DEFAULT;return new Ww(s=>Mu.Vi(s,n),this.serializer)}}class bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>x_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=F3.bind(null,this.syncEngine),await S3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N3}()}createDatastore(e){const n=Th(e.databaseInfo.databaseId),s=l3(e.databaseInfo);return d3(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,a,o){return new m3(s,i,r,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>x_(this.syncEngine,n,0),function(){return p_.v()?new p_:new s3}())}createSyncEngine(e,n){return function(i,r,a,o,u,h,f){const m=new O3(i,r,a,o,u,h);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const r=J(i);F(Zi,"RemoteStore shutting down."),r.Ea.add(5),await Do(r),r.Aa.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}bm.provider={build:()=>new bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="FirestoreClient";class K3{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=Hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async a=>{F(mi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(F(mi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=lg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Xd(t,e){t.asyncQueue.verifyOperationInProgress(),F(mi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await Jw(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function T_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $3(t);F(mi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>y_(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>y_(e.remoteStore,i)),t._onlineComponents=e}async function $3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(mi,"Using user provided OfflineComponentProvider");try{await Xd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await Xd(t,new ku)}}else F(mi,"Using default OfflineComponentProvider"),await Xd(t,new Q3(void 0));return t._offlineComponents}async function gS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(mi,"Using user provided OnlineComponentProvider"),await T_(t,t._uninitializedComponentsProvider._online)):(F(mi,"Using default OnlineComponentProvider"),await T_(t,new bm))),t._onlineComponents}function X3(t){return gS(t).then(e=>e.syncEngine)}async function Pu(t){const e=await gS(t),n=e.eventManager;return n.onListen=M3.bind(null,e.syncEngine),n.onUnlisten=P3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=U3.bind(null,e.syncEngine),n}function W3(t,e,n,s){const i=new mg(s),r=new hg(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>og(await Pu(t),r)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>cg(await Pu(t),r))}}function J3(t,e,n={}){const s=new is;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,o,u,h){const f=new mg({next:g=>{f.Nu(),a.enqueueAndForget(()=>cg(r,m));const y=g.docs.has(o);!y&&g.fromCache?h.reject(new q(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?h.reject(new q(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new hg(yh(o.path),f,{includeMetadataChanges:!0,Ka:!0});return og(r,m)}(await Pu(t),t.asyncQueue,e,n,s)),s.promise}function Z3(t,e,n={}){const s=new is;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,o,u,h){const f=new mg({next:g=>{f.Nu(),a.enqueueAndForget(()=>cg(r,m)),g.fromCache&&u.source==="server"?h.reject(new q(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new hg(o,f,{includeMetadataChanges:!0,Ka:!0});return og(r,m)}(await Pu(t),t.asyncQueue,e,n,s)),s.promise}function e6(t,e){const n=new is;return t.asyncQueue.enqueueAndForget(async()=>L3(await X3(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="ComponentProvider",w_=new Map;function n6(t,e,n,s,i){return new b4(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,yS(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firestore.googleapis.com",S_=!0;class A_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vS,this.ssl=S_}else this.host=e.host,this.ssl=e.ssl??S_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CO)throw new q(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yS(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Zj;switch(s.type){case"firstParty":return new s4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new q(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=w_.get(n);s&&(F(t6,"Removing Datastore"),w_.delete(n),s.terminate())}(this),Promise.resolve()}}function s6(t,e,n,s={}){var h;t=Yt(t,Ah);const i=Aa(e),r=t._getSettings(),a={...r,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(hT(`https://${o}`),dT("Firestore",!0)),r.host!==vS&&r.host!==o&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...r,host:o,ssl:i,emulatorOptions:s};if(!Ki(u,a)&&(t._setSettings(u),s.mockUserToken)){let f,m;if(typeof s.mockUserToken=="string")f=s.mockUserToken,m=gt.MOCK_USER;else{f=nI(s.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new q(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new gt(g)}t._authCredentials=new e4(new aw(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class Ue{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ro(n,Ue._jsonSchema))return new Ue(e,s||null,new Y(Te.fromString(n.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:$e("string",Ue._jsonSchemaVersion),referencePath:$e("string")};class si extends _s{constructor(e,n,s){super(e,n,yh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new Y(e))}withConverter(e){return new si(this.firestore,e,this._path)}}function On(t,e,...n){if(t=Xe(t),lw("collection","path",e),t instanceof Ah){const s=Te.fromString(e,...n);return Lv(s),new si(t,null,s)}{if(!(t instanceof Ue||t instanceof si))throw new q(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Te.fromString(e,...n));return Lv(s),new si(t.firestore,null,s)}}function on(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=Hp.newId()),lw("doc","path",e),t instanceof Ah){const s=Te.fromString(e,...n);return Uv(s),new Ue(t,null,new Y(s))}{if(!(t instanceof Ue||t instanceof si))throw new q(k.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Te.fromString(e,...n));return Uv(s),new Ue(t.firestore,t instanceof si?t.converter:null,new Y(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="AsyncQueue";class R_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eS(this,"async_queue_retry"),this._c=()=>{const s=$d();s&&F(N_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=$d();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new is;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Da(e))throw e;F(N_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",C_(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=ag.createAndSchedule(this,e,n,s,r=>this.hc(r));return this.tc.push(i),i}uc(){this.nc&&K(47125,{Pc:C_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function C_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pi extends Ah{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new R_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function i6(t,e){const n=typeof t=="object"?t:gT(),s=typeof t=="string"?t:Ru,i=jp(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=eI("firestore");r&&s6(i,...r)}return i}function Nh(t){if(t._terminated)throw new q(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||r6(t),t._firestoreClient}function r6(t){var s,i,r,a;const e=t._freezeSettings(),n=n6(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new K3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rn(ft.fromBase64String(e))}catch(n){throw new q(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rn(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ro(e,rn._jsonSchema))return rn.fromBase64String(e.bytes)}}rn._jsonSchemaVersion="firestore/bytes/1.0",rn._jsonSchema={type:$e("string",rn._jsonSchemaVersion),bytes:$e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mn._jsonSchemaVersion}}static fromJSON(e){if(Ro(e,Mn._jsonSchema))return new Mn(e.latitude,e.longitude)}}Mn._jsonSchemaVersion="firestore/geoPoint/1.0",Mn._jsonSchema={type:$e("string",Mn._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ro(e,pn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new pn(e.vectorValues);throw new q(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pn._jsonSchemaVersion="firestore/vectorValue/1.0",pn._jsonSchema={type:$e("string",pn._jsonSchemaVersion),vectorValues:$e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=/^__.*__$/;class l6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Co(e,this.data,n,this.fieldTransforms)}}class _S{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{dataSource:t})}}class gg{constructor(e,n,s,i,r,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Uu(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(bS(this.dataSource)&&a6.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class o6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Th(e)}createContext(e,n,s,i=!1){return new gg({dataSource:e,methodName:n,targetDoc:s,path:ut.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ch(t){const e=t._freezeSettings(),n=Th(t._databaseId);return new o6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xS(t,e,n,s,i,r={}){const a=t.createContext(r.merge||r.mergeFields?2:0,e,n,i);vg("Data must be an object, but it was:",a,s);const o=ES(s,a);let u,h;if(r.merge)u=new Bt(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const f=[];for(const m of r.mergeFields){const g=er(e,m,n);if(!a.contains(g))throw new q(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);SS(f,g)||f.push(g)}u=new Bt(f),h=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=a.fieldTransforms;return new l6(new Dt(o),u,h)}class Ih extends Rh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}class yg extends Rh{_toFieldTransform(e){return new $4(e.path,new io)}isEqual(e){return e instanceof yg}}function c6(t,e,n,s){const i=t.createContext(1,e,n);vg("Data must be an object, but it was:",i,s);const r=[],a=Dt.empty();_i(s,(u,h)=>{const f=wS(e,u,n);h=Xe(h);const m=i.childContextForFieldPath(f);if(h instanceof Ih)r.push(f);else{const g=Oo(h,m);g!=null&&(r.push(f),a.set(f,g))}});const o=new Bt(r);return new _S(a,o,i.fieldTransforms)}function u6(t,e,n,s,i,r){const a=t.createContext(1,e,n),o=[er(e,s,n)],u=[i];if(r.length%2!=0)throw new q(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<r.length;g+=2)o.push(er(e,r[g])),u.push(r[g+1]);const h=[],f=Dt.empty();for(let g=o.length-1;g>=0;--g)if(!SS(h,o[g])){const y=o[g];let C=u[g];C=Xe(C);const D=a.childContextForFieldPath(y);if(C instanceof Ih)h.push(y);else{const O=Oo(C,D);O!=null&&(h.push(y),f.set(y,O))}}const m=new Bt(h);return new _S(f,m,a.fieldTransforms)}function h6(t,e,n,s=!1){return Oo(n,t.createContext(s?4:3,e))}function Oo(t,e){if(TS(t=Xe(t)))return vg("Unsupported field value:",e,t),ES(t,e);if(t instanceof Rh)return function(s,i){if(!bS(i.dataSource))throw i.createError(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(s,i){const r=[];let a=0;for(const o of s){let u=Oo(o,i.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=Xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Y4(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=Re.fromDate(s);return{timestampValue:Ou(i.serializer,r)}}if(s instanceof Re){const r=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ou(i.serializer,r)}}if(s instanceof Mn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof rn)return{bytesValue:Hw(i.serializer,s._byteString)};if(s instanceof Ue){const r=i.databaseId,a=s.firestore._databaseId;if(!a.isEqual(r))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Wp(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof pn)return function(a,o){const u=a instanceof pn?a.toArray():a;return{mapValue:{fields:{[gw]:{stringValue:yw},[Cu]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw o.createError("VectorValues must only contain numeric values.");return Kp(o.serializer,f)})}}}}}}(s,i);if($w(s))return s._toProto(i.serializer);throw i.createError(`Unsupported field value: ${fh(s)}`)}(t,e)}function ES(t,e){const n={};return uw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_i(t,(s,i)=>{const r=Oo(i,e.childContextForField(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function TS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Mn||t instanceof rn||t instanceof Ue||t instanceof Rh||t instanceof pn||$w(t))}function vg(t,e,n){if(!TS(n)||!ow(n)){const s=fh(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function er(t,e,n){if((e=Xe(e))instanceof pg)return e._internalPath;if(typeof e=="string")return wS(t,e);throw Uu("Field path arguments must be of type string or ",t,!1,void 0,n)}const d6=new RegExp("[~\\*/\\[\\]]");function wS(t,e,n){if(e.search(d6)>=0)throw Uu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pg(...e.split("."))._internalPath}catch{throw Uu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uu(t,e,n,s,i){const r=s&&!s.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${s}`),a&&(u+=` in document ${i}`),u+=")"),new q(k.INVALID_ARGUMENT,o+t+u)}function SS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{convertValue(e,n="none"){switch(di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return _i(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(e){var s,i,r;const n=(r=(i=(s=e.fields)==null?void 0:s[Cu].arrayValue)==null?void 0:i.values)==null?void 0:r.map(a=>Le(a.doubleValue));return new pn(n)}convertGeoPoint(e){return new Mn(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eo(e));default:return null}}convertTimestamp(e){const n=ui(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Te.fromString(e);me(Kw(s),9688,{name:e});const i=new to(s.get(1),s.get(3)),r=new Y(s.popFirst(5));return i.isEqual(n)||ms(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends f6{constructor(e){super(),this.firestore=e}convertBytes(e){return new rn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}function AS(){return new yg("serverTimestamp")}const I_="@firebase/firestore",D_="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const r of s)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(er("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m6 extends NS{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class xg extends bg{}function ii(t,e,...n){let s=[];e instanceof bg&&s.push(e),s=s.concat(n),function(r){const a=r.filter(u=>u instanceof Eg).length,o=r.filter(u=>u instanceof Dh).length;if(a>1||a>0&&o>0)throw new q(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class Dh extends xg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Dh(e,n,s)}_apply(e){const n=this._parse(e);return IS(e._query,n),new _s(e.firestore,e.converter,hm(e._query,n))}_parse(e){const n=Ch(e.firestore);return function(r,a,o,u,h,f,m){let g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){M_(m,f);const C=[];for(const D of m)C.push(O_(u,r,D));g={arrayValue:{values:C}}}else g=O_(u,r,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||M_(m,f),g=h6(o,a,m,f==="in"||f==="not-in");return Qe.create(h,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kr(t,e,n){const s=e,i=er("where",t);return Dh._create(i,s,n)}class Eg extends bg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let a=i;const o=r.getFlattenedFilters();for(const u of o)IS(a,u),a=hm(a,u)}(e._query,n),new _s(e.firestore,e.converter,hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tg extends xg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tg(e,n)}_apply(e){const n=function(i,r,a){if(i.startAt!==null)throw new q(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new so(r,a)}(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,U4(e._query,n))}}function CS(t,e="asc"){const n=e,s=er("orderBy",t);return Tg._create(s,n)}class wg extends xg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new wg(e,n,s)}_apply(e){return new _s(e.firestore,e.converter,Du(e._query,this._limit,this._limitType))}}function p6(t){return wg._create("limit",t,"F")}function O_(t,e,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new q(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sw(e)&&n.indexOf("/")!==-1)throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Te.fromString(n));if(!Y.isDocumentKey(s))throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Qv(t,new Y(s))}if(n instanceof Ue)return Qv(t,n._key);throw new q(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(n)}.`)}function M_(t,e){if(!Array.isArray(t)||t.length===0)throw new q(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IS(t,e){const n=function(i,r){for(const a of i)for(const o of a.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function DS(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bi extends NS{constructor(e,n,s,i,r,a){super(e,n,s,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(er("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Bi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bi._jsonSchema={type:$e("string",Bi._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class Bc extends Bi{data(e={}){return super.data(e)}}class Hi{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pl(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bc(this._firestore,this._userDataWriter,s.key,s,new pl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const u=new Bc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new pl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const u=new Bc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new pl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return o.type!==0&&(h=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:g6(o.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),s.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function g6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi._jsonSchemaVersion="firestore/querySnapshot/1.0",Hi._jsonSchema={type:$e("string",Hi._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){t=Yt(t,Ue);const e=Yt(t.firestore,pi),n=Nh(e);return J3(n,t._key).then(s=>OS(e,t,s))}function rs(t){t=Yt(t,_s);const e=Yt(t.firestore,pi),n=Nh(e),s=new _g(e);return RS(t._query),Z3(n,t._query).then(i=>new Hi(e,s,t,i))}function Sg(t,e,n){t=Yt(t,Ue);const s=Yt(t.firestore,pi),i=DS(t.converter,e,n),r=Ch(s);return Ag(s,[xS(r,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mn.none())])}function $r(t,e,n,...s){t=Yt(t,Ue);const i=Yt(t.firestore,pi),r=Ch(i);let a;return a=typeof(e=Xe(e))=="string"||e instanceof pg?u6(r,"updateDoc",t._key,e,n,s):c6(r,"updateDoc",t._key,e),Ag(i,[a.toMutation(t._key,mn.exists(!0))])}function y6(t,e){const n=Yt(t.firestore,pi),s=on(t),i=DS(t.converter,e),r=Ch(t.firestore);return Ag(n,[xS(r,"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,mn.exists(!1))]).then(()=>s)}function jS(t,...e){var h,f,m;t=Xe(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||j_(e[s])||(n=e[s++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(j_(e[s])){const g=e[s];e[s]=(h=g.next)==null?void 0:h.bind(g),e[s+1]=(f=g.error)==null?void 0:f.bind(g),e[s+2]=(m=g.complete)==null?void 0:m.bind(g)}let r,a,o;if(t instanceof Ue)a=Yt(t.firestore,pi),o=yh(t._key.path),r={next:g=>{e[s]&&e[s](OS(a,t,g))},error:e[s+1],complete:e[s+2]};else{const g=Yt(t,_s);a=Yt(g.firestore,pi),o=g._query;const y=new _g(a);r={next:C=>{e[s]&&e[s](new Hi(a,y,g,C))},error:e[s+1],complete:e[s+2]},RS(t._query)}const u=Nh(a);return W3(u,o,i,r)}function Ag(t,e){const n=Nh(t);return e6(n,e)}function OS(t,e,n){const s=n.docs.get(e._key),i=new _g(t);return new Bi(t,i,e._key,s,new pl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Jj(Na),la(new $i("firestore",(s,{instanceIdentifier:i,options:r})=>{const a=s.getProvider("app").getImmediate(),o=new pi(new t4(s.getProvider("auth-internal")),new i4(a,s.getProvider("app-check-internal")),x4(a,i),a);return r={useFetchStreams:n,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),ti(I_,D_,e),ti(I_,D_,"esm2020")})();const v6={apiKey:"AIzaSyC2IVDjPjzOhoaW9kSw1INRqILNQaXrH2c",authDomain:"umoney-13244.firebaseapp.com",projectId:"umoney-13244",storageBucket:"umoney-13244.appspot.com",messagingSenderId:"205296125909",appId:"1:205296125909:web:331b96d7a5191e9ed0df5c"},MS=pT(v6),tr=Xj(MS),He=i6(MS),VS={usdtRate:102,maintenanceMode:!1,adminUpi:"pay.umoney@upi",adminQrCode:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?pa=pay.umoney@upi",usdtTrc20Address:"TVjsyZ7sWvJgM8p4G8MockTRC20Address7788",usdtQrCode:"",inrPaymentEnabled:!0,usdtPaymentEnabled:!0,adminEmail:"admin@gmail.com",adminPassword:"admin"},_6=async()=>{const t=await Lu(on(He,"system","settings"));return t.exists()?t.data():VS},b6=t=>jS(on(He,"system","settings"),e=>{t(e.exists()?e.data():VS)}),V_=async t=>Sg(on(He,"system","settings"),t,{merge:!0}),x6=async(t,e)=>{const n=await _6(),s=n.adminEmail||"admin@gmail.com",i=n.adminPassword||"admin";return t===s&&e===i?{user:{uid:"ADMIN_USER",email:s}}:OD(tr,t,e)},E6=async(t,e,n)=>{const s=await jD(tr,t,e),i=s.user.uid;let r;if(n)try{const o=ii(On(He,"users"),Kr("referralCode","==",n)),u=await rs(o);u.empty||(r=u.docs[0].id)}catch(o){console.error(o)}const a={uid:i,email:t,inrBalance:0,usdtBalance:0,referralCode:Math.random().toString(36).substring(7).toUpperCase(),referrerId:r,createdAt:new Date().toISOString()};return await Sg(on(He,"users",i),a),s},zu=async()=>LD(tr),T6=t=>UD(tr,t),w6=async t=>{if(tr.currentUser)return MD(tr.currentUser,t);throw new Error("No authenticated user found")},S6=async t=>DD(tr,t),A6=(t,e)=>jS(on(He,"users",t),n=>{n.exists()?e(n.data()):e(null)}),Bu=async(t,e)=>$r(on(He,"users",t),e),Ng=async(t,e)=>{if(t==="ADMIN_USER")return;let n={ip:"192.168.1.1",city:"Unknown",region:"",country:"India"};try{const a=await(await fetch("https://ipapi.co/json/")).json();a&&!a.error&&(n={ip:a.ip,city:a.city,region:a.region,country:a.country_name})}catch{}const s=on(He,"users",t);if((await Lu(s)).exists())await $r(s,{lastLocation:n});else{const r={uid:t,email:e,inrBalance:0,usdtBalance:0,referralCode:Math.random().toString(36).substring(7).toUpperCase(),createdAt:new Date().toISOString(),lastLocation:n};await Sg(s,r)}},xm=async t=>y6(On(He,"transactions"),{...t,date:AS()}),N6=async(t,e)=>{try{let n=ii(On(He,"transactions"),Kr("userId","==",t),CS("date","desc")),i=(await rs(n)).docs.map(r=>({id:r.id,...r.data()}));return e&&(e==="DEPOSIT"?i=i.filter(r=>r.type.includes("DEPOSIT")):i=i.filter(r=>r.type===e)),i}catch(n){console.warn("Index may be missing, using fallback query:",n.message);let s=ii(On(He,"transactions"),Kr("userId","==",t)),r=(await rs(s)).docs.map(a=>({id:a.id,...a.data()}));return e&&(e==="DEPOSIT"?r=r.filter(a=>a.type.includes("DEPOSIT")):r=r.filter(a=>a.type===e)),r.sort((a,o)=>{var f,m;const u=((f=a.date)==null?void 0:f.seconds)||0;return(((m=o.date)==null?void 0:m.seconds)||0)-u}),r}},R6=async()=>{const t=ii(On(He,"transactions"),CS("date","desc"),p6(100));return(await rs(t)).docs.map(n=>({id:n.id,...n.data()}))},C6=async()=>(await rs(On(He,"users"))).docs.map(e=>e.data()),I6=async(t,e)=>{const n=e==="APPROVE"?"APPROVED":"REJECTED";let s=null;const i=await Lu(on(He,"transactions",t));if(i.exists()&&(s={id:i.id,...i.data()}),!(!s||s.status!=="PENDING")&&(await $r(on(He,"transactions",t),{status:n}),e==="APPROVE")){const r=on(He,"users",s.userId),a=await Lu(r);if(a.exists()){const o=a.data();if(s.type.includes("DEPOSIT")){const u=s.amountInr||s.amount;await $r(r,{inrBalance:o.inrBalance+u})}else s.type==="WITHDRAW"&&await $r(r,{inrBalance:o.inrBalance-s.amount})}}},D6=async(t,e)=>{const n=e===-1?Date.now()+31536e8:Date.now()+e*1e3;await Bu(t,{isBanned:!0,banExpires:n})},j6=async t=>{await Bu(t,{isBanned:!1,banExpires:0})},O6=async()=>{const t=ii(On(He,"transactions")),e=await rs(t),n=[];return e.docs.forEach(s=>{n.push($r(on(He,"transactions",s.id),{status:"CLEARED",clearedAt:AS()}))}),await Promise.all(n),{clearedCount:e.docs.length}},k_=(t,e)=>{const n=[];for(;t.length;)n.push(t.splice(0,e));return n},M6=async t=>{let e=[],n=[],s=[];const i=ii(On(He,"users"),Kr("referrerId","==",t));(await rs(i)).forEach(_=>e.push(_.data()));const a=e.map(_=>_.uid);if(a.length>0){const _=k_([...a],10);for(const b of _){const T=ii(On(He,"users"),Kr("referrerId","in",b));(await rs(T)).forEach(U=>n.push(U.data()))}}const o=n.map(_=>_.uid);if(o.length>0){const _=k_([...o],10);for(const b of _){const T=ii(On(He,"users"),Kr("referrerId","in",b));(await rs(T)).forEach(U=>s.push(U.data()))}}const u=e.length,h=n.length,f=s.length,m=u*50,g=h*25,y=f*10,C=m+g+y,D=[{id:"l1",level:1,count:u,rate:"10%",amount:m},{id:"l2",level:2,count:h,rate:"5%",amount:g},{id:"l3",level:3,count:f,rate:"2%",amount:y}];return{stats:{todayDeposit:0,totalDeposit:0,totalCommission:C,commissionYesterday:0,teamCount:u+h+f,commissionToday:0,todayNewTeam:0},members:D}},kS=I.createContext({currentUser:null,userProfile:null,systemSettings:null,loading:!0,isAdmin:!1}),xi=()=>I.useContext(kS),V6=({children:t})=>{const[e,n]=I.useState(null),[s,i]=I.useState(null),[r,a]=I.useState(null),[o,u]=I.useState(!0),[h,f]=I.useState(!1);return I.useEffect(()=>{const m=b6(g=>{a(g)});return()=>m()},[]),I.useEffect(()=>{let m=()=>{};const g=T6(async y=>{if(m(),y)if(n(y),y.email==="admin@gmail.com")f(!0),i(null),u(!1);else{f(!1);try{await Ng(y.uid,y.email||""),m=A6(y.uid,C=>{if(C!=null&&C.isBanned&&C.banExpires&&Date.now()<C.banExpires){alert("Your account has been banned by the administrator."),zu();return}i(C),u(!1)})}catch(C){console.error("Error ensuring profile or subscribing:",C),i(null),u(!1)}}else n(null),i(null),f(!1),u(!1)});return()=>{g(),m()}},[]),c.jsx(kS.Provider,{value:{currentUser:e,userProfile:s,systemSettings:r,loading:o,isAdmin:h},children:!o&&t})},k6=()=>{const[t,e]=I.useState(!0),[n,s]=I.useState(""),[i,r]=I.useState(""),[a,o]=I.useState(""),[u,h]=I.useState(""),[f,m]=I.useState(!1),[g,y]=I.useState(!1),[C,D]=I.useState(""),[O,_]=I.useState(""),[b,T]=I.useState(!1),j=async z=>{z.preventDefault(),h(""),m(!0);try{t?await x6(n,i):await E6(n,i,a)}catch(w){h(w.message||"Authentication failed")}m(!1)},U=async z=>{if(z.preventDefault(),!C){_("Please enter your email address");return}T(!0),_("");try{await S6(C),_("Password reset link sent! Check your email inbox. If not found, please check your spam folder.")}catch(w){_(w.message||"Failed to send reset email")}T(!1)};return c.jsxs("div",{className:"bg-[#f3f4f8] min-h-screen font-sans flex flex-col items-center justify-center p-6",children:[c.jsxs("div",{className:"bg-white rounded-[15px] p-6 shadow-sm w-full max-w-md",children:[c.jsx("h1",{className:"text-2xl font-bold text-[#1e3a8a] mb-6 text-center",children:t?"Welcome Back":"Join UMoney"}),c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsx("div",{className:"bg-[#f5f5f5] rounded-lg px-4 py-3",children:c.jsx("input",{className:"bg-transparent border-none p-0 text-gray-800 placeholder-gray-400 focus:ring-0 w-full",placeholder:"Email Address",type:"email",value:n,onChange:z=>s(z.target.value),required:!0})}),c.jsx("div",{className:"bg-[#f5f5f5] rounded-lg px-4 py-3",children:c.jsx("input",{className:"bg-transparent border-none p-0 text-gray-800 placeholder-gray-400 focus:ring-0 w-full",placeholder:"Password",type:"password",value:i,onChange:z=>r(z.target.value),required:!0})}),!t&&c.jsx("div",{className:"bg-[#f5f5f5] rounded-lg px-4 py-3",children:c.jsx("input",{className:"bg-transparent border-none p-0 text-gray-800 placeholder-gray-400 focus:ring-0 w-full",placeholder:"Invitation Code (Optional)",type:"text",value:a,onChange:z=>o(z.target.value)})}),u&&c.jsx("p",{className:"text-red-500 text-xs text-center",children:u}),c.jsx("button",{type:"submit",disabled:f,className:"w-full bg-[#1e3a8a] hover:bg-blue-900 text-white font-semibold py-3.5 rounded-lg shadow-md transition-colors disabled:opacity-70",children:f?"Processing...":t?"Login":"Sign Up"})]}),c.jsxs("div",{className:"mt-4 text-center space-y-2",children:[t&&c.jsx("button",{onClick:()=>{y(!0),_(""),D("")},className:"text-sm text-gray-500 hover:text-[#2546a3] hover:underline",children:"Forgot Password?"}),c.jsx("button",{onClick:()=>e(!t),className:"text-sm text-[#2546a3] hover:underline block mx-auto",children:t?"Create an account":"Already have an account? Login"})]}),c.jsx("div",{className:"mt-6 text-[10px] text-gray-400 text-center border-t pt-4",children:c.jsx("p",{children:"Demo Mode Active: You can create multiple accounts to test referral system."})})]}),g&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-bold text-[#1e3a8a]",children:"Reset Password"}),c.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx("span",{className:"material-icons-round",children:"close"})})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter your email address and we'll send you a link to reset your password."}),c.jsxs("form",{onSubmit:U,className:"space-y-4",children:[c.jsx("div",{className:"bg-[#f5f5f5] rounded-lg px-4 py-3",children:c.jsx("input",{className:"bg-transparent border-none p-0 text-gray-800 placeholder-gray-400 focus:ring-0 w-full",placeholder:"Email Address",type:"email",value:C,onChange:z=>D(z.target.value),required:!0})}),O&&c.jsx("p",{className:`text-sm text-center ${O.includes("sent")?"text-green-600":"text-red-500"}`,children:O}),c.jsx("button",{type:"submit",disabled:b,className:"w-full bg-[#1e3a8a] hover:bg-blue-900 text-white font-semibold py-3 rounded-lg shadow-md transition-colors disabled:opacity-70",children:b?"Sending...":"Send Reset Link"})]}),c.jsx("button",{onClick:()=>y(!1),className:"w-full mt-3 text-sm text-gray-500 hover:text-gray-700",children:"Back to Login"})]})})]})},P6=({currentTab:t})=>{const e=lr(),n="text-primary",s="text-gray-400",i=r=>{e(`/${r}`)};return c.jsx("div",{className:"fixed bottom-6 left-6 right-6 z-50",children:c.jsx("nav",{className:"bg-white rounded-full shadow-float px-2 py-3 border border-gray-50",children:c.jsxs("ul",{className:"flex justify-between items-center",children:[c.jsx("li",{className:"flex-1",children:c.jsxs("button",{onClick:()=>i("home"),className:"flex flex-col items-center justify-center w-full group focus:outline-none transition-transform active:scale-95",children:[c.jsx("span",{className:`material-icons-round text-2xl mb-0.5 transition-colors ${t==="home"?n:s}`,children:"home"}),c.jsx("span",{className:`text-[10px] font-medium transition-colors ${t==="home"?n:s}`,children:"Home"})]})}),c.jsx("li",{className:"flex-1",children:c.jsxs("button",{onClick:()=>i("deposit"),className:"flex flex-col items-center justify-center w-full group focus:outline-none transition-transform active:scale-95",children:[c.jsx("span",{className:`material-icons-round text-2xl mb-0.5 transition-colors ${t==="deposit"?n:s}`,children:"description"}),c.jsx("span",{className:`text-[10px] font-medium transition-colors ${t==="deposit"?n:s}`,children:"Deposit"})]})}),c.jsx("li",{className:"flex-1",children:c.jsxs("button",{onClick:()=>i("tool"),className:"flex flex-col items-center justify-center w-full group focus:outline-none transition-transform active:scale-95",children:[c.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mb-0.5 transition-colors ${t==="tool"?"bg-primary text-white":"bg-gray-300 text-white"}`,children:c.jsx("span",{className:"font-bold text-xs",children:"T"})}),c.jsx("span",{className:`text-[10px] font-medium transition-colors ${t==="tool"?n:s}`,children:"Tool"})]})}),c.jsx("li",{className:"flex-1",children:c.jsxs("button",{onClick:()=>i("teams"),className:"flex flex-col items-center justify-center w-full group focus:outline-none transition-transform active:scale-95",children:[c.jsx("span",{className:`material-icons-round text-2xl mb-0.5 transition-colors ${t==="teams"?n:s}`,children:"groups"}),c.jsx("span",{className:`text-[10px] font-medium transition-colors ${t==="teams"?n:s}`,children:"Teams"})]})}),c.jsx("li",{className:"flex-1",children:c.jsxs("button",{onClick:()=>i("assets"),className:"flex flex-col items-center justify-center w-full group focus:outline-none transition-transform active:scale-95",children:[c.jsx("span",{className:`material-icons-round text-2xl mb-0.5 transition-colors ${t==="assets"?n:s}`,children:"person"}),c.jsx("span",{className:`text-[10px] font-medium transition-colors ${t==="assets"?n:s}`,children:"Assets"})]})})]})})})},U6=()=>c.jsx("header",{className:"bg-primary pt-12 pb-16 px-5 sticky top-0 z-10 shadow-md",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-white text-lg font-semibold tracking-wide",children:"Team"}),c.jsx("button",{className:"text-white opacity-90 hover:opacity-100 transition-opacity",children:c.jsx("span",{className:"material-icons-round text-2xl",children:"support_agent"})})]})}),L6=({todayDeposit:t,totalDeposit:e})=>{const n=s=>` ${s.toFixed(2)}`;return c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-xl p-4 shadow-sm flex flex-col justify-between h-24",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx("span",{className:"material-icons-outlined text-blue-500 text-lg",children:"calendar_today"}),c.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Today"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] text-slate-400 dark:text-slate-500 mb-0.5",children:"Team Deposit"}),c.jsx("div",{className:"text-blue-500 font-bold text-lg",children:n(t)})]})]}),c.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-xl p-4 shadow-sm flex flex-col justify-between h-24",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx("span",{className:"material-icons-outlined text-green-500 text-lg",children:"account_balance_wallet"}),c.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Total"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] text-slate-400 dark:text-slate-500 mb-0.5",children:"Team Deposit"}),c.jsx("div",{className:"text-green-500 font-bold text-lg",children:n(e)})]})]})]})},z6=({stats:t})=>c.jsxs("div",{className:"rounded-2xl p-5 shadow-lg bg-gradient-to-b from-primary to-secondary text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-10 -mt-10 pointer-events-none"}),c.jsxs("div",{className:"flex items-center space-x-2 mb-2 opacity-90",children:[c.jsx("span",{className:"material-icons-outlined text-lg",children:"monetization_on"}),c.jsx("span",{className:"text-sm font-medium",children:"My Total Commission"})]}),c.jsxs("div",{className:"text-3xl font-bold mb-6",children:[" ",t.totalCommission.toFixed(1)]}),c.jsxs("div",{className:"space-y-2 text-xs opacity-90",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-light",children:"Commission Yesterday"}),c.jsx("span",{className:"font-medium",children:t.commissionYesterday.toFixed(1)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-light",children:"Team Count"}),c.jsx("span",{className:"font-medium",children:t.teamCount})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-light",children:"Commission Today"}),c.jsxs("span",{className:"font-medium text-green-300",children:["+",t.commissionToday.toFixed(1)]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-light",children:"Today New Team"}),c.jsxs("span",{className:"font-medium text-green-300",children:["+",t.todayNewTeam]})]})]})]}),B6=()=>{const{userProfile:t}=xi(),[e,n]=I.useState(!1),s=(t==null?void 0:t.referralCode)||"...",i=`https://umoney.app/invite/${s}`,r=()=>{s!=="..."&&navigator.clipboard.writeText(i).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})};return c.jsxs("div",{className:"pt-2",children:[c.jsx("h3",{className:"text-primary dark:text-blue-400 text-sm font-semibold mb-2",children:"Invitation Link"}),c.jsxs("div",{className:"flex items-center bg-card-light dark:bg-card-dark rounded-lg overflow-hidden shadow-sm border border-slate-100 dark:border-slate-700 h-11 transition-all duration-300",children:[c.jsx("div",{className:"pl-3 pr-2",children:c.jsx("span",{className:"material-icons-outlined text-slate-400 text-sm",children:"link"})}),c.jsx("input",{className:"w-full bg-transparent border-none text-xs text-slate-500 focus:ring-0 h-full p-0",readOnly:!0,type:"text",value:i}),c.jsx("button",{onClick:r,className:`h-full flex items-center justify-center transition-colors w-14 ${e?"bg-green-500":"bg-primary hover:bg-blue-800"} text-white`,disabled:s==="...",children:c.jsx("span",{className:"material-icons-outlined text-lg",children:e?"check":"content_copy"})})]}),c.jsxs("p",{className:"text-[10px] text-slate-400 mt-1 ml-1",children:["Your Referral Code: ",c.jsx("span",{className:"font-bold text-slate-600",children:s})]})]})},H6=()=>{const t=[{iconClass:"fa-brands fa-facebook-f",label:"Facebook",colorBg:"bg-blue-100 dark:bg-blue-900/30",colorText:"text-blue-600 dark:text-blue-400"},{iconClass:"fa-brands fa-telegram",label:"Telegram",colorBg:"bg-sky-100 dark:bg-sky-900/30",colorText:"text-sky-500 dark:text-sky-400"},{iconClass:"fa-brands fa-whatsapp",label:"WhatsApp",colorBg:"bg-green-100 dark:bg-green-900/30",colorText:"text-green-600 dark:text-green-400"},{iconClass:"material-icons-outlined qr_code_scanner",label:"QR Code",colorBg:"bg-indigo-100 dark:bg-indigo-900/30",colorText:"text-indigo-600 dark:text-indigo-400",isMaterial:!0},{iconClass:"material-icons-outlined share",label:"Share",colorBg:"bg-red-100 dark:bg-red-900/30",colorText:"text-red-500 dark:text-red-400",isMaterial:!0}];return c.jsxs("div",{className:"pt-2",children:[c.jsx("h3",{className:"text-primary dark:text-blue-400 text-sm font-semibold mb-3",children:"More Ways To Invite"}),c.jsx("div",{className:"flex justify-between items-start px-1",children:t.map((e,n)=>c.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/5 cursor-pointer hover:opacity-80 transition-opacity",children:[c.jsx("div",{className:`w-10 h-10 ${e.colorBg} rounded-full flex items-center justify-center ${e.colorText} shadow-sm`,children:e.isMaterial?c.jsx("span",{className:"material-icons-outlined text-lg",children:e.iconClass.replace("material-icons-outlined ","")}):c.jsx("i",{className:`${e.iconClass} text-lg`})}),c.jsx("span",{className:"text-[10px] text-slate-600 dark:text-slate-400 text-center",children:e.label})]},n))})]})},q6=({members:t})=>c.jsxs("div",{className:"pt-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[c.jsxs("div",{className:"flex items-center gap-2 text-primary dark:text-blue-400",children:[c.jsx("span",{className:"material-icons-outlined text-lg",children:"groups"}),c.jsx("span",{className:"text-sm font-semibold",children:"Team Detail"})]}),c.jsxs("button",{className:"flex items-center gap-1 text-xs text-primary dark:text-blue-400 font-medium hover:opacity-80 transition-opacity",children:[c.jsx("span",{className:"material-icons-outlined text-sm",children:"visibility"}),"View"]})]}),c.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-t-lg py-3 px-4 flex justify-between items-center shadow-sm border-b border-slate-50 dark:border-slate-800",children:[c.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 w-1/4 text-left font-medium",children:"Level"}),c.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 w-1/4 text-center font-medium",children:"Count"}),c.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 w-1/4 text-center font-medium",children:"Rate"}),c.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 w-1/4 text-right font-medium",children:"Amount"})]}),c.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-b-lg shadow-sm",children:[t.map((e,n)=>c.jsxs("div",{className:`flex justify-between items-center py-3 px-4 ${n!==t.length-1?"border-b border-slate-50 dark:border-slate-800":""}`,children:[c.jsxs("div",{className:"w-1/4 text-left flex items-center gap-1",children:[c.jsx("span",{className:`w-2 h-2 rounded-full ${e.level===1?"bg-primary":e.level===2?"bg-accent-blue":"bg-slate-300"}`}),c.jsxs("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-200",children:["Lvl ",e.level]})]}),c.jsx("div",{className:"w-1/4 text-center text-xs text-slate-600 dark:text-slate-400",children:e.count}),c.jsx("div",{className:"w-1/4 text-center text-xs text-slate-600 dark:text-slate-400",children:e.rate}),c.jsxs("div",{className:"w-1/4 text-right text-xs font-semibold text-green-500",children:["",e.amount.toFixed(2)]})]},e.id)),t.length===0&&c.jsx("div",{className:"py-8 text-center text-xs text-slate-400",children:"No team members yet."})]}),c.jsx("div",{className:"h-32"})]}),F6=({stats:t,members:e})=>c.jsxs(c.Fragment,{children:[c.jsx(U6,{}),c.jsxs("main",{className:"px-4 -mt-8 relative z-20 space-y-4 pb-12",children:[c.jsx(L6,{todayDeposit:t.todayDeposit,totalDeposit:t.totalDeposit}),c.jsx(z6,{stats:t}),c.jsx(B6,{}),c.jsx(H6,{}),c.jsx(q6,{members:e})]})]}),G6=()=>{const[t,e]=I.useState(!1),n=lr(),{systemSettings:s}=xi(),i=(s==null?void 0:s.usdtRate)||99,r=()=>{n("/withdraw")},a=()=>{n("/deposit?tab=usdt")};return c.jsxs("div",{className:"bg-brand-bg text-gray-800 font-sans antialiased min-h-screen relative pb-32",children:[c.jsxs("header",{className:"flex items-center justify-between px-4 py-3 bg-white sticky top-0 z-10 shadow-sm",children:[c.jsx("div",{className:"w-6"})," ",c.jsx("h1",{className:"text-brand-blue font-extrabold text-lg tracking-wide",children:"UMONEY"}),c.jsx("button",{"aria-label":"Support",className:"w-6 h-6 text-brand-blue",children:c.jsx("svg",{fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),c.jsxs("main",{className:"px-4 pt-4 space-y-4",children:[c.jsxs("section",{className:"rounded-xl overflow-hidden shadow-card text-white relative p-4",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuABJlLhA70pp2xFeJuevWr8XUUWOau1bfKIUvKTs2ygB03xYZ8IzdgWGt-uG6Pjct4BLQ8nl81Zq4eUo9venMDnJqk2id8M1zukYneoPsQA6N3VdKhYGDwnO7DpfkYby9saPlxKuDs_Y8VczKekty3KcBwO5GsFFihVoO6NQUPtkQiiGmXPPrB7RbAUaZnw-X5B88DoFBcyyBMp_RqYNzhQvmbEWxutjJObwtKmQBxZzMqDCpIvvXCxmQs8kVks_A35OUeRTzTI4-3C')",backgroundSize:"cover",backgroundPosition:"center"},children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 h-full bg-gradient-to-b from-blue-500/20 to-transparent"}),c.jsxs("div",{className:"relative z-10 text-center space-y-1",children:[c.jsx("p",{className:"text-xs font-bold italic tracking-wider text-blue-200",children:"DAILY PREMIUM"}),c.jsx("h2",{className:"text-4xl font-black italic uppercase tracking-tighter drop-shadow-lg",style:{fontFamily:"sans-serif",color:"#FFD700",WebkitTextStroke:"1px #B45309"},children:"RECHARGE BONUS"}),c.jsx("div",{className:"flex justify-center my-2",children:c.jsx("span",{className:"bg-[#F59E0B] text-blue-900 text-[10px] font-bold px-6 py-1.5 rounded-full shadow-md uppercase tracking-wide",children:"This bonus is for USDT recharge"})}),c.jsxs("div",{className:"mt-4 bg-blue-900/60 backdrop-blur-sm rounded-lg border border-yellow-500/30 overflow-hidden text-xs",children:[c.jsxs("div",{className:"grid grid-cols-2 bg-blue-900/80 text-yellow-400 font-bold py-1.5 border-b border-yellow-500/30",children:[c.jsx("div",{children:"SINGLE RECHARGE"}),c.jsx("div",{children:"GET BONUS"})]}),c.jsxs("div",{className:"divide-y divide-yellow-500/20 text-white",children:[c.jsxs("div",{className:"grid grid-cols-2 py-1.5",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[c.jsx("span",{children:""})," ",c.jsx("span",{children:"50.5 - 100.9 U"})]}),c.jsx("div",{className:"font-bold text-white",children:"100"})]}),c.jsxs("div",{className:"grid grid-cols-2 py-1.5",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[c.jsx("span",{children:""})," ",c.jsx("span",{children:"101.0 - 151.4 U"})]}),c.jsx("div",{className:"font-bold text-white",children:"150"})]}),c.jsxs("div",{className:"grid grid-cols-2 py-1.5",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[c.jsx("span",{children:""})," ",c.jsx("span",{children:"151.5 - 201.9 U"})]}),c.jsx("div",{className:"font-bold text-white",children:"200"})]})]})]})]})]}),c.jsxs("section",{className:"bg-white rounded-xl p-4 shadow-card flex items-center justify-between relative overflow-hidden",children:[c.jsxs("div",{className:"z-10",children:[c.jsx("p",{className:"text-gray-500 text-xs font-medium mb-1",children:"USDT rate"}),c.jsxs("p",{className:"text-brand-blue font-bold text-lg mb-3",children:["1 USDT = ",i.toFixed(1)," INR"]}),c.jsx("button",{onClick:a,className:"bg-brand-blue text-white text-xs font-bold py-2 px-6 rounded-full hover:bg-opacity-90 transition shadow-lg",children:"TOP UP"})]}),c.jsx("div",{className:"z-10",children:c.jsx("img",{alt:"USDT Coin",className:"w-16 h-16 object-contain drop-shadow-lg",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDyLobRMU6KSWH0jM_vmoDU1uzVXnCsS755sd0yWHzTvl0IC4k12Dy8xG7GRAH_omLst0-65R1QdpnZWcj31PYhlW-LwS3pBDGwTGU-T5k51GW56BosqWEdrXzU1v43x6-JVs7SC0HKyTORIfFYm4-kIYYUYbsaX3ASljUBHfBfEsH9tAuSXsF4I5sUmqqz6F8Xn2-crtpJtp_-371U3HrPGamxrJfyiQXa08GNs4nrMrST1xjLGupJK6t37o8xddt8eDaxiDcEtoTg"})}),c.jsx("div",{className:"absolute right-0 top-0 w-20 h-full bg-gradient-to-l from-blue-50 to-transparent pointer-events-none"})]}),c.jsxs("section",{className:"bg-orange-400 rounded-full px-4 py-2 flex items-center shadow-sm text-white",children:[c.jsx("svg",{className:"h-5 w-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.664A2 2 0 009 13h2.028a2 2 0 002.383-1.44l1-5a2 2 0 00-1.82-2.33l-6.685-.815",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})}),c.jsx("span",{className:"text-sm font-medium truncate",children:"Check out our latest updates!"})]}),c.jsxs("section",{className:"bg-white rounded-xl p-4 shadow-card",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-brand-blue font-semibold text-sm",children:"Daily Total Recharge :"}),c.jsx("p",{className:"text-gray-500 font-bold text-lg",children:"0.00"})]}),c.jsxs("div",{className:"flex space-x-1",children:[c.jsx("div",{className:"bg-cyan-500 text-white text-xs font-bold py-1 px-1.5 rounded",children:"1"}),c.jsx("div",{className:"bg-cyan-500 text-white text-xs font-bold py-1 px-1.5 rounded",children:"1"}),c.jsx("span",{className:"text-cyan-500 font-bold",children:":"}),c.jsx("div",{className:"bg-cyan-500 text-white text-xs font-bold py-1 px-1.5 rounded",children:"0"}),c.jsx("div",{className:"bg-cyan-500 text-white text-xs font-bold py-1 px-1.5 rounded",children:"3"})]})]}),c.jsx("div",{className:"relative w-full",children:c.jsx("div",{className:"flex overflow-x-auto no-scrollbar space-x-6 pb-2 items-end",children:[100,200,300,400,500,600,700].map(o=>c.jsxs("div",{className:"flex flex-col items-center min-w-[40px]",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{alt:"Coin",className:"w-10 h-10 object-contain",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDyLobRMU6KSWH0jM_vmoDU1uzVXnCsS755sd0yWHzTvl0IC4k12Dy8xG7GRAH_omLst0-65R1QdpnZWcj31PYhlW-LwS3pBDGwTGU-T5k51GW56BosqWEdrXzU1v43x6-JVs7SC0HKyTORIfFYm4-kIYYUYbsaX3ASljUBHfBfEsH9tAuSXsF4I5sUmqqz6F8Xn2-crtpJtp_-371U3HrPGamxrJfyiQXa08GNs4nrMrST1xjLGupJK6t37o8xddt8eDaxiDcEtoTg"}),c.jsx("span",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-[8px] font-bold px-1 rounded-full border border-white",children:"+"})]}),c.jsx("span",{className:"text-[10px] text-brand-blue font-bold mt-1",children:o})]},o))})}),c.jsxs("div",{className:"mt-4 relative",children:[c.jsx("div",{className:"h-1 w-full bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-600 w-[5%] rounded-full"})}),c.jsx("div",{className:"flex justify-between text-[8px] text-gray-400 mt-1 px-1",children:["10k","20k","30k","40k","50k","60k","70k","80k"].map(o=>c.jsx("span",{children:o},o))}),c.jsx("div",{className:"absolute top-[-3px] left-[10%] w-2.5 h-2.5 bg-white border-2 border-gray-300 rounded-full"}),c.jsx("div",{className:"absolute top-[-3px] left-[50%] w-2.5 h-2.5 bg-white border-2 border-gray-300 rounded-full"})]})]}),c.jsxs("section",{className:"rounded-2xl p-5 shadow-lg text-white overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #6B8DD6 100%)"},children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h3",{className:"font-semibold text-base",children:["Withdraw ",t?"(open)":"(closing)"]}),c.jsx("button",{onClick:()=>e(!t),className:`relative w-12 h-6 rounded-full transition-all duration-300 ${t?"bg-green-400":"bg-white/30"}`,children:c.jsx("span",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-all duration-300 ease-out ${t?"left-6":"left-0.5"}`})})]}),c.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-out ${t?"max-h-20 opacity-100 mt-4":"max-h-0 opacity-0"}`,children:c.jsxs("button",{onClick:r,className:"w-full bg-white text-indigo-600 font-bold py-3 px-6 rounded-xl hover:bg-gray-100 transition-all shadow-lg flex items-center justify-center gap-2",children:[c.jsx("span",{className:"material-icons-round text-sm",children:"account_balance_wallet"}),c.jsx("span",{children:"Withdraw Now"})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[c.jsxs("div",{className:"border-r border-white/20",children:[c.jsx("p",{className:"text-xs text-white/70 mb-1",children:"In Transaction"}),c.jsx("p",{className:"text-xl font-bold tracking-wide",children:"0.00"})]}),c.jsxs("div",{className:"pl-2",children:[c.jsx("p",{className:"text-xs text-white/70 mb-1",children:"Today's Withdraw"}),c.jsx("p",{className:"text-xl font-bold tracking-wide",children:"0.00"})]})]})]}),c.jsxs("button",{className:"w-full bg-indigo-500 hover:bg-indigo-600 text-white rounded-full py-3 px-4 flex items-center justify-center shadow-md transition",children:[c.jsx("div",{className:"bg-white rounded-full w-5 h-5 flex items-center justify-center mr-3",children:c.jsx("svg",{className:"h-3 w-3 text-indigo-500 ml-0.5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M6 4l10 6-10 6V4z"})})}),c.jsx("span",{className:"text-sm font-medium",children:"How to use UMoney to make money"})]})]})]})},Y6=()=>{var ur;const[t]=zC(),e=t.get("tab"),[n,s]=I.useState(e==="usdt"?"USDT":"INR"),{userProfile:i,systemSettings:r}=xi(),[a,o]=I.useState("SELECT"),[u,h]=I.useState(null),[f,m]=I.useState(""),[g,y]=I.useState(!1),[C,D]=I.useState(300),[O,_]=I.useState(""),[b,T]=I.useState("INPUT"),[j,U]=I.useState(""),[z,w]=I.useState(!1),[x,S]=I.useState(""),E=(r==null?void 0:r.adminUpi)||"pay.umoney@upi",N=(r==null?void 0:r.adminQrCode)||"https://api.qrserver.com/v1/create-qr-code/?size=200x200",R=(r==null?void 0:r.usdtRate)||99,A=(r==null?void 0:r.usdtTrc20Address)||"TVjsyZ7sWvJgM8p4G8MockTRC20Address7788",G=(r==null?void 0:r.usdtQrCode)||`https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=${A}`;I.useEffect(()=>{let ne;return a==="PAYMENT"&&C>0&&(ne=setInterval(()=>D(_t=>_t-1),1e3)),()=>clearInterval(ne)},[a,C]);const Ee=ne=>{const _t=Math.floor(ne/60),Ti=ne%60;return`${_t}:${Ti<10?"0":""}${Ti}`},H=[{amount:100,income:3,percent:3,activity:6,quota:109},{amount:300,income:9,percent:3,activity:6,quota:315},{amount:310,income:9.3,percent:3,activity:6,quota:325.3},{amount:400,income:12,percent:3,activity:6,quota:418},{amount:900,income:27,percent:3,activity:6,quota:933},{amount:1300,income:39,percent:3,activity:6,quota:1345}],te=async ne=>{if(!i)return;const _t=i.linkedAccount;if(!_t||_t.verificationStatus!=="VERIFIED"){alert("Please go to 'Tool' tab and link your UPI account first.");return}if(!_t.operateEnabled){alert("Your linked tool is not active. Please click 'Operate' in the Tool tab.");return}h(ne),D(300),o("PAYMENT"),window.scrollTo(0,0)},X=async()=>{if(!f||f.length<10){alert("Please enter a valid 12-digit UTR / Reference ID.");return}w(!0);try{const ne={userId:i.uid,type:"DEPOSIT_INR",amount:u.amount,status:"PENDING",date:null,description:`Purchase Quota ${u.amount}`,utr:f};await xm(ne),y(!0),m("")}catch{alert("Error creating transaction. Please try again.")}w(!1)},ye=()=>{y(!1),o("SELECT"),h(null)},Me=()=>{if(!i||!O)return;const ne=parseFloat(O);if(isNaN(ne)||ne<=0){S("Invalid amount");return}S(""),T("PAYMENT")},zn=async()=>{if(!j){S("Please enter the Transaction Hash (TxID)");return}w(!0);try{const ne=parseFloat(O),_t=ne*R,Ti={userId:i.uid,type:"DEPOSIT_USDT",amount:ne,amountInr:_t,status:"PENDING",date:null,description:`Deposit ${ne} USDT`,utr:j};await xm(Ti),alert("Deposit Submitted Successfully! Waiting for Admin Approval."),_(""),U(""),T("INPUT"),S("")}catch{S("Error submitting request")}w(!1)},bn=ne=>{navigator.clipboard.writeText(ne),alert("Copied to clipboard!")},St=((parseFloat(O)||0)*R).toFixed(2),xn=N.startsWith("http")?N:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?pa=${E}&am=${u==null?void 0:u.amount}&cu=INR`;return c.jsxs("div",{className:"bg-[#f3f4f8] min-h-screen font-sans",children:[c.jsxs("header",{className:"bg-white sticky top-0 z-40 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-3",children:[c.jsx("h1",{className:"text-lg font-bold text-gray-800 tracking-tight",children:n==="USDT"?"Deposit USDT":"UMoney Deposit"}),c.jsx("button",{className:"text-[#303f9f] p-1 hover:opacity-80 transition-opacity",children:c.jsx("span",{className:"material-icons-round text-2xl",children:"support_agent"})})]}),c.jsxs("div",{className:"flex border-b border-gray-200 bg-white",children:[c.jsxs("button",{onClick:()=>{s("INR"),o("SELECT")},className:`flex-1 py-3 text-center text-sm font-medium relative focus:outline-none transition-colors ${n==="INR"?"text-app-blue border-b-2 border-app-blue":"text-gray-400 hover:text-gray-600"}`,children:[n==="INR"&&c.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -bottom-[2px] w-full h-[2px] bg-app-blue"}),c.jsxs("span",{className:"flex items-center justify-center gap-1",children:[n==="INR"&&c.jsx("span",{className:"material-icons-outlined text-lg",children:"currency_rupee"}),"INR"]})]}),c.jsx("button",{onClick:()=>{s("USDT"),T("INPUT")},className:`flex-1 py-3 text-center text-sm font-medium focus:outline-none transition-colors ${n==="USDT"?"text-[#2546a3] border-b-2 border-[#2546a3]":"text-gray-400 hover:text-gray-600"}`,children:"USDT"})]})]}),c.jsxs("main",{className:"p-3 pb-24",children:[n==="INR"?c.jsx("div",{className:"bg-white rounded-3xl p-4 shadow-sm min-h-[80vh]",children:a==="SELECT"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-500 font-medium",children:"Quota"}),c.jsx("i",{className:"fas fa-info-circle text-gray-300"})]}),c.jsx("a",{className:"text-app-blue text-xs font-medium hover:underline",href:"#",children:"How To Buy Quota"})]}),c.jsx("div",{className:"text-center mb-6",children:c.jsxs("div",{className:"text-2xl font-bold text-app-blue",children:["",(i==null?void 0:i.inrBalance.toFixed(2))||"0.00"]})}),c.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar mb-4 pb-2",children:[c.jsx("button",{className:"bg-app-blue text-white px-4 py-1.5 rounded-lg text-sm font-medium shrink-0 shadow-md",children:"All"}),[100,200,500,1e3,2e3,5e3].map(ne=>c.jsxs("button",{className:"bg-gray-100 text-gray-500 px-4 py-1.5 rounded-lg text-sm font-medium shrink-0 border border-gray-100",children:[ne,"+"]},ne))]}),c.jsx("div",{className:"flex flex-col gap-0 divide-y divide-gray-100",children:H.map((ne,_t)=>c.jsxs("div",{className:"flex items-center justify-between py-4",children:[c.jsx("div",{className:"mr-3 shrink-0",children:c.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center text-app-blue font-bold text-lg",children:""})}),c.jsxs("div",{className:"flex-1 mr-2",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsxs("span",{className:"font-bold text-lg text-gray-800",children:[ne.amount.toFixed(2)," INR"]}),c.jsx("span",{className:"bg-badge-bg text-badge-text text-[10px] font-bold px-1 py-0.5 rounded sm:px-1.5",children:"BANK"})]}),c.jsxs("div",{className:"text-[11px] text-gray-500 leading-tight",children:["Income:  ",ne.income.toFixed(2)," (",ne.percent.toFixed(2),"%) +",ne.activity.toFixed(2)]})]}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("button",{onClick:()=>te(ne),className:"bg-app-blue hover:bg-indigo-800 text-white text-sm font-bold py-1.5 px-6 rounded shadow-sm mb-1",children:"BUY"}),c.jsxs("div",{className:"text-[10px] text-app-green font-medium",children:["Quota: + ",ne.quota.toFixed(2)]})]})]},_t))})]}):c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"flex items-center mb-4 border-b pb-2",children:[c.jsx("button",{onClick:()=>o("SELECT"),className:"mr-3 text-gray-600",children:c.jsx("span",{className:"material-icons-round",children:"arrow_back"})}),c.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Complete Payment"})]}),c.jsxs("div",{className:"flex justify-between items-center bg-blue-50 p-4 rounded-xl mb-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Payable"}),c.jsxs("p",{className:"text-2xl font-bold text-app-blue",children:["",u==null?void 0:u.amount.toFixed(2)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Time Remaining"}),c.jsx("p",{className:"text-xl font-mono font-bold text-orange-500",children:Ee(C)})]})]}),c.jsxs("div",{className:"flex flex-col items-center mb-6",children:[c.jsx("div",{className:"bg-white p-2 rounded-xl shadow-md border border-gray-100 mb-4",children:c.jsx("img",{src:xn,alt:"Payment QR",className:"w-48 h-48"})}),c.jsx("div",{className:"bg-yellow-50 text-yellow-800 px-4 py-2 rounded-full text-xs font-bold mb-4",children:"Scan with any UPI App"}),c.jsxs("div",{className:"w-full bg-gray-50 rounded-lg p-3 flex justify-between items-center mb-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-gray-500 uppercase",children:"Merchant UPI ID"}),c.jsx("p",{className:"text-sm font-medium text-gray-800",children:E})]}),c.jsx("button",{onClick:()=>bn(E),className:"text-app-blue p-2",children:c.jsx("span",{className:"material-icons-outlined text-sm",children:"content_copy"})})]}),c.jsx("div",{className:"w-full bg-red-50 border border-red-100 rounded-lg p-3 mb-6",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"material-icons-outlined text-red-500 text-sm mt-0.5",children:"warning"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-red-700",children:"Important Requirement:"}),c.jsxs("p",{className:"text-xs text-red-600 leading-tight mt-1",children:["You must pay using your linked UPI ID: ",c.jsx("br",{}),c.jsx("span",{className:"font-mono bg-white px-1 rounded border border-red-200 mt-1 inline-block",children:(ur=i==null?void 0:i.linkedAccount)==null?void 0:ur.upiId})]}),c.jsx("p",{className:"text-[10px] text-red-500 mt-1",children:"Payments from other IDs will be rejected."})]})]})}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"UTR / Reference No. (12 Digits)"}),c.jsx("input",{className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-800 placeholder-gray-400 focus:ring-2 focus:ring-app-blue outline-none text-sm transition-all",placeholder:"Enter 12-digit UTR number",type:"number",value:f,onChange:ne=>m(ne.target.value)}),c.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:"After payment, copy the UTR from your UPI app and paste it here."})]})]}),c.jsx("button",{onClick:X,disabled:z,className:"w-full bg-app-blue hover:bg-blue-900 text-white font-semibold py-3.5 rounded-lg shadow-md transition-colors active:scale-[0.98] transform duration-100 disabled:opacity-50",children:z?"Verifying...":"Submit Payment"})]})}):c.jsx("div",{className:"bg-white rounded-[15px] p-4 shadow-sm mx-1 min-h-[80vh]",children:b==="INPUT"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex items-center text-gray-800 font-medium",children:[c.jsx("span",{children:"Quota"}),c.jsx("i",{className:"fas fa-eye text-[#999] ml-2 text-sm"})]}),c.jsx("a",{className:"text-xs text-[#2546a3] hover:underline",href:"#",children:"How To Buy Quota"})]}),c.jsx("div",{className:"text-center py-4",children:c.jsxs("span",{className:"text-[28px] font-bold text-[#1e3a8a]",children:["",(i==null?void 0:i.inrBalance.toFixed(2))||"0.00"]})})]}),c.jsxs("div",{className:"flex gap-3 mb-6",children:[c.jsxs("div",{className:"flex-1 flex items-center bg-[#f5f5f5] rounded-lg px-4 py-3",children:[c.jsx("input",{className:"flex-1 bg-transparent border-none p-0 text-gray-800 placeholder-gray-400 focus:ring-0 focus:outline-none text-base w-full",placeholder:"0.00",type:"number",value:O,onChange:ne=>_(ne.target.value)}),c.jsx("span",{className:"text-sm text-gray-500 ml-2 font-medium",children:"USDT"})]}),c.jsx("div",{className:"w-auto flex-none bg-[#eef2ff] rounded-lg flex items-center justify-center py-3 px-3",children:c.jsxs("span",{className:"text-xs font-bold text-[#2546a3] whitespace-nowrap",children:["1 USDT = ",R.toFixed(1)," INR"]})})]}),c.jsxs("div",{className:"bg-[#f3f4f6] rounded-lg p-4 mb-6 space-y-3 text-sm",children:[c.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[c.jsx("span",{children:"Estimated bonus"}),c.jsx("span",{className:"text-black font-medium",children:"0 INR"})]}),c.jsxs("div",{className:"flex justify-between items-center text-gray-800 font-bold",children:[c.jsx("span",{children:"You will receive"}),c.jsxs("span",{className:"text-[#1e3a8a] font-bold",children:[St," INR"]})]})]}),x&&!x.includes("TxID")&&c.jsx("div",{className:"mb-4 text-center text-sm font-medium text-red-600",children:x}),c.jsx("button",{onClick:Me,disabled:z,className:"w-full bg-[#1e3a8a] hover:bg-blue-900 text-white font-semibold py-3.5 rounded-lg shadow-md transition-colors active:scale-[0.98] transform duration-100 disabled:opacity-50",children:"Confirm Amount"})]}):c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("button",{onClick:()=>T("INPUT"),className:"mr-3 text-gray-600",children:c.jsx("span",{className:"material-icons-round",children:"arrow_back"})}),c.jsx("h2",{className:"text-lg font-bold text-[#1e3a8a]",children:"Complete Payment"})]}),c.jsxs("div",{className:"bg-[#eef2ff] rounded-lg p-4 mb-6 flex flex-col items-center",children:[c.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Scan QR to Pay ",c.jsxs("span",{className:"font-bold text-[#1e3a8a]",children:[O," USDT"]})]}),c.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm mb-4",children:c.jsx("img",{src:G,alt:"USDT QR Code",className:"w-40 h-40"})}),c.jsxs("div",{className:"w-full",children:[c.jsx("label",{className:"text-xs text-gray-500 mb-1 block ml-1",children:"TRC20 Address (TRON)"}),c.jsxs("div",{className:"flex items-center bg-white border border-blue-100 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"flex-1 py-3 px-3 text-xs font-mono text-gray-700 truncate",children:A}),c.jsx("button",{onClick:()=>bn(A),className:"bg-blue-50 hover:bg-blue-100 text-[#1e3a8a] p-3 transition-colors border-l border-blue-100",children:c.jsx("span",{className:"material-icons-outlined text-sm",children:"content_copy"})})]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Transaction Hash (TxID)"}),c.jsx("input",{className:"w-full bg-[#f5f5f5] border-none rounded-lg px-4 py-3 text-gray-800 placeholder-gray-400 focus:ring-2 focus:ring-[#1e3a8a]/20 outline-none text-sm",placeholder:"Paste the TxID / Hash here...",type:"text",value:j,onChange:ne=>U(ne.target.value)})]}),x&&c.jsx("div",{className:`mb-4 text-center text-sm font-medium ${x.includes("Error")||x.includes("Please")?"text-red-600":"text-green-600"}`,children:x}),c.jsx("button",{onClick:zn,disabled:z,className:"w-full bg-[#1e3a8a] hover:bg-blue-900 text-white font-semibold py-3.5 rounded-lg shadow-md transition-colors active:scale-[0.98] transform duration-100 disabled:opacity-50",children:z?"Submitting...":"Submit for Approval"})]})}),g&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:c.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl p-6 shadow-2xl slide-up text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("span",{className:"material-icons-round text-3xl text-green-600",children:"check_circle"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Submitted Successfully"}),c.jsxs("p",{className:"text-sm text-gray-600 mb-6 leading-relaxed",children:["Your UTR ",c.jsx("span",{className:"font-mono font-bold text-gray-800",children:f})," has been recorded. Please wait for admin confirmation. Your quota will be updated shortly."]}),c.jsx("button",{onClick:ye,className:"w-full py-3 bg-app-blue text-white rounded-xl font-semibold shadow-lg",children:"Okay, Got it"})]})})]})]})},Q6=()=>{const t="abcdefghijklmnopqrstuvwxyz0123456789";let e="";for(let n=0;n<10;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return`${e}@ybl`},K6=()=>{lr();const{userProfile:t,loading:e,currentUser:n}=xi(),[s,i]=I.useState(!1),[r,a]=I.useState(!1),[o,u]=I.useState(""),[h,f]=I.useState("PhonePe"),[m,g]=I.useState(""),[y,C]=I.useState(!1),D=I.useMemo(()=>t==null?void 0:t.linkedAccount,[t]),O=async()=>{if(!m){u("Please enter a valid UPI ID.");return}a(!0),u("");try{const T={provider:h,upiId:m,linkedAt:new Date().toISOString(),operateEnabled:!0,verificationStatus:"VERIFIED"};await Bu(t.uid,{linkedAccount:T}),i(!1)}catch(T){u("Failed to link account. Please try again."),console.error(T)}finally{a(!1)}},_=async()=>{D&&await Bu(t.uid,{"linkedAccount.operateEnabled":!D.operateEnabled})};if(e)return c.jsx("div",{className:"p-4",children:c.jsx("p",{children:"Loading..."})});const b=async()=>{var T;if(n){C(!0);try{await Ng(n.uid,n.email||""),window.location.reload()}catch(j){console.error("Failed to create profile",j);let U="Failed to recover profile.";j.code==="permission-denied"||(T=j.message)!=null&&T.includes("permission")?U="Permission denied. Please check Firestore security rules. See FIRESTORE_SETUP.md for instructions.":j.message&&(U=`Error: ${j.message}`),alert(U)}finally{C(!1)}}};return t?c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow-sm p-4",children:c.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800",children:"My Tool"})}),c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:D?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Connected Tool"}),c.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${D.operateEnabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.operateEnabled?"OPERATING":"STOPPED"})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-3 text-sm",children:[c.jsxs("p",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"Provider:"}),c.jsx("span",{className:"font-medium text-gray-900",children:D.provider})]}),c.jsxs("p",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"UPI ID:"}),c.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:D.upiId})]}),c.jsxs("p",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"Linked On:"}),c.jsx("span",{className:"text-gray-900",children:new Date(D.linkedAt).toLocaleDateString()})]})]}),c.jsx("button",{onClick:_,className:`w-full py-3 mt-4 text-white font-semibold rounded-lg shadow-md transition-all duration-300 ${D.operateEnabled?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"}`,children:D.operateEnabled?"Stop Operation":"Start Operation"})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("span",{className:"material-icons-outlined text-6xl text-gray-400 mb-4",children:"link_off"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Tool Connected"}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Connect a UPI tool to start making deposits."}),c.jsx("button",{onClick:()=>{g(Q6()),i(!0)},className:"bg-indigo-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-indigo-700 transition-all duration-300",children:"Connect Now"})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow p-4 border border-gray-200",children:[c.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"How it works?"}),c.jsx("p",{className:"text-gray-600",children:`Connect your UPI app as a "tool". When you deposit, you'll pay from this linked UPI. This automates verification.`})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow p-4 border border-gray-200",children:[c.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Is it safe?"}),c.jsx("p",{className:"text-gray-600",children:"Yes. We never ask for your UPI PIN or password. We only use the UPI ID to verify payments you make."})]})]})]}),s&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:c.jsxs("div",{className:"bg-white w-full max-w-sm rounded-t-2xl sm:rounded-2xl p-6 shadow-2xl slide-up",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Connect UPI Tool"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-1 block",children:"Select App"}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:["PhonePe","Google Pay","Paytm"].map(T=>c.jsx("button",{onClick:()=>f(T),className:`py-2 px-3 text-sm font-semibold rounded-md border-2 transition-all ${h===T?"bg-indigo-50 border-indigo-500 text-indigo-700":"bg-gray-50 border-gray-200 text-gray-600 hover:border-gray-400"}`,children:T},T))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-1 block",children:"UPI ID (VPA)"}),c.jsx("input",{type:"text",value:m,onChange:T=>g(T.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),o&&c.jsx("p",{className:"text-xs text-red-600 bg-red-50 p-2 rounded-md",children:o}),c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 text-xs text-yellow-800",children:c.jsxs("p",{children:[c.jsx("span",{className:"font-bold",children:"We will verify this UPI ID."})," Ensure your ",h," app is installed and active on this device."]})})]}),c.jsxs("div",{className:"mt-6 flex gap-3",children:[c.jsx("button",{onClick:()=>i(!1),className:"w-full py-2 px-4 text-sm font-semibold text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",disabled:r,children:"Cancel"}),c.jsx("button",{onClick:O,className:"w-full py-2 px-4 text-sm font-semibold text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:bg-indigo-400 flex items-center justify-center",disabled:r,children:r?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"material-icons-round animate-spin text-base mr-2",children:"sync"}),"Connecting..."]}):"Connect"})]})]})})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[c.jsx("span",{className:"material-icons-round text-5xl text-gray-300 mb-4",children:"account_circle"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Profile Not Found"}),c.jsx("p",{className:"text-gray-500 mb-6 max-w-xs",children:"We couldn't load your user profile. This might happen if your account setup was interrupted."}),c.jsx("button",{onClick:b,disabled:y,className:"bg-indigo-600 text-white px-6 py-2 rounded-full font-medium shadow-lg hover:bg-indigo-700 transition-all disabled:opacity-50",children:y?"Creating Profile...":"Create Profile & Retry"})]})},$6=()=>{var N;const{userProfile:t,currentUser:e}=xi(),[n,s]=I.useState("MAIN"),[i,r]=I.useState(!1),[a,o]=I.useState([]),[u,h]=I.useState(!1),[f,m]=I.useState({new:"",confirm:""}),[g,y]=I.useState(""),[C,D]=I.useState(!1),[O,_]=I.useState(!1),[b,T]=I.useState(""),j=async R=>{var A;if(t){h(!0),T("");try{const G=await N6(t.uid,R);o(G)}catch(G){console.error("History fetch error:",G),(A=G.message)!=null&&A.includes("index")?T("Database index required. Please check Firebase console."):T("Failed to load history. Please try again.")}h(!1)}},U=R=>{s(R),o([]),T(""),R==="QUOTA_HISTORY"&&j("DEPOSIT_INR"),R==="DEPOSIT_HISTORY"&&j("DEPOSIT_USDT"),R==="WITHDRAW_HISTORY"&&j("WITHDRAW")},z=R=>c.jsxs("div",{className:"flex items-center mb-6 px-4 pt-12",children:[c.jsx("button",{onClick:()=>s("MAIN"),className:"mr-3 p-1 rounded-full hover:bg-gray-200 transition-colors",children:c.jsx("span",{className:"material-icons-round text-gray-700",children:"arrow_back"})}),c.jsx("h1",{className:"text-xl font-bold text-gray-800",children:R})]}),w=(R,A)=>c.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mx-4",children:u?c.jsx("div",{className:"p-8 flex justify-center",children:c.jsx("span",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}):b?c.jsxs("div",{className:"p-8 text-center flex flex-col items-center text-red-400",children:[c.jsx("span",{className:"material-icons-outlined text-4xl mb-2",children:"error"}),c.jsx("p",{className:"text-sm text-red-500",children:b})]}):R.length===0?c.jsxs("div",{className:"p-12 text-center flex flex-col items-center text-gray-400",children:[c.jsx("span",{className:"material-icons-outlined text-4xl mb-2 opacity-30",children:"history"}),c.jsx("p",{className:"text-sm",children:A})]}):c.jsx("div",{className:"divide-y divide-gray-50",children:R.map(G=>c.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`mt-1 w-8 h-8 rounded-full flex items-center justify-center ${G.type==="WITHDRAW"?"bg-red-50 text-red-500":"bg-green-50 text-green-500"}`,children:c.jsx("span",{className:"material-icons-round text-sm",children:G.type==="WITHDRAW"?"arrow_upward":"arrow_downward"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-sm text-gray-800",children:G.description||(G.type==="DEPOSIT_INR"?"Quota Purchase":G.type==="DEPOSIT_USDT"?"USDT Deposit":"Withdrawal")}),c.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5",children:G.date&&G.date.seconds?new Date(G.date.seconds*1e3).toLocaleString():"Just now"}),G.utr&&c.jsxs("div",{className:"text-[10px] text-gray-500 mt-0.5 font-mono",children:["Ref: ",G.utr]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:`font-bold text-sm ${G.type==="WITHDRAW"?"text-red-600":"text-green-600"}`,children:[G.type==="WITHDRAW"?"-":"+",G.amountInr?`${G.amountInr}`:`${G.amount} ${G.type.includes("USDT")?"USDT":"INR"}`]}),c.jsx("div",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full inline-block mt-1 uppercase tracking-wide
                                  ${G.status==="APPROVED"?"bg-green-100 text-green-700":G.status==="REJECTED"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:G.status})]})]},G.id))})}),x=()=>{const R=async()=>{if(f.new.length<6){y("Password must be at least 6 characters");return}if(f.new!==f.confirm){y("Passwords do not match");return}D(!0);try{await w6(f.new),y("Password updated successfully!"),m({new:"",confirm:""})}catch(A){y(A.message||"Error updating password. Please re-login and try again.")}D(!1)};return c.jsx("div",{className:"px-4",children:c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"New Password"}),c.jsx("input",{type:"password",className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:f.new,onChange:A=>m({...f,new:A.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Confirm Password"}),c.jsx("input",{type:"password",className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:f.confirm,onChange:A=>m({...f,confirm:A.target.value})})]}),g&&c.jsx("div",{className:`text-xs text-center p-2 rounded ${g.includes("success")?"bg-green-50 text-green-600":"bg-red-50 text-red-500"}`,children:g}),c.jsx("button",{onClick:R,disabled:C,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-lg shadow-lg hover:bg-blue-700 transition-colors disabled:opacity-70",children:C?"Updating...":"Update Password"})]})})};if(n!=="MAIN")return c.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen pb-24 font-sans",children:[n==="QUOTA_HISTORY"&&c.jsxs(c.Fragment,{children:[" ",z("Quota History")," ",w(a,"No quota purchases found.")," "]}),n==="DEPOSIT_HISTORY"&&c.jsxs(c.Fragment,{children:[" ",z("Deposit History")," ",w(a,"No USDT deposits found.")," "]}),n==="WITHDRAW_HISTORY"&&c.jsxs(c.Fragment,{children:[" ",z("Withdrawal History")," ",w(a,"No withdrawals found.")," "]}),n==="SUPPORT"&&c.jsxs(c.Fragment,{children:[z("Support Center"),c.jsx("div",{className:"px-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[c.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/4961/4961759.png",alt:"Support",className:"w-24 h-24 mx-auto mb-4 opacity-80"}),c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"How can we help?"}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Our team is available 24/7 to assist you with any issues."}),c.jsxs("button",{className:"w-full bg-green-500 text-white font-bold py-3 rounded-lg shadow hover:bg-green-600 flex items-center justify-center gap-2 mb-3",children:[c.jsx("i",{className:"fab fa-whatsapp text-xl"})," Chat on WhatsApp"]}),c.jsxs("button",{className:"w-full bg-blue-500 text-white font-bold py-3 rounded-lg shadow hover:bg-blue-600 flex items-center justify-center gap-2",children:[c.jsx("i",{className:"fab fa-telegram text-xl"})," Chat on Telegram"]})]})})]}),n==="CHANGE_PASSWORD"&&c.jsxs(c.Fragment,{children:[" ",z("Change Password")," ",x()," "]}),n==="VERSION"&&c.jsxs(c.Fragment,{children:[z("Version Update"),c.jsxs("div",{className:"px-4 text-center mt-12",children:[c.jsx("div",{className:"w-24 h-24 bg-white rounded-2xl shadow-sm mx-auto flex items-center justify-center mb-6",children:c.jsx("span",{className:"material-icons-round text-5xl text-blue-600",children:"system_update"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:"UMoney App"}),c.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Current Version 1.0.0 (Beta)"}),c.jsx("div",{className:"bg-blue-50 text-blue-700 p-4 rounded-xl text-sm font-medium mb-8 mx-auto max-w-xs",children:"You are using the latest version."}),c.jsx("button",{className:"px-8 py-3 bg-white border border-gray-200 text-gray-600 rounded-lg text-sm font-semibold shadow-sm hover:bg-gray-50",children:"Check for Updates"})]})]})]});const S=async()=>{var R;if(e){_(!0);try{await Ng(e.uid,e.email||""),window.location.reload()}catch(A){console.error("Failed to create profile",A);let G="Failed to recover profile.";A.code==="permission-denied"||(R=A.message)!=null&&R.includes("permission")?G="Permission denied. Please check Firestore security rules. See FIRESTORE_SETUP.md for instructions.":A.message&&(G=`Error: ${A.message}`),alert(G)}finally{_(!1)}}};if(!t)return c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center bg-[#f3f4f6]",children:[c.jsx("span",{className:"material-icons-round text-6xl text-gray-300 mb-4",children:"account_circle"}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Profile Not Found"}),c.jsx("p",{className:"text-gray-500 mb-8 max-w-sm",children:"We couldn't load your user profile. Click the button below to create your profile and access all features."}),c.jsx("button",{onClick:S,disabled:O,className:"bg-blue-600 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Creating Profile...":"Create Profile Now"})]});const E=[{icon:"description",label:"Quota History",bg:"bg-purple-50",text:"text-purple-600",action:()=>U("QUOTA_HISTORY")},{icon:"move_to_inbox",label:"Deposit History",bg:"bg-green-50",text:"text-green-600",action:()=>U("DEPOSIT_HISTORY")},{icon:"upload",label:"Withdrawal History",bg:"bg-red-50",text:"text-red-600",action:()=>U("WITHDRAW_HISTORY")},{icon:"help_outline",label:"Support Center",bg:"bg-orange-50",text:"text-orange-600",action:()=>U("SUPPORT")},{icon:"lock",label:"Change Password",bg:"bg-blue-50",text:"text-blue-600",action:()=>U("CHANGE_PASSWORD")},{icon:"system_update",label:"Version Update",bg:"bg-sky-50",text:"text-sky-600",action:()=>U("VERSION")},{icon:"logout",label:"Logout",bg:"bg-rose-50",text:"text-rose-600",action:()=>r(!0)}];return c.jsxs("div",{className:"bg-[#f3f4f6] min-h-screen pb-24 font-sans",children:[c.jsxs("div",{className:"bg-assets-primary pt-12 pb-6 px-5 rounded-b-[2rem] shadow-lg relative z-10",children:[c.jsx("div",{className:"text-center mb-6",children:c.jsx("h1",{className:"text-white text-lg font-medium tracking-wide",children:"Assets"})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"relative",children:c.jsx("div",{className:"w-14 h-14 rounded-full bg-yellow-100 border-2 border-yellow-300 overflow-hidden flex items-center justify-center",children:c.jsx("img",{alt:"User Avatar",className:"w-full h-full object-cover",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDGYEaYgs7vLQ6u5zH4n8cX8fcDukR-VLVoTKr3Xav3OQtz5VyrIDTXfEK-MsG3uH7w3h1LX9DfED9pufWvMx5FL4tiZXnkww0YCfccgG__iAZWZakbUkKiV4ZPjVdYDYsSMo5Sp-0vEk6pLcdweXg1rZKHuslNWRJI1Gg8YdYly2zFMWYbX9f6DTzXCYJnFqz0bdvwpL7VXBkR_-IWeFnx4K4YC0zKVUg_82rfo-OkYRtdOWMvISjWeGPjIeea2pt1Ky0CzN7wbl2R"})})}),c.jsxs("div",{className:"text-white",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx("span",{className:"text-lg font-semibold tracking-wide",children:(t==null?void 0:t.phone)||((N=t==null?void 0:t.email)==null?void 0:N.split("@")[0])||"User"}),c.jsx("button",{className:"opacity-80 hover:opacity-100 transition-opacity",children:c.jsx("span",{className:"material-icons-round text-sm",children:"content_copy"})})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm opacity-90",children:[c.jsxs("span",{children:["ID: ",t==null?void 0:t.referralCode]}),c.jsx("button",{className:"opacity-80 hover:opacity-100 transition-opacity",children:c.jsx("span",{className:"material-icons-round text-xs",children:"content_copy"})})]})]})]}),c.jsx("div",{className:"bg-white px-3 py-1 rounded-full shadow-sm",children:c.jsx("span",{className:"text-assets-primary text-xs font-bold",children:"Reward Ratio: 3"})})]})]}),c.jsxs("div",{className:"px-4 -mt-4 relative z-20 space-y-4",children:[c.jsxs("div",{className:"bg-assets-primary text-white rounded-2xl shadow-lg p-6 flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-baseline space-x-1",children:[c.jsx("span",{className:"text-xl font-medium",children:""}),c.jsx("span",{className:"text-2xl font-bold",children:(t==null?void 0:t.inrBalance.toFixed(2))||"0.00"})]}),c.jsx("div",{className:"text-sm opacity-80 mt-1 font-light",children:"Quota"})]}),c.jsx("div",{className:"w-px h-10 bg-white/20 mx-4"}),c.jsxs("div",{className:"flex-1 pl-4",children:[c.jsx("div",{className:"text-2xl font-bold",children:"0.00"}),c.jsx("div",{className:"text-sm opacity-80 mt-1 font-light",children:"Today's Earning"})]})]}),c.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden mb-6",children:E.map((R,A)=>c.jsxs("button",{onClick:G=>{G.preventDefault(),R.action()},className:"flex w-full items-center justify-between p-4 border-b border-gray-50 last:border-none hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-xl ${R.bg} flex items-center justify-center ${R.text}`,children:c.jsx("span",{className:"material-icons-round text-xl",children:R.icon})}),c.jsx("span",{className:"text-gray-700 font-semibold text-sm",children:R.label})]}),c.jsx("span",{className:"material-icons-round text-gray-300 text-xl",children:"chevron_right"})]},A))})]}),i&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:c.jsxs("div",{className:"bg-white w-full max-w-xs rounded-2xl p-6 shadow-2xl slide-up text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("span",{className:"material-icons-round text-3xl text-red-600",children:"logout"})}),c.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Sign Out?"}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Are you sure you want to log out of your account?"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>r(!1),className:"flex-1 py-2.5 bg-gray-100 text-gray-700 rounded-lg font-semibold text-sm hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:()=>zu(),className:"flex-1 py-2.5 bg-red-600 text-white rounded-lg font-semibold text-sm hover:bg-red-700 transition-colors shadow-lg",children:"Log Out"})]})]})})]})},X6=()=>{const{systemSettings:t}=xi(),[e,n]=I.useState("DASHBOARD"),[s,i]=I.useState([]),[r,a]=I.useState([]),[o,u]=I.useState(!1),[h,f]=I.useState({totalUsers:0,pendingDep:0,pendingWd:0,totalDep:0}),[m,g]=I.useState({usdtRate:0,maintenanceMode:!1,adminUpi:"",adminQrCode:"",usdtTrc20Address:"",usdtQrCode:"",inrPaymentEnabled:!0,usdtPaymentEnabled:!0,adminEmail:"",adminPassword:""}),[y,C]=I.useState(""),[D,O]=I.useState("");I.useEffect(()=>{_(),t&&g(t)},[t,e]);const _=async()=>{u(!0);try{const[E,N]=await Promise.all([C6(),R6()]);i(E),a(N);const R=N.filter(Ee=>Ee.status==="PENDING"&&Ee.type.includes("DEPOSIT")).length,A=N.filter(Ee=>Ee.status==="PENDING"&&Ee.type==="WITHDRAW").length,G=N.filter(Ee=>Ee.status==="APPROVED"&&Ee.type.includes("DEPOSIT")).reduce((Ee,H)=>Ee+(H.amountInr||H.amount),0);f({totalUsers:E.length,pendingDep:R,pendingWd:A,totalDep:G})}catch(E){console.error(E)}u(!1)},b=async(E,N)=>{if(confirm(`Are you sure you want to ${N} this transaction?`))try{await I6(E,N),alert(`Transaction ${N}D successfully!`),_()}catch(R){console.error("Processing error:",R),alert(`Failed to ${N} transaction: ${R.message}`)}},T=async(E,N)=>{const R=N===-1?-1:N*24*60*60;await D6(E,R),_()},j=async()=>{await V_(m),alert("System Settings Updated!")},U=()=>c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[c.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase",children:"Total Users"}),c.jsx("p",{className:"text-2xl font-bold text-gray-800",children:h.totalUsers})]}),c.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[c.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase",children:"Pending Deposits"}),c.jsx("p",{className:"text-2xl font-bold text-orange-500",children:h.pendingDep})]}),c.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[c.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase",children:"Pending Withdrawals"}),c.jsx("p",{className:"text-2xl font-bold text-red-500",children:h.pendingWd})]}),c.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[c.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase",children:"Total Deposit Value"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",h.totalDep.toLocaleString()]})]})]}),z=E=>{const N=r.filter(R=>E==="DEPOSIT"?R.type.includes("DEPOSIT"):R.type==="WITHDRAW");return c.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4",children:"Date"}),c.jsx("th",{className:"p-4",children:"User"}),c.jsx("th",{className:"p-4",children:"Amount"}),c.jsx("th",{className:"p-4",children:"Method/UTR"}),c.jsx("th",{className:"p-4",children:"Status"}),c.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:N.map(R=>{var G;const A=s.find(Ee=>Ee.uid===R.userId);return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"p-4 text-gray-500 text-xs",children:(G=R.date)!=null&&G.seconds?new Date(R.date.seconds*1e3).toLocaleString():"Just now"}),c.jsxs("td",{className:"p-4",children:[c.jsx("div",{className:"font-medium text-gray-900",children:(A==null?void 0:A.email)||R.userId}),c.jsx("div",{className:"text-xs text-gray-400",children:(A==null?void 0:A.phone)||"No phone"})]}),c.jsxs("td",{className:"p-4 font-bold",children:[E==="WITHDRAW"?c.jsx("span",{className:"text-red-600",children:"-"}):c.jsx("span",{className:"text-green-600",children:"+"}),R.amountInr?`${R.amountInr}`:`${R.amount} ${R.type.includes("USDT")?"USDT":"INR"}`]}),c.jsxs("td",{className:"p-4 text-xs font-mono text-gray-500",children:[R.type,c.jsx("br",{}),R.utr||"N/A"]}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${R.status==="APPROVED"?"bg-green-100 text-green-700":R.status==="REJECTED"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:R.status})}),c.jsx("td",{className:"p-4 text-right space-x-2",children:R.status==="PENDING"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>b(R.id,"APPROVE"),className:"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 text-xs font-bold",children:"Approve"}),c.jsx("button",{onClick:()=>b(R.id,"REJECT"),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-xs font-bold",children:"Reject"})]})})]},R.id)})})]})})})},w=()=>c.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4",children:"User"}),c.jsx("th",{className:"p-4",children:"Balance"}),c.jsx("th",{className:"p-4",children:"Location (IP)"}),c.jsx("th",{className:"p-4",children:"Status"}),c.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-50",children:s.map(E=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"p-4",children:[c.jsx("div",{className:"font-bold text-gray-900",children:E.email}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Code: ",E.referralCode]})]}),c.jsxs("td",{className:"p-4",children:[c.jsxs("div",{className:"text-green-600 font-medium",children:["",E.inrBalance.toFixed(2)]}),c.jsxs("div",{className:"text-blue-600 text-xs",children:[E.usdtBalance.toFixed(2)," USDT"]})]}),c.jsx("td",{className:"p-4 text-xs",children:E.lastLocation?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"font-semibold",children:[E.lastLocation.city,", ",E.lastLocation.country]}),c.jsx("div",{className:"text-gray-400",children:E.lastLocation.ip})]}):"Unknown"}),c.jsx("td",{className:"p-4",children:E.isBanned?c.jsx("span",{className:"text-red-600 font-bold bg-red-50 px-2 py-1 rounded",children:"BANNED"}):c.jsx("span",{className:"text-green-600 font-bold bg-green-50 px-2 py-1 rounded",children:"ACTIVE"})}),c.jsx("td",{className:"p-4 text-right space-x-1",children:E.isBanned?c.jsx("button",{onClick:()=>j6(E.uid).then(_),className:"bg-gray-500 text-white px-3 py-1 rounded text-xs",children:"Unban"}):c.jsxs("div",{className:"flex justify-end gap-1",children:[c.jsx("button",{onClick:()=>T(E.uid,1),className:"bg-red-100 text-red-600 px-2 py-1 rounded text-xs hover:bg-red-200",children:"1 Day"}),c.jsx("button",{onClick:()=>T(E.uid,-1),className:"bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700",children:"Perm"})]})})]},E.uid))})]})}),x=async()=>{if(confirm(" WARNING: This will clear ALL transactions (deposits, withdrawals). Users will NOT be affected. Are you absolutely sure?")&&confirm("This action cannot be undone. Type your mouse to confirm."))try{const E=await O6();alert(`Successfully cleared ${E.clearedCount} transactions!`),_()}catch(E){console.error("Clear data error:",E),alert("Failed to clear data: "+E.message)}},S=()=>c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"System Configuration"}),c.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-800 block",children:"Maintenance Mode"}),c.jsx("span",{className:"text-xs text-gray-500",children:"When active, users cannot access the app."})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:m.maintenanceMode,onChange:E=>g({...m,maintenanceMode:E.target.checked}),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),c.jsx("div",{className:"space-y-4 mb-6",children:c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Global USDT Rate (INR)"}),c.jsx("input",{type:"number",value:m.usdtRate,onChange:E=>g({...m,usdtRate:parseFloat(E.target.value)}),className:"w-full border-gray-300 rounded-lg"})]})}),c.jsxs("div",{className:"border-t pt-6 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("span",{className:"material-icons-round text-green-600",children:"currency_rupee"}),c.jsx("h4",{className:"text-md font-bold text-gray-800",children:"INR Deposit Settings"}),c.jsx("span",{className:"bg-green-100 text-green-700 text-xs font-bold px-2 py-0.5 rounded",children:"For INR Deposits"})]}),c.jsxs("div",{className:"space-y-4 bg-green-50 p-4 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Admin UPI ID (Deposit)"}),c.jsx("input",{type:"text",value:m.adminUpi,onChange:E=>g({...m,adminUpi:E.target.value}),className:"w-full border-gray-300 rounded-lg",placeholder:"example@upi"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"QR Code Data/URL"}),c.jsx("input",{type:"text",value:m.adminQrCode,onChange:E=>g({...m,adminQrCode:E.target.value}),className:"w-full border-gray-300 rounded-lg",placeholder:"https://..."}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Direct image URL or QR generator URL for INR payments"})]})]})]}),c.jsxs("div",{className:"border-t pt-6 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("span",{className:"material-icons-round text-blue-600",children:"currency_bitcoin"}),c.jsx("h4",{className:"text-md font-bold text-gray-800",children:"USDT Deposit Settings"}),c.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs font-bold px-2 py-0.5 rounded",children:"For USDT Deposits"})]}),c.jsxs("div",{className:"space-y-4 bg-blue-50 p-4 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"TRC20 Address (TRON)"}),c.jsx("input",{type:"text",value:m.usdtTrc20Address,onChange:E=>g({...m,usdtTrc20Address:E.target.value}),className:"w-full border-gray-300 rounded-lg font-mono text-sm",placeholder:"T..."}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your TRON TRC20 wallet address for receiving USDT"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"USDT QR Code URL (Optional)"}),c.jsx("input",{type:"text",value:m.usdtQrCode,onChange:E=>g({...m,usdtQrCode:E.target.value}),className:"w-full border-gray-300 rounded-lg",placeholder:"https://..."}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to auto-generate from TRC20 address"})]})]})]}),c.jsx("div",{className:"mt-6",children:c.jsx("button",{onClick:j,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700",children:"Save System Settings"})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border-2 border-purple-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("span",{className:"material-icons-round text-purple-600",children:"admin_panel_settings"}),c.jsx("h3",{className:"text-lg font-bold text-purple-700",children:"Admin Account"})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Update admin login credentials. After changing, you will need to log in with new credentials."}),c.jsxs("div",{className:"space-y-4 bg-purple-50 p-4 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Admin Email"}),c.jsx("input",{type:"email",value:m.adminEmail,onChange:E=>g({...m,adminEmail:E.target.value}),className:"w-full border-gray-300 rounded-lg",placeholder:"admin@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"New Password"}),c.jsx("input",{type:"password",value:y,onChange:E=>C(E.target.value),className:"w-full border-gray-300 rounded-lg",placeholder:"Enter new password"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Confirm Password"}),c.jsx("input",{type:"password",value:D,onChange:E=>O(E.target.value),className:"w-full border-gray-300 rounded-lg",placeholder:"Confirm new password"})]}),c.jsxs("button",{onClick:async()=>{if(y&&y!==D){alert("Passwords do not match!");return}const E={adminEmail:m.adminEmail};y&&(E.adminPassword=y),await V_(E),alert("Admin credentials updated! Please log out and log in with new credentials."),C(""),O("")},className:"w-full bg-purple-600 text-white font-bold py-3 rounded-lg hover:bg-purple-700 flex items-center justify-center gap-2",children:[c.jsx("span",{className:"material-icons-round text-sm",children:"save"}),"Update Admin Credentials"]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border-2 border-red-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("span",{className:"material-icons-round text-red-600",children:"warning"}),c.jsx("h3",{className:"text-lg font-bold text-red-700",children:"Danger Zone"})]}),c.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Clear all admin panel data including deposit requests, withdrawal requests, and transaction history.",c.jsx("strong",{className:"text-red-600",children:" User accounts will NOT be deleted."})]}),c.jsxs("button",{onClick:x,className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 flex items-center justify-center gap-2",children:[c.jsx("span",{className:"material-icons-round text-sm",children:"delete_forever"}),"Clear All Transaction Data"]})]})]});return c.jsxs("div",{className:"min-h-screen flex bg-gray-100 font-sans",children:[c.jsxs("div",{className:"w-64 bg-slate-900 text-white flex-shrink-0 hidden md:block",children:[c.jsxs("div",{className:"p-6",children:[c.jsx("h1",{className:"text-xl font-bold tracking-wider",children:"ADMIN PANEL"}),c.jsx("p",{className:"text-xs text-slate-400",children:"UMoney Management"})]}),c.jsx("nav",{className:"px-2 space-y-1",children:[{id:"DASHBOARD",icon:"dashboard",label:"Overview"},{id:"DEPOSITS",icon:"payments",label:"Deposits (INR)"},{id:"WITHDRAWALS",icon:"account_balance_wallet",label:"Withdrawals"},{id:"USERS",icon:"people",label:"User Management"},{id:"SETTINGS",icon:"settings",label:"System Settings"}].map(E=>c.jsxs("button",{onClick:()=>n(E.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${e===E.id?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-800"}`,children:[c.jsx("span",{className:"material-icons-round",children:E.icon}),c.jsx("span",{className:"font-medium",children:E.label})]},E.id))}),c.jsx("div",{className:"p-4 mt-auto",children:c.jsxs("button",{onClick:()=>zu(),className:"w-full flex items-center justify-center space-x-2 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg text-sm font-bold",children:[c.jsx("span",{className:"material-icons-round text-sm",children:"logout"}),c.jsx("span",{children:"Sign Out"})]})})]}),c.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[c.jsxs("header",{className:"bg-white shadow-sm z-10 p-4 flex justify-between md:hidden",children:[c.jsx("span",{className:"font-bold",children:"Admin Panel"}),c.jsx("button",{onClick:()=>zu(),className:"text-red-600 font-bold text-sm",children:"Logout"})]}),c.jsx("div",{className:"md:hidden flex overflow-x-auto bg-slate-900 text-white p-2 gap-2",children:["DASHBOARD","DEPOSITS","WITHDRAWALS","USERS","SETTINGS"].map(E=>c.jsx("button",{onClick:()=>n(E),className:`px-3 py-1 rounded text-xs ${e===E?"bg-blue-600":"bg-slate-800"}`,children:E},E))}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 capitalize",children:e.replace("_"," ").toLowerCase()}),c.jsx("button",{onClick:_,className:"p-2 bg-white rounded-full shadow-sm hover:bg-gray-50",children:c.jsx("span",{className:`material-icons-round text-blue-600 ${o?"animate-spin":""}`,children:"refresh"})})]}),e==="DASHBOARD"&&U(),e==="DEPOSITS"&&z("DEPOSIT"),e==="WITHDRAWALS"&&z("WITHDRAW"),e==="USERS"&&w(),e==="SETTINGS"&&S()]})]})]})},W6=()=>{const{userProfile:t}=xi(),e=lr(),[n,s]=I.useState({accountHolder:"",bankName:"",accountNumber:"",ifscCode:""}),[i,r]=I.useState(""),[a,o]=I.useState(!1),[u,h]=I.useState(""),[f,m]=I.useState(!1),g=(t==null?void 0:t.inrBalance)||0,y=100,C=5e4,D=[100,500,1e3,2e3,5e3,1e4],O=async _=>{if(_.preventDefault(),h(""),!t){h("You must be logged in to make a withdrawal.");return}const b=parseFloat(i);if(!b||b<=0){h("Please enter a valid amount.");return}if(b<y){h(`Minimum withdrawal is ${y}`);return}if(b>C){h(`Maximum withdrawal is ${C}`);return}if(b>g){h("Insufficient balance in your wallet.");return}if(!n.accountHolder||!n.bankName||!n.accountNumber||!n.ifscCode){h("Please fill in all bank details.");return}o(!0);try{const T={userId:t.uid,type:"WITHDRAW",amount:b,status:"PENDING",date:null,description:`Withdrawal to ${n.bankName} - ${n.accountNumber.slice(-4)}`,bankDetails:n};await xm(T),m(!0),r(""),s({accountHolder:"",bankName:"",accountNumber:"",ifscCode:""})}catch(T){console.error("Withdrawal error:",T),h("Error processing withdrawal. Please try again.")}finally{o(!1)}};return t?c.jsxs("div",{className:"min-h-screen bg-[#f3f4f8] font-sans pb-24",children:[c.jsxs("header",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 pt-12 pb-8 px-5 rounded-b-[2rem] shadow-lg",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("button",{onClick:()=>e(-1),className:"mr-4 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:c.jsx("span",{className:"material-icons-round text-white",children:"arrow_back"})}),c.jsx("h1",{className:"text-white text-xl font-bold tracking-wide",children:"Withdraw Funds"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-5 border border-white/20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide mb-1",children:"Available Balance"}),c.jsxs("p",{className:"text-white text-3xl font-bold",children:["",g.toFixed(2)]})]}),c.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"material-icons-round text-white text-2xl",children:"account_balance_wallet"})})]}),c.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-white/10 text-xs text-white/70",children:[c.jsxs("span",{children:["Min: ",y]}),c.jsx("span",{children:""}),c.jsxs("span",{children:["Max: ",C]}),c.jsx("span",{children:""}),c.jsx("span",{children:"Fee: 0%"})]})]})]}),c.jsxs("main",{className:"px-4 -mt-4",children:[u&&c.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl mb-4 flex items-center gap-2 animate-shake",children:[c.jsx("span",{className:"material-icons-round text-sm",children:"error"}),c.jsx("span",{className:"text-sm font-medium",children:u})]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-5 mb-4",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-3",children:"Withdrawal Amount"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-gray-400",children:""}),c.jsx("input",{type:"number",value:i,onChange:_=>r(_.target.value),className:"w-full bg-gray-50 border-2 border-gray-100 rounded-xl py-4 pl-12 pr-4 text-2xl font-bold text-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"0.00"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[D.map(_=>c.jsxs("button",{onClick:()=>r(_.toString()),disabled:_>g,className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${parseFloat(i)===_?"bg-blue-600 text-white shadow-md":_>g?"bg-gray-100 text-gray-300 cursor-not-allowed":"bg-gray-100 text-gray-600 hover:bg-blue-50 hover:text-blue-600"}`,children:["",_.toLocaleString()]},_)),c.jsx("button",{onClick:()=>r(g.toString()),disabled:g<y,className:"px-4 py-2 rounded-lg text-sm font-bold bg-gradient-to-r from-blue-500 to-indigo-600 text-white hover:shadow-md transition-all disabled:opacity-50",children:"MAX"})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-5 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("span",{className:"material-icons-round text-blue-600",children:"account_balance"}),c.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Bank Account Details"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Account Holder Name"}),c.jsx("input",{type:"text",value:n.accountHolder,onChange:_=>s({...n,accountHolder:_.target.value}),className:"w-full bg-gray-50 border-2 border-gray-100 rounded-xl px-4 py-3 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Enter full name as per bank"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Bank Name"}),c.jsx("input",{type:"text",value:n.bankName,onChange:_=>s({...n,bankName:_.target.value}),className:"w-full bg-gray-50 border-2 border-gray-100 rounded-xl px-4 py-3 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"e.g. State Bank of India"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"Account Number"}),c.jsx("input",{type:"text",value:n.accountNumber,onChange:_=>s({...n,accountNumber:_.target.value}),className:"w-full bg-gray-50 border-2 border-gray-100 rounded-xl px-4 py-3 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all",placeholder:"Account number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2",children:"IFSC Code"}),c.jsx("input",{type:"text",value:n.ifscCode,onChange:_=>s({...n,ifscCode:_.target.value.toUpperCase()}),className:"w-full bg-gray-50 border-2 border-gray-100 rounded-xl px-4 py-3 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all font-mono",placeholder:"SBIN0001234"})]})]})]})]}),c.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-2xl p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"material-icons-round text-amber-500 mt-0.5",children:"info"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold text-amber-800 mb-1",children:"Processing Time"}),c.jsx("p",{className:"text-xs text-amber-700 leading-relaxed",children:"Withdrawal requests are processed within 24-48 hours after admin approval. Ensure your bank details are correct to avoid delays."})]})]})}),c.jsx("button",{onClick:O,disabled:a||!i||parseFloat(i)<=0,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white font-bold py-4 rounded-2xl shadow-lg hover:shadow-xl transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Processing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"material-icons-round",children:"send"}),c.jsx("span",{children:"Submit Withdrawal Request"})]})})]}),f&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:c.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl p-8 shadow-2xl text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("span",{className:"material-icons-round text-4xl text-green-600",children:"check_circle"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Request Submitted!"}),c.jsx("p",{className:"text-gray-500 mb-6 leading-relaxed",children:"Your withdrawal request has been submitted successfully. Admin will review and process it within 24-48 hours."}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 text-left",children:[c.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[c.jsx("span",{className:"text-gray-500",children:"Amount"}),c.jsxs("span",{className:"font-bold text-gray-800",children:["",parseFloat(i||0).toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Status"}),c.jsx("span",{className:"text-orange-500 font-bold",children:"Pending Approval"})]})]}),c.jsx("button",{onClick:()=>{m(!1),e("/")},className:"w-full py-3.5 bg-blue-600 text-white rounded-xl font-bold shadow-lg hover:bg-blue-700 transition-colors",children:"Done"})]})})]}):c.jsx("div",{className:"min-h-screen bg-[#f3f4f8] flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin inline-block mb-4"}),c.jsx("p",{className:"text-gray-500",children:"Loading..."})]})})},J6=()=>c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-4xl w-full bg-white rounded-2xl shadow-2xl overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-8 text-white",children:c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("span",{className:"material-icons-round text-5xl mr-4",children:"settings"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Firebase Setup Required"}),c.jsx("p",{className:"text-blue-100 mt-1",children:"Configure your Firebase project to get started"})]})]})}),c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3",children:"1"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Create Firebase Project"})]}),c.jsxs("div",{className:"ml-11 space-y-2 text-gray-600",children:[c.jsxs("p",{children:[" Go to ",c.jsx("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Firebase Console"})]}),c.jsx("p",{children:' Click "Add project" and follow the setup wizard'}),c.jsx("p",{children:' Give your project a name (e.g., "UMoney")'})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3",children:"2"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Enable Required Services"})]}),c.jsxs("div",{className:"ml-11 space-y-3",children:[c.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded",children:[c.jsx("p",{className:"font-semibold text-amber-800 mb-2",children:" Authentication"}),c.jsx("p",{className:"text-sm text-amber-700",children:'Go to Authentication  Sign-in method  Enable "Email/Password"'})]}),c.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded",children:[c.jsx("p",{className:"font-semibold text-green-800 mb-2",children:" Firestore Database"}),c.jsx("p",{className:"text-sm text-green-700",children:"Go to Firestore Database  Create database  Start in production mode"})]})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3",children:"3"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Get Configuration"})]}),c.jsxs("div",{className:"ml-11 space-y-2 text-gray-600",children:[c.jsx("p",{children:" Go to Project Settings ( icon)  General"}),c.jsx("p",{children:' Scroll to "Your apps" section'}),c.jsx("p",{children:" Click the Web icon (</>) to add a web app"}),c.jsx("p",{children:" Copy the firebaseConfig object"})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3",children:"4"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Update .env File"})]}),c.jsxs("div",{className:"ml-11",children:[c.jsxs("p",{className:"text-gray-600 mb-3",children:["Open the ",c.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm font-mono",children:".env"})," file in your project root and update with your values:"]}),c.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-sm overflow-x-auto",children:[c.jsx("div",{className:"text-gray-400",children:"# Replace these with your actual Firebase config"}),c.jsx("div",{className:"text-green-400",children:"VITE_FIREBASE_API_KEY="}),c.jsx("div",{className:"text-green-400",children:"VITE_FIREBASE_AUTH_DOMAIN="}),c.jsx("div",{className:"text-green-400",children:"VITE_FIREBASE_PROJECT_ID="}),c.jsx("div",{className:"text-green-400",children:"VITE_FIREBASE_STORAGE_BUCKET="}),c.jsx("div",{className:"text-green-400",children:"VITE_FIREBASE_MESSAGING_SENDER_ID="}),c.jsx("div",{className:"text-green-400",children:"VITE_FIREBASE_APP_ID="})]})]})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("span",{className:"material-icons-round text-blue-600 mr-3",children:"info"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"After Configuration"}),c.jsx("p",{className:"text-blue-800 text-sm",children:"Save the .env file and the development server will automatically reload. The white screen will be replaced with the login page."})]})]})})]}),c.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:["Need help? Check the ",c.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded text-xs",children:"README.md"})," file"]}),c.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:[c.jsx("span",{className:"material-icons-round text-sm",children:"refresh"}),"Reload Page"]})]})})]})});class Z6 extends Q_.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n),this.state={hasError:!0,error:e,errorInfo:n}}render(){var e;if(this.state.hasError){const n=((e=this.state.error)==null?void 0:e.toString())||"";return n.includes("Firebase")||n.includes("auth")||n.includes("firestore")||n.includes("apiKey")||!1||!1?c.jsx(J6,{}):c.jsx("div",{className:"min-h-screen bg-brand-bg flex flex-col items-center justify-center p-6",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-2xl w-full",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("span",{className:"material-icons-round text-5xl text-red-500 mr-4",children:"error"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Application Error"})]}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-4 mb-4",children:[c.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Error Details:"}),c.jsx("pre",{className:"text-sm text-red-700 overflow-auto whitespace-pre-wrap",children:this.state.error&&this.state.error.toString()})]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Reload Application"})]})})}return this.props.children}}const eM=()=>{const e=Un().pathname.split("/")[1]||"home";return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"pb-20",children:c.jsx(oC,{})}),c.jsx(P6,{currentTab:e})]})},tM=()=>{const{currentUser:t,loading:e,isAdmin:n,systemSettings:s}=xi(),[i,r]=I.useState({todayDeposit:0,totalDeposit:0,totalCommission:0,commissionYesterday:0,teamCount:0,commissionToday:0,todayNewTeam:0}),[a,o]=I.useState([]);return I.useEffect(()=>{t&&!n&&(async()=>{if(!(!t||n))try{const h=await M6(t.uid);r(h.stats),o(h.members)}catch(h){console.error("Error fetching team data",h)}})()},[t,n]),e?c.jsx("div",{className:"flex h-screen items-center justify-center bg-[#f3f4f8]",children:"Loading..."}):s!=null&&s.maintenanceMode&&!n?c.jsxs("div",{className:"min-h-screen bg-brand-bg flex flex-col items-center justify-center p-6 text-center",children:[c.jsx("span",{className:"material-icons-round text-6xl text-orange-500 mb-4",children:"engineering"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Under Maintenance"}),c.jsx("p",{className:"text-gray-600",children:"We are currently upgrading our systems. Please check back later."})]}):c.jsx(uC,{children:t?n?c.jsx(kt,{path:"*",element:c.jsx(X6,{})}):c.jsxs(kt,{element:c.jsx(eM,{}),children:[c.jsx(kt,{index:!0,element:c.jsx(Pd,{to:"/home"})}),c.jsx(kt,{path:"home",element:c.jsx(G6,{})}),c.jsx(kt,{path:"deposit",element:c.jsx(Y6,{})}),c.jsx(kt,{path:"tool",element:c.jsx(K6,{})}),c.jsx(kt,{path:"teams",element:c.jsx(F6,{stats:i,members:a})}),c.jsx(kt,{path:"assets",element:c.jsx($6,{})}),c.jsx(kt,{path:"withdraw",element:c.jsx(W6,{})}),c.jsx(kt,{path:"*",element:c.jsx(Pd,{to:"/home"})})]}):c.jsxs(c.Fragment,{children:[c.jsx(kt,{path:"/login",element:c.jsx(k6,{})}),c.jsx(kt,{path:"*",element:c.jsx(Pd,{to:"/login"})})]})})},nM=()=>c.jsx(Z6,{children:c.jsx(VC,{children:c.jsx(V6,{children:c.jsx(tM,{})})})}),PS=document.getElementById("root");if(!PS)throw new Error("Could not find root element to mount to");const sM=uR.createRoot(PS);sM.render(c.jsx(Q_.StrictMode,{children:c.jsx(nM,{})}));
